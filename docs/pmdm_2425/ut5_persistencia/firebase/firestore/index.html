<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-pmdm_2425/ut5_persistencia/firebase/firestore/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Firestore Database | DevTacora</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://acamarac02.github.io/DevTacora/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://acamarac02.github.io/DevTacora/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Firestore Database | DevTacora"><meta data-rh="true" name="description" content="En este tutorial, aprenderemos a usar Firebase Firestore en una aplicaciÃ³n Android, cubriendo desde la configuraciÃ³n inicial hasta consultas avanzadas."><meta data-rh="true" property="og:description" content="En este tutorial, aprenderemos a usar Firebase Firestore en una aplicaciÃ³n Android, cubriendo desde la configuraciÃ³n inicial hasta consultas avanzadas."><link data-rh="true" rel="icon" href="/DevTacora/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"><link data-rh="true" rel="alternate" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/" hreflang="es"><link data-rh="true" rel="alternate" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"UT5. Persistencia de datos","item":"https://acamarac02.github.io/DevTacora/docs/category/ut5-persistencia-de-datos"},{"@type":"ListItem","position":2,"name":"Firebase","item":"https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/"},{"@type":"ListItem","position":3,"name":"Firestore Database","item":"https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"}]}</script><link rel="alternate" type="application/rss+xml" href="/DevTacora/blog/rss.xml" title="DevTacora RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/DevTacora/blog/atom.xml" title="DevTacora Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WCKN9ZY1F"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WCKN9ZY1F",{anonymize_ip:!0})</script><link rel="stylesheet" href="/DevTacora/assets/css/styles.62bea0f4.css">
<script src="/DevTacora/assets/js/runtime~main.6e140c8a.js" defer="defer"></script>
<script src="/DevTacora/assets/js/main.cfcb0d12.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DevTacora/"><div class="navbar__logo"><img src="/DevTacora/img/devtacora_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/DevTacora/img/devtacora_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DevTacora</b></a><a class="navbar__item navbar__link" href="/DevTacora/docs/pia_2526/">PIA</a><a class="navbar__item navbar__link" href="/DevTacora/docs/pmdm_2526/">PMDM</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/DevTacora/docs/licencia">Licencia</a><a href="https://www.linkedin.com/in/aliciacamcas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Cambiar entre modo oscuro y claro (actualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/DevTacora/docs/category/ut5-persistencia-de-datos">UT5. Persistencia de datos</a><button aria-label="Colapsar categorÃ­a &#x27;UT5. Persistencia de datos&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/introduccion">IntroducciÃ³n</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/room/">Room</a><button aria-label="Ampliar la categorÃ­a &#x27;Room&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/shared-preferences">Shared preferences</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/">Firebase</a><button aria-label="Colapsar categorÃ­a &#x27;Firebase&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/">Firebase Authentication</a><button aria-label="Ampliar la categorÃ­a &#x27;Firebase Authentication&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/">Firestore Database</a><button aria-label="Colapsar categorÃ­a &#x27;Firestore Database&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/configuracion-android">ConfiguraciÃ³n de Firestore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/operaciones-crud">Operaciones CRUD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/lectura-tiempo-real">Lectura en Tiempo Real</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/gestion-subcolecciones">GestiÃ³n de Subcolecciones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/demo-tablon-anuncios">Demo TablÃ³n de Anuncios</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/supabase-storage/">Supabase Storage</a><button aria-label="Ampliar la categorÃ­a &#x27;Supabase Storage&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Rastro de navegaciÃ³n"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="PÃ¡gina de Inicio" class="breadcrumbs__link" href="/DevTacora/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/DevTacora/docs/category/ut5-persistencia-de-datos"><span>UT5. Persistencia de datos</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/"><span>Firebase</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Firestore Database</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta pÃ¡gina</button></div><div class="theme-doc-markdown markdown"><div class="justify-text"><header><h1>Firestore Database</h1></header><p>En este tutorial, aprenderemos a usar <strong>Firebase Firestore</strong> en una aplicaciÃ³n Android, cubriendo desde la configuraciÃ³n inicial hasta consultas avanzadas.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bases-de-datos-en-firebase">Bases de datos en Firebase<a href="#bases-de-datos-en-firebase" class="hash-link" aria-label="Enlace directo al Bases de datos en Firebase" title="Enlace directo al Bases de datos en Firebase">â€‹</a></h2><p>Firebase ofrece dos opciones principales de bases de datos en la nube para el desarrollo de aplicaciones mÃ³viles y web: <strong>Firestore</strong> y <strong>Realtime Database</strong>. Ambas permiten almacenar y sincronizar datos en tiempo real, pero tienen diferencias clave en su estructura, funcionamiento y casos de uso.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-firestore">ğŸ”¹ Firestore<a href="#-firestore" class="hash-link" aria-label="Enlace directo al ğŸ”¹ Firestore" title="Enlace directo al ğŸ”¹ Firestore">â€‹</a></h3><p>Firestore es una base de datos NoSQL basada en documentos y colecciones. Sus principales caracterÃ­sticas incluyen:</p><ul>
<li><strong>Estructura flexible</strong>: Los datos se almacenan en documentos dentro de colecciones, lo que facilita la organizaciÃ³n y escalabilidad.</li>
<li><strong>Consultas avanzadas</strong>: Soporta filtros, ordenaciones y combinaciones complejas sin necesidad de recuperar toda la base de datos.</li>
<li><strong>SincronizaciÃ³n en tiempo real</strong>: Aunque Firestore no estÃ¡ diseÃ±ado exclusivamente para tiempo real, permite el uso de <strong>SnapshotListener</strong> para obtener actualizaciones automÃ¡ticas.</li>
<li><strong>Escalabilidad y rendimiento</strong>: Maneja automÃ¡ticamente la indexaciÃ³n y permite consultas eficientes, ideal para grandes volÃºmenes de datos.</li>
<li><strong>Modo offline</strong>: Permite trabajar sin conexiÃ³n y sincronizar los cambios cuando el dispositivo se conecta nuevamente.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-realtime-database">ğŸ”¹ Realtime Database<a href="#-realtime-database" class="hash-link" aria-label="Enlace directo al ğŸ”¹ Realtime Database" title="Enlace directo al ğŸ”¹ Realtime Database">â€‹</a></h3><p>Realtime Database es una base de datos NoSQL estructurada en forma de Ã¡rbol JSON, diseÃ±ada especÃ­ficamente para sincronizaciÃ³n en tiempo real. Sus caracterÃ­sticas principales son:</p><ul>
<li><strong>Baja latencia</strong>: Perfecta para aplicaciones que requieren actualizaciones instantÃ¡neas, como chats en vivo o apps colaborativas.</li>
<li><strong>Estructura basada en nodos</strong>: Los datos se almacenan en un solo Ã¡rbol JSON anidado, lo que puede complicar las consultas y la organizaciÃ³n de datos.</li>
<li><strong>Escalabilidad limitada</strong>: A medida que los datos crecen, las consultas pueden volverse ineficientes y aumentar los costos.</li>
<li><strong>Modo offline</strong>: Similar a Firestore, permite trabajar sin conexiÃ³n.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-estructura-de-datos">ğŸ”¹ Estructura de datos<a href="#-estructura-de-datos" class="hash-link" aria-label="Enlace directo al ğŸ”¹ Estructura de datos" title="Enlace directo al ğŸ”¹ Estructura de datos">â€‹</a></h3><p>Para analizar mejor las diferencias en el modelo de datos de ambas bases de datos, vamos a ver un ejemplo prÃ¡ctico. Supongamos que estamos implementando una aplicaciÃ³n de redes sociales donde los usuarios pueden hacer publicaciones y comentar en ellas.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1ï¸âƒ£-datos-en-realtime-database-estructura-en-Ã¡rbol-json"><strong>1ï¸âƒ£ Datos en Realtime Database (Estructura en Ã¡rbol JSON)</strong><a href="#1ï¸âƒ£-datos-en-realtime-database-estructura-en-Ã¡rbol-json" class="hash-link" aria-label="Enlace directo al 1ï¸âƒ£-datos-en-realtime-database-estructura-en-Ã¡rbol-json" title="Enlace directo al 1ï¸âƒ£-datos-en-realtime-database-estructura-en-Ã¡rbol-json">â€‹</a></h4><p>En <strong>Realtime Database</strong>, los datos se almacenan en un solo Ã¡rbol JSON. AquÃ­ hay un ejemplo donde los datos de los usuarios, publicaciones y comentarios estÃ¡n organizados:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;users&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;user_123&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Juan PÃ©rez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;juan@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;user_456&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MarÃ­a GÃ³mez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;maria@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;posts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;post_789&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Â¡Hola, mundo!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;comments&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;comment_1&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Â¡Genial post!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>âœ… <strong>Pros de esta estructura en Realtime Database</strong>:</p><ul>
<li>Es fÃ¡cil acceder a los datos con rutas directas (<code>/posts/post_789/comments/comment_1</code>).</li>
<li>La sincronizaciÃ³n en tiempo real es sencilla y rÃ¡pida.</li>
</ul><p>âŒ <strong>Contras</strong>:</p><ul>
<li>Los datos estÃ¡n anidados, lo que puede causar problemas al escalar (cargar un post trae consigo todos sus comentarios).</li>
<li>No permite consultas avanzadas (por ejemplo, no se pueden filtrar posts por fecha sin traer todo el nodo <code>posts</code>).</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2ï¸âƒ£-datos-en-firestore-estructura-basada-en-documentos-y-colecciones"><strong>2ï¸âƒ£ Datos en Firestore (Estructura basada en documentos y colecciones)</strong><a href="#2ï¸âƒ£-datos-en-firestore-estructura-basada-en-documentos-y-colecciones" class="hash-link" aria-label="Enlace directo al 2ï¸âƒ£-datos-en-firestore-estructura-basada-en-documentos-y-colecciones" title="Enlace directo al 2ï¸âƒ£-datos-en-firestore-estructura-basada-en-documentos-y-colecciones">â€‹</a></h4><p>Firestore usa una estructura jerÃ¡rquica con <strong>colecciones</strong> y <strong>documentos</strong>, lo que permite separar las relaciones y mejorar la escalabilidad. El mismo conjunto de datos en Firestore se organizarÃ­a asÃ­:</p><p>ğŸ“‚ <strong>ColecciÃ³n: users/</strong><br>
<!-- -->ğŸ“„ <code>user_123</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Juan PÃ©rez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;juan@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>ğŸ“„ <code>user_456</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MarÃ­a GÃ³mez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;maria@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>ğŸ“‚ <strong>ColecciÃ³n: posts/</strong><br>
<!-- -->ğŸ“„ <code>post_789</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Â¡Hola, mundo!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>ğŸ“‚ <strong>SubcolecciÃ³n dentro del post: posts/post_789/comments/</strong><br>
<!-- -->ğŸ“„ <code>comment_1</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Â¡Genial post!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>âœ… <strong>Pros de esta estructura en Firestore</strong>:</p><ul>
<li><strong>Escalabilidad y eficiencia</strong>: No se cargan todos los comentarios cuando se consulta un post. Se pueden traer solo los necesarios.</li>
<li><strong>Consultas avanzadas</strong>: Se pueden hacer filtros, ordenar por fecha, paginar resultados, etc.</li>
<li><strong>Estructura flexible</strong>: Se pueden agregar mÃ¡s relaciones sin modificar la estructura base.</li>
</ul><p>âŒ <strong>Contras</strong>:</p><ul>
<li>MÃ¡s escritura y lecturas separadas (por ejemplo, obtener un post y luego traer sus comentarios requiere dos consultas).</li>
<li>SincronizaciÃ³n en tiempo real menos eficiente si se compara con Realtime Database (pero sigue siendo buena con <code>SnapshotListener</code>).</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-cuadro-resumen-de-diferencias">ğŸ”¹ Cuadro resumen de diferencias<a href="#-cuadro-resumen-de-diferencias" class="hash-link" aria-label="Enlace directo al ğŸ”¹ Cuadro resumen de diferencias" title="Enlace directo al ğŸ”¹ Cuadro resumen de diferencias">â€‹</a></h3><table><thead><tr><th>CaracterÃ­stica</th><th>Firestore ğŸŸ </th><th>Realtime Database ğŸŸ¢</th></tr></thead><tbody><tr><td><strong>Estructura</strong></td><td>Basada en documentos y colecciones</td><td>Basada en un Ã¡rbol JSON</td></tr><tr><td><strong>Consultas</strong></td><td>Avanzadas, permite filtrar y ordenar por mÃºltiples campos</td><td>Limitadas, requiere cargar grandes conjuntos de datos</td></tr><tr><td><strong>Tiempo real</strong></td><td>SÃ­, pero optimizado para consultas eficientes</td><td>SÃ­, con latencia muy baja</td></tr><tr><td><strong>Escalabilidad</strong></td><td>Alta, con indexaciÃ³n automÃ¡tica</td><td>Menos escalable, puede volverse ineficiente con datos grandes</td></tr><tr><td><strong>Modo offline</strong></td><td>Compatible en Android, iOS y Web</td><td>Compatible en Android, iOS y Web</td></tr><tr><td><strong>Seguridad</strong></td><td>Reglas detalladas por documento y colecciÃ³n</td><td>Reglas basadas en nodos JSON</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-cuÃ¡l-elegir">ğŸ’¡ Â¿CuÃ¡l elegir?<a href="#-cuÃ¡l-elegir" class="hash-link" aria-label="Enlace directo al ğŸ’¡ Â¿CuÃ¡l elegir?" title="Enlace directo al ğŸ’¡ Â¿CuÃ¡l elegir?">â€‹</a></h3><ul>
<li>ğŸ”¥ <strong>Usa Firestore</strong> si necesitas consultas avanzadas, mejor escalabilidad y una estructura flexible.</li>
<li>âš¡ <strong>Usa Realtime Database</strong> si la prioridad es la sincronizaciÃ³n ultra rÃ¡pida en tiempo real y la estructura en JSON no es un problema.</li>
</ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="estructura-de-firestore">Estructura de Firestore<a href="#estructura-de-firestore" class="hash-link" aria-label="Enlace directo al Estructura de Firestore" title="Enlace directo al Estructura de Firestore">â€‹</a></h2><p>El modelo de datos de Firestore es jerÃ¡rquico, lo que permite estructurar la informaciÃ³n de manera eficiente, facilitando consultas avanzadas y manteniendo la escalabilidad.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentos-y-colecciones">Documentos y Colecciones<a href="#documentos-y-colecciones" class="hash-link" aria-label="Enlace directo al Documentos y Colecciones" title="Enlace directo al Documentos y Colecciones">â€‹</a></h3><p>Firestore organiza los datos en <strong>colecciones</strong> y <strong>documentos</strong>, en lugar de utilizar tablas como en una base de datos relacional. Ambas tienen el mismo significado que ya hemos estado en MongoDB.</p><ul>
<li><strong>ColecciÃ³n:</strong> Un conjunto de documentos similares.</li>
<li><strong>Documento:</strong> Una unidad de almacenamiento de datos en formato clave-valor dentro de una colecciÃ³n, donde las claves representan los nombres de los campos.</li>
</ul><p>ğŸ“Œ <strong>Ejemplo: Base de datos de un sistema de gestiÃ³n de pedidos</strong></p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/orders (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ customerName: &quot;Juan PÃ©rez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ total: 59.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ items: [ &quot;Pizza&quot;, &quot;Refresco&quot;, &quot;Postre&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ customerName: &quot;Ana GÃ³mez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ total: 35.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ items: [ &quot;Hamburguesa&quot;, &quot;Papas&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ orderDate: 1707551500</span><br></span></code></pre></div></div><p>En este ejemplo:<br>
<!-- -->âœ… La colecciÃ³n <strong>&quot;orders&quot;</strong> contiene mÃºltiples documentos, cada uno representando un pedido.<br>
<!-- -->âœ… Cada <strong>documento</strong> tiene campos como <code>customerName</code>, <code>total</code>, <code>status</code>, etc.<br>
<!-- -->âœ… La informaciÃ³n de cada pedido estÃ¡ encapsulada en su respectivo documento.</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subcolecciones">Subcolecciones<a href="#subcolecciones" class="hash-link" aria-label="Enlace directo al Subcolecciones" title="Enlace directo al Subcolecciones">â€‹</a></h3><p>Firestore permite organizar los datos en <strong>subcolecciones</strong>, que son colecciones dentro de un documento. Esto ayuda a estructurar mejor la informaciÃ³n y permite relaciones mÃ¡s flexibles.</p><p>ğŸ“Œ <strong>Ejemplo: GestiÃ³n de usuarios con sus pedidos</strong></p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Carlos LÃ³pez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      /orders (subcolecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;Laptop&quot;, &quot;Mouse&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;Monitor&quot;, &quot;Teclado&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;MarÃ­a GÃ³mez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-5678&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      /orders (subcolecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;AudÃ­fonos&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551600</span><br></span></code></pre></div></div><p>ğŸ“Œ <strong>ExplicaciÃ³n de la estructura:</strong></p><ul>
<li><code>/users</code> es una colecciÃ³n que almacena documentos de usuarios.</li>
<li>Cada usuario (<code>user_123</code>, <code>user_456</code>, etc.) tiene un <strong>documento</strong> con su informaciÃ³n bÃ¡sica.</li>
<li>Dentro de cada documento de usuario, hay una <strong>subcolecciÃ³n</strong> <code>/orders</code>, que almacena los pedidos del usuario.</li>
<li>Cada pedido es un <strong>documento</strong> dentro de la subcolecciÃ³n <code>/orders</code>.</li>
</ul><p>ğŸ“Œ <strong>No obstante, ten en cuenta que:</strong></p><ul>
<li><strong>Esta estructura es Ãºtil si los pedidos siempre se consultan desde el usuario</strong>.<!-- -->
<ul>
<li>Por ejemplo, si quieres obtener todos los pedidos de <code>user_123</code>, puedes hacer una consulta directa a la subcolecciÃ³n <code>/users/user_123/orders</code>.</li>
</ul>
</li>
<li><strong>No es la mejor opciÃ³n si necesitas consultar pedidos globalmente</strong>.<!-- -->
<ul>
<li>Si deseas listar <strong>todos los pedidos</strong> sin importar el usuario, tendrÃ­as que recorrer cada usuario y su subcolecciÃ³n <code>/orders</code>, lo cual no es eficiente.</li>
</ul>
</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-soluciÃ³n-alternativa-si-necesitas-consultar-pedidos-globalmente">ğŸ“Œ <strong>SoluciÃ³n alternativa si necesitas consultar pedidos globalmente</strong><a href="#-soluciÃ³n-alternativa-si-necesitas-consultar-pedidos-globalmente" class="hash-link" aria-label="Enlace directo al -soluciÃ³n-alternativa-si-necesitas-consultar-pedidos-globalmente" title="Enlace directo al -soluciÃ³n-alternativa-si-necesitas-consultar-pedidos-globalmente">â€‹</a></h4><p>Si necesitas <strong>consultar los pedidos de forma independiente del usuario</strong>, una mejor opciÃ³n serÃ­a mover los pedidos a una colecciÃ³n principal <code>/orders</code>, utilizando una <strong>referencia al usuario</strong> en lugar de una subcolecciÃ³n.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/orders (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ userId: &quot;user_123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ items: [ &quot;Laptop&quot;, &quot;Mouse&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ userId: &quot;user_123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ items: [ &quot;Monitor&quot;, &quot;Teclado&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ userId: &quot;user_456&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ items: [ &quot;AudÃ­fonos&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ orderDate: 1707551600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/users (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Carlos LÃ³pez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;MarÃ­a GÃ³mez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-5678&quot;</span><br></span></code></pre></div></div><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>IMPORTANCIA CASOS DE USO</div><div class="admonitionContent_BuS1"><p>Al igual que en el modelado de bases de datos en MongoDB, es fundamental considerar los casos de uso al diseÃ±ar nuestra estructura en Firestore. La forma en que modelamos las relaciones dependerÃ¡ de cÃ³mo se acceda y consulte la informaciÃ³n en la aplicaciÃ³n.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="referencias">Referencias<a href="#referencias" class="hash-link" aria-label="Enlace directo al Referencias" title="Enlace directo al Referencias">â€‹</a></h3><p>TambiÃ©n se pueden almacenar <strong>referencias a otros documentos</strong> en lugar de duplicar datos.</p><p>ğŸ“Œ <strong>Ejemplo:</strong> En vez de incluir toda la informaciÃ³n de los items incluidos en un pedido, podemos almacenar una <strong>referencia</strong> al producto.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Carlos LÃ³pez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      /orders (subcolecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;/items/item_001&quot;, &quot;/items/item_002&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;/items/item_003&quot;, &quot;/items/item_004&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;MarÃ­a GÃ³mez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ phone: &quot;555-5678&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      /orders (subcolecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ items: [ &quot;/items/item_005&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ orderDate: 1707551600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/items (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ item_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Laptop&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 800.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ category: &quot;ElectrÃ³nica&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ stock: 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ item_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Mouse&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 25.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ category: &quot;Accesorios&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ stock: 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ item_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Monitor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 150.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ category: &quot;ElectrÃ³nica&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ stock: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ item_004 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Teclado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 40.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ category: &quot;Accesorios&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ stock: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ item_005 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;AudÃ­fonos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 35.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ category: &quot;Audio&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ stock: 15</span><br></span></code></pre></div></div><p>ğŸ“Œ <strong>Ventajas de usar referencias en lugar de duplicar datos:</strong></p><ul>
<li>Evita la redundancia de datos.</li>
<li>Permite actualizar informaciÃ³n de los productos en un solo lugar.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cuÃ¡ndo-usar-subcolecciones-y-cuÃ¡ndo-referencias">Â¿CuÃ¡ndo usar subcolecciones y cuÃ¡ndo referencias?<a href="#cuÃ¡ndo-usar-subcolecciones-y-cuÃ¡ndo-referencias" class="hash-link" aria-label="Enlace directo al Â¿CuÃ¡ndo usar subcolecciones y cuÃ¡ndo referencias?" title="Enlace directo al Â¿CuÃ¡ndo usar subcolecciones y cuÃ¡ndo referencias?">â€‹</a></h3><p>Decidir entre <strong>usar subcolecciones</strong> o <strong>referencias</strong> en Firestore depende de varios factores, como la frecuencia de acceso, el tamaÃ±o de los datos y el rendimiento de las consultas. AquÃ­ te dejo una guÃ­a prÃ¡ctica para tomar la mejor decisiÃ³n.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-cuÃ¡ndo-usar-una-subcolecciÃ³n-en-firestore">ğŸ“Œ <strong>Â¿CuÃ¡ndo usar una subcolecciÃ³n en Firestore?</strong><a href="#-cuÃ¡ndo-usar-una-subcolecciÃ³n-en-firestore" class="hash-link" aria-label="Enlace directo al -cuÃ¡ndo-usar-una-subcolecciÃ³n-en-firestore" title="Enlace directo al -cuÃ¡ndo-usar-una-subcolecciÃ³n-en-firestore">â€‹</a></h4><p>Usa subcolecciones cuando:</p><ul>
<li>Los datos relacionados son dependientes y pueden crecer en nÃºmero (Ejemplo: comentarios en un post, pedidos de un usuario).</li>
<li>Los datos que se almacenan en la subcolecciÃ³n no tienen relaciÃ³n con otras colecciones (excepto la colecciÃ³n padre).</li>
<li>No siempre necesitas cargar los datos relacionados (Ejemplo: en una app de redes sociales, cargar un post sin cargar sus comentarios).</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-cuÃ¡ndo-usar-referencias-en-firestore">ğŸ“Œ <strong>Â¿CuÃ¡ndo usar referencias en Firestore?</strong><a href="#-cuÃ¡ndo-usar-referencias-en-firestore" class="hash-link" aria-label="Enlace directo al -cuÃ¡ndo-usar-referencias-en-firestore" title="Enlace directo al -cuÃ¡ndo-usar-referencias-en-firestore">â€‹</a></h4><p>Usa referencias cuando:</p><ul>
<li>Los datos son reutilizables y compartidos entre mÃºltiples documentos (Ejemplo: una mismo producto se puede pedir en varias pedidos).</li>
<li>No quieres duplicar informaciÃ³n (Ejemplo: si un usuario estÃ¡ en mÃºltiples grupos, se usa una referencia en lugar de copiar toda la info).</li>
<li>Necesitas acceder a los datos relacionados desde distintos lugares de la base de datos.</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-resumen-subcolecciÃ³n-o-referencia">ğŸ“Œ <strong>Resumen: Â¿SubcolecciÃ³n o Referencia?</strong><a href="#-resumen-subcolecciÃ³n-o-referencia" class="hash-link" aria-label="Enlace directo al -resumen-subcolecciÃ³n-o-referencia" title="Enlace directo al -resumen-subcolecciÃ³n-o-referencia">â€‹</a></h4><ol>
<li>Si los datos son dependientes y deben consultarse juntos (casi siempre) â†’ Usa subcolecciones.</li>
<li>Si los datos pueden reutilizarse en mÃºltiples lugares â†’ Usa referencias.</li>
<li>Si la relaciÃ³n es &quot;uno a muchos&quot; â†’ SubcolecciÃ³n.</li>
<li>Si la relaciÃ³n es &quot;muchos a muchos&quot; â†’ Referencias.</li>
</ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-ejemplo-prÃ¡ctico-de-comparaciÃ³n">ğŸ“Œ <strong>Ejemplo prÃ¡ctico de comparaciÃ³n</strong><a href="#-ejemplo-prÃ¡ctico-de-comparaciÃ³n" class="hash-link" aria-label="Enlace directo al -ejemplo-prÃ¡ctico-de-comparaciÃ³n" title="Enlace directo al -ejemplo-prÃ¡ctico-de-comparaciÃ³n">â€‹</a></h4><p><strong>Caso 1: Un blog con comentarios en los posts</strong><br>
<!-- -->ğŸ“Œ Mejor opciÃ³n: SubcolecciÃ³n<br>
<!-- -->  ğŸ”¹ Porque los comentarios pertenecen a un solo post y se acceden juntos.<br>
<!-- -->ğŸ”¹ No tiene sentido duplicar comentarios en distintos lugares.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/posts (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ post_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ title: &quot;Firestore vs Realtime Database&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      /comments (subcolecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”œâ”€â”€ comment_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ user: &quot;Carlos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ text: &quot;Â¡Buen artÃ­culo!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚           â”‚      â”œâ”€â”€ date: 1707551200</span><br></span></code></pre></div></div><p><strong>Caso 2: Un marketplace con usuarios y productos comprados</strong><br>
<!-- -->ğŸ“Œ Mejor opciÃ³n: Referencia<br>
<!-- -->ğŸ”¹ Porque un usuario puede comprar mÃºltiples productos, y un mismo producto puede ser comprado por varios usuarios.<br>
<!-- -->ğŸ”¹ Se puede acceder a los productos sin necesidad de cargar informaciÃ³n del usuario.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Carlos LÃ³pez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ purchasedProducts: [ &quot;/products/product_456&quot;, &quot;/products/product_789&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/products (colecciÃ³n)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ product_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Laptop&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 899.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”œâ”€â”€ product_789 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ name: &quot;Mouse inalÃ¡mbrico&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â”‚      â”œâ”€â”€ price: 29.99</span><br></span></code></pre></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="buenas-prÃ¡cticas-al-diseÃ±ar-la-estructura-de-tus-bases-de-datos-en-firestore">Buenas PrÃ¡cticas al DiseÃ±ar la Estructura de tus Bases de Datos en Firestore<a href="#buenas-prÃ¡cticas-al-diseÃ±ar-la-estructura-de-tus-bases-de-datos-en-firestore" class="hash-link" aria-label="Enlace directo al Buenas PrÃ¡cticas al DiseÃ±ar la Estructura de tus Bases de Datos en Firestore" title="Enlace directo al Buenas PrÃ¡cticas al DiseÃ±ar la Estructura de tus Bases de Datos en Firestore">â€‹</a></h3><p>âœ… <strong>Usar colecciones para agrupar documentos similares:</strong> No almacenes datos sin estructura clara.<br>
<!-- -->âœ… <strong>Evitar anidaciÃ³n excesiva de subcolecciones:</strong> Aunque Firestore permite subcolecciones dentro de documentos, demasiada anidaciÃ³n puede hacer mÃ¡s difÃ­ciles las consultas.<br>
<!-- -->âœ… <strong>Utilizar referencias en lugar de duplicar datos:</strong> Usa referencias a documentos en lugar de repetir informaciÃ³n en mÃºltiples lugares.<br>
<!-- -->âœ… <strong>Optimizar las consultas con Ã­ndices:</strong> Firestore indexa automÃ¡ticamente, pero algunas consultas avanzadas requieren crear Ã­ndices manualmente.<br>
<!-- -->âœ… <strong>Pensar en cÃ³mo se consultarÃ¡n los datos:</strong> La estructura de Firestore debe diseÃ±arse pensando en las consultas que se harÃ¡n con mayor frecuencia.</p></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="PÃ¡gina del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/demo-gmail"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">AutenticaciÃ³n con Google</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/configuracion-android"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">ConfiguraciÃ³n de Firestore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bases-de-datos-en-firebase" class="table-of-contents__link toc-highlight">Bases de datos en Firebase</a><ul><li><a href="#-firestore" class="table-of-contents__link toc-highlight">ğŸ”¹ Firestore</a></li><li><a href="#-realtime-database" class="table-of-contents__link toc-highlight">ğŸ”¹ Realtime Database</a></li><li><a href="#-estructura-de-datos" class="table-of-contents__link toc-highlight">ğŸ”¹ Estructura de datos</a></li><li><a href="#-cuadro-resumen-de-diferencias" class="table-of-contents__link toc-highlight">ğŸ”¹ Cuadro resumen de diferencias</a></li><li><a href="#-cuÃ¡l-elegir" class="table-of-contents__link toc-highlight">ğŸ’¡ Â¿CuÃ¡l elegir?</a></li></ul></li><li><a href="#estructura-de-firestore" class="table-of-contents__link toc-highlight">Estructura de Firestore</a><ul><li><a href="#documentos-y-colecciones" class="table-of-contents__link toc-highlight">Documentos y Colecciones</a></li><li><a href="#subcolecciones" class="table-of-contents__link toc-highlight">Subcolecciones</a></li><li><a href="#referencias" class="table-of-contents__link toc-highlight">Referencias</a></li><li><a href="#cuÃ¡ndo-usar-subcolecciones-y-cuÃ¡ndo-referencias" class="table-of-contents__link toc-highlight">Â¿CuÃ¡ndo usar subcolecciones y cuÃ¡ndo referencias?</a></li><li><a href="#buenas-prÃ¡cticas-al-diseÃ±ar-la-estructura-de-tus-bases-de-datos-en-firestore" class="table-of-contents__link toc-highlight">Buenas PrÃ¡cticas al DiseÃ±ar la Estructura de tus Bases de Datos en Firestore</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">
        <section classname="bg-white border-t border-gray-100">
      <div classname="max-w-4xl mx-auto px-6 py-16 text-center">
        <h3 classname="text-2xl font-bold text-gray-900 mb-4">
          Construyendo conocimiento, lÃ­nea por lÃ­nea
        </h3>
        <p classname="text-gray-600 leading-relaxed">
          Â© 2025 Alicia CÃ¡mara Casares - Contenido bajo licencia 
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer" classname="text-blue-600 hover:text-blue-700 underline">
                CC BY-NC-SA 4.0
              </a>.
        </p>
      </div>
    </section>
      </div></div></div></footer></div>
</body>
</html>