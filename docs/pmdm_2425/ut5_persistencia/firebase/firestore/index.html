<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-pmdm_2425/ut5_persistencia/firebase/firestore/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Firestore Database | DevTacora</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://acamarac02.github.io/DevTacora/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://acamarac02.github.io/DevTacora/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Firestore Database | DevTacora"><meta data-rh="true" name="description" content="En este tutorial, aprenderemos a usar Firebase Firestore en una aplicación Android, cubriendo desde la configuración inicial hasta consultas avanzadas."><meta data-rh="true" property="og:description" content="En este tutorial, aprenderemos a usar Firebase Firestore en una aplicación Android, cubriendo desde la configuración inicial hasta consultas avanzadas."><link data-rh="true" rel="icon" href="/DevTacora/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"><link data-rh="true" rel="alternate" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/" hreflang="es"><link data-rh="true" rel="alternate" href="https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"UT5. Persistencia de datos","item":"https://acamarac02.github.io/DevTacora/docs/category/ut5-persistencia-de-datos"},{"@type":"ListItem","position":2,"name":"Firebase","item":"https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/"},{"@type":"ListItem","position":3,"name":"Firestore Database","item":"https://acamarac02.github.io/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/"}]}</script><link rel="alternate" type="application/rss+xml" href="/DevTacora/blog/rss.xml" title="DevTacora RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/DevTacora/blog/atom.xml" title="DevTacora Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WCKN9ZY1F"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WCKN9ZY1F",{anonymize_ip:!0})</script><link rel="stylesheet" href="/DevTacora/assets/css/styles.62bea0f4.css">
<script src="/DevTacora/assets/js/runtime~main.6e140c8a.js" defer="defer"></script>
<script src="/DevTacora/assets/js/main.cfcb0d12.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DevTacora/"><div class="navbar__logo"><img src="/DevTacora/img/devtacora_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/DevTacora/img/devtacora_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DevTacora</b></a><a class="navbar__item navbar__link" href="/DevTacora/docs/pia_2526/">PIA</a><a class="navbar__item navbar__link" href="/DevTacora/docs/pmdm_2526/">PMDM</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/DevTacora/docs/licencia">Licencia</a><a href="https://www.linkedin.com/in/aliciacamcas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Cambiar entre modo oscuro y claro (actualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/DevTacora/docs/category/ut5-persistencia-de-datos">UT5. Persistencia de datos</a><button aria-label="Colapsar categoría &#x27;UT5. Persistencia de datos&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/introduccion">Introducción</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/room/">Room</a><button aria-label="Ampliar la categoría &#x27;Room&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/shared-preferences">Shared preferences</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/">Firebase</a><button aria-label="Colapsar categoría &#x27;Firebase&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/">Firebase Authentication</a><button aria-label="Ampliar la categoría &#x27;Firebase Authentication&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/">Firestore Database</a><button aria-label="Colapsar categoría &#x27;Firestore Database&#x27; de la barra lateral" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/configuracion-android">Configuración de Firestore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/operaciones-crud">Operaciones CRUD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/lectura-tiempo-real">Lectura en Tiempo Real</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/gestion-subcolecciones">Gestión de Subcolecciones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/demo-tablon-anuncios">Demo Tablón de Anuncios</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/supabase-storage/">Supabase Storage</a><button aria-label="Ampliar la categoría &#x27;Supabase Storage&#x27; de la barra lateral" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Rastro de navegación"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/DevTacora/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/DevTacora/docs/category/ut5-persistencia-de-datos"><span>UT5. Persistencia de datos</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/"><span>Firebase</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Firestore Database</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><div class="justify-text"><header><h1>Firestore Database</h1></header><p>En este tutorial, aprenderemos a usar <strong>Firebase Firestore</strong> en una aplicación Android, cubriendo desde la configuración inicial hasta consultas avanzadas.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bases-de-datos-en-firebase">Bases de datos en Firebase<a href="#bases-de-datos-en-firebase" class="hash-link" aria-label="Enlace directo al Bases de datos en Firebase" title="Enlace directo al Bases de datos en Firebase">​</a></h2><p>Firebase ofrece dos opciones principales de bases de datos en la nube para el desarrollo de aplicaciones móviles y web: <strong>Firestore</strong> y <strong>Realtime Database</strong>. Ambas permiten almacenar y sincronizar datos en tiempo real, pero tienen diferencias clave en su estructura, funcionamiento y casos de uso.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-firestore">🔹 Firestore<a href="#-firestore" class="hash-link" aria-label="Enlace directo al 🔹 Firestore" title="Enlace directo al 🔹 Firestore">​</a></h3><p>Firestore es una base de datos NoSQL basada en documentos y colecciones. Sus principales características incluyen:</p><ul>
<li><strong>Estructura flexible</strong>: Los datos se almacenan en documentos dentro de colecciones, lo que facilita la organización y escalabilidad.</li>
<li><strong>Consultas avanzadas</strong>: Soporta filtros, ordenaciones y combinaciones complejas sin necesidad de recuperar toda la base de datos.</li>
<li><strong>Sincronización en tiempo real</strong>: Aunque Firestore no está diseñado exclusivamente para tiempo real, permite el uso de <strong>SnapshotListener</strong> para obtener actualizaciones automáticas.</li>
<li><strong>Escalabilidad y rendimiento</strong>: Maneja automáticamente la indexación y permite consultas eficientes, ideal para grandes volúmenes de datos.</li>
<li><strong>Modo offline</strong>: Permite trabajar sin conexión y sincronizar los cambios cuando el dispositivo se conecta nuevamente.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-realtime-database">🔹 Realtime Database<a href="#-realtime-database" class="hash-link" aria-label="Enlace directo al 🔹 Realtime Database" title="Enlace directo al 🔹 Realtime Database">​</a></h3><p>Realtime Database es una base de datos NoSQL estructurada en forma de árbol JSON, diseñada específicamente para sincronización en tiempo real. Sus características principales son:</p><ul>
<li><strong>Baja latencia</strong>: Perfecta para aplicaciones que requieren actualizaciones instantáneas, como chats en vivo o apps colaborativas.</li>
<li><strong>Estructura basada en nodos</strong>: Los datos se almacenan en un solo árbol JSON anidado, lo que puede complicar las consultas y la organización de datos.</li>
<li><strong>Escalabilidad limitada</strong>: A medida que los datos crecen, las consultas pueden volverse ineficientes y aumentar los costos.</li>
<li><strong>Modo offline</strong>: Similar a Firestore, permite trabajar sin conexión.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-estructura-de-datos">🔹 Estructura de datos<a href="#-estructura-de-datos" class="hash-link" aria-label="Enlace directo al 🔹 Estructura de datos" title="Enlace directo al 🔹 Estructura de datos">​</a></h3><p>Para analizar mejor las diferencias en el modelo de datos de ambas bases de datos, vamos a ver un ejemplo práctico. Supongamos que estamos implementando una aplicación de redes sociales donde los usuarios pueden hacer publicaciones y comentar en ellas.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1️⃣-datos-en-realtime-database-estructura-en-árbol-json"><strong>1️⃣ Datos en Realtime Database (Estructura en árbol JSON)</strong><a href="#1️⃣-datos-en-realtime-database-estructura-en-árbol-json" class="hash-link" aria-label="Enlace directo al 1️⃣-datos-en-realtime-database-estructura-en-árbol-json" title="Enlace directo al 1️⃣-datos-en-realtime-database-estructura-en-árbol-json">​</a></h4><p>En <strong>Realtime Database</strong>, los datos se almacenan en un solo árbol JSON. Aquí hay un ejemplo donde los datos de los usuarios, publicaciones y comentarios están organizados:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;users&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;user_123&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Juan Pérez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;juan@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;user_456&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;María Gómez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;maria@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;posts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;post_789&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;¡Hola, mundo!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;comments&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;comment_1&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;¡Genial post!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>✅ <strong>Pros de esta estructura en Realtime Database</strong>:</p><ul>
<li>Es fácil acceder a los datos con rutas directas (<code>/posts/post_789/comments/comment_1</code>).</li>
<li>La sincronización en tiempo real es sencilla y rápida.</li>
</ul><p>❌ <strong>Contras</strong>:</p><ul>
<li>Los datos están anidados, lo que puede causar problemas al escalar (cargar un post trae consigo todos sus comentarios).</li>
<li>No permite consultas avanzadas (por ejemplo, no se pueden filtrar posts por fecha sin traer todo el nodo <code>posts</code>).</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2️⃣-datos-en-firestore-estructura-basada-en-documentos-y-colecciones"><strong>2️⃣ Datos en Firestore (Estructura basada en documentos y colecciones)</strong><a href="#2️⃣-datos-en-firestore-estructura-basada-en-documentos-y-colecciones" class="hash-link" aria-label="Enlace directo al 2️⃣-datos-en-firestore-estructura-basada-en-documentos-y-colecciones" title="Enlace directo al 2️⃣-datos-en-firestore-estructura-basada-en-documentos-y-colecciones">​</a></h4><p>Firestore usa una estructura jerárquica con <strong>colecciones</strong> y <strong>documentos</strong>, lo que permite separar las relaciones y mejorar la escalabilidad. El mismo conjunto de datos en Firestore se organizaría así:</p><p>📂 <strong>Colección: users/</strong><br>
<!-- -->📄 <code>user_123</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Juan Pérez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;juan@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>📄 <code>user_456</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;María Gómez&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;maria@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>📂 <strong>Colección: posts/</strong><br>
<!-- -->📄 <code>post_789</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;¡Hola, mundo!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>📂 <strong>Subcolección dentro del post: posts/post_789/comments/</strong><br>
<!-- -->📄 <code>comment_1</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;¡Genial post!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1707551300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>✅ <strong>Pros de esta estructura en Firestore</strong>:</p><ul>
<li><strong>Escalabilidad y eficiencia</strong>: No se cargan todos los comentarios cuando se consulta un post. Se pueden traer solo los necesarios.</li>
<li><strong>Consultas avanzadas</strong>: Se pueden hacer filtros, ordenar por fecha, paginar resultados, etc.</li>
<li><strong>Estructura flexible</strong>: Se pueden agregar más relaciones sin modificar la estructura base.</li>
</ul><p>❌ <strong>Contras</strong>:</p><ul>
<li>Más escritura y lecturas separadas (por ejemplo, obtener un post y luego traer sus comentarios requiere dos consultas).</li>
<li>Sincronización en tiempo real menos eficiente si se compara con Realtime Database (pero sigue siendo buena con <code>SnapshotListener</code>).</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-cuadro-resumen-de-diferencias">🔹 Cuadro resumen de diferencias<a href="#-cuadro-resumen-de-diferencias" class="hash-link" aria-label="Enlace directo al 🔹 Cuadro resumen de diferencias" title="Enlace directo al 🔹 Cuadro resumen de diferencias">​</a></h3><table><thead><tr><th>Característica</th><th>Firestore 🟠</th><th>Realtime Database 🟢</th></tr></thead><tbody><tr><td><strong>Estructura</strong></td><td>Basada en documentos y colecciones</td><td>Basada en un árbol JSON</td></tr><tr><td><strong>Consultas</strong></td><td>Avanzadas, permite filtrar y ordenar por múltiples campos</td><td>Limitadas, requiere cargar grandes conjuntos de datos</td></tr><tr><td><strong>Tiempo real</strong></td><td>Sí, pero optimizado para consultas eficientes</td><td>Sí, con latencia muy baja</td></tr><tr><td><strong>Escalabilidad</strong></td><td>Alta, con indexación automática</td><td>Menos escalable, puede volverse ineficiente con datos grandes</td></tr><tr><td><strong>Modo offline</strong></td><td>Compatible en Android, iOS y Web</td><td>Compatible en Android, iOS y Web</td></tr><tr><td><strong>Seguridad</strong></td><td>Reglas detalladas por documento y colección</td><td>Reglas basadas en nodos JSON</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-cuál-elegir">💡 ¿Cuál elegir?<a href="#-cuál-elegir" class="hash-link" aria-label="Enlace directo al 💡 ¿Cuál elegir?" title="Enlace directo al 💡 ¿Cuál elegir?">​</a></h3><ul>
<li>🔥 <strong>Usa Firestore</strong> si necesitas consultas avanzadas, mejor escalabilidad y una estructura flexible.</li>
<li>⚡ <strong>Usa Realtime Database</strong> si la prioridad es la sincronización ultra rápida en tiempo real y la estructura en JSON no es un problema.</li>
</ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="estructura-de-firestore">Estructura de Firestore<a href="#estructura-de-firestore" class="hash-link" aria-label="Enlace directo al Estructura de Firestore" title="Enlace directo al Estructura de Firestore">​</a></h2><p>El modelo de datos de Firestore es jerárquico, lo que permite estructurar la información de manera eficiente, facilitando consultas avanzadas y manteniendo la escalabilidad.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentos-y-colecciones">Documentos y Colecciones<a href="#documentos-y-colecciones" class="hash-link" aria-label="Enlace directo al Documentos y Colecciones" title="Enlace directo al Documentos y Colecciones">​</a></h3><p>Firestore organiza los datos en <strong>colecciones</strong> y <strong>documentos</strong>, en lugar de utilizar tablas como en una base de datos relacional. Ambas tienen el mismo significado que ya hemos estado en MongoDB.</p><ul>
<li><strong>Colección:</strong> Un conjunto de documentos similares.</li>
<li><strong>Documento:</strong> Una unidad de almacenamiento de datos en formato clave-valor dentro de una colección, donde las claves representan los nombres de los campos.</li>
</ul><p>📌 <strong>Ejemplo: Base de datos de un sistema de gestión de pedidos</strong></p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/orders (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── customerName: &quot;Juan Pérez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── total: 59.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── items: [ &quot;Pizza&quot;, &quot;Refresco&quot;, &quot;Postre&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── customerName: &quot;Ana Gómez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── total: 35.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── items: [ &quot;Hamburguesa&quot;, &quot;Papas&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── orderDate: 1707551500</span><br></span></code></pre></div></div><p>En este ejemplo:<br>
<!-- -->✅ La colección <strong>&quot;orders&quot;</strong> contiene múltiples documentos, cada uno representando un pedido.<br>
<!-- -->✅ Cada <strong>documento</strong> tiene campos como <code>customerName</code>, <code>total</code>, <code>status</code>, etc.<br>
<!-- -->✅ La información de cada pedido está encapsulada en su respectivo documento.</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subcolecciones">Subcolecciones<a href="#subcolecciones" class="hash-link" aria-label="Enlace directo al Subcolecciones" title="Enlace directo al Subcolecciones">​</a></h3><p>Firestore permite organizar los datos en <strong>subcolecciones</strong>, que son colecciones dentro de un documento. Esto ayuda a estructurar mejor la información y permite relaciones más flexibles.</p><p>📌 <strong>Ejemplo: Gestión de usuarios con sus pedidos</strong></p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Carlos López&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      /orders (subcolección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;Laptop&quot;, &quot;Mouse&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;Monitor&quot;, &quot;Teclado&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;María Gómez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-5678&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      /orders (subcolección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;Audífonos&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551600</span><br></span></code></pre></div></div><p>📌 <strong>Explicación de la estructura:</strong></p><ul>
<li><code>/users</code> es una colección que almacena documentos de usuarios.</li>
<li>Cada usuario (<code>user_123</code>, <code>user_456</code>, etc.) tiene un <strong>documento</strong> con su información básica.</li>
<li>Dentro de cada documento de usuario, hay una <strong>subcolección</strong> <code>/orders</code>, que almacena los pedidos del usuario.</li>
<li>Cada pedido es un <strong>documento</strong> dentro de la subcolección <code>/orders</code>.</li>
</ul><p>📌 <strong>No obstante, ten en cuenta que:</strong></p><ul>
<li><strong>Esta estructura es útil si los pedidos siempre se consultan desde el usuario</strong>.<!-- -->
<ul>
<li>Por ejemplo, si quieres obtener todos los pedidos de <code>user_123</code>, puedes hacer una consulta directa a la subcolección <code>/users/user_123/orders</code>.</li>
</ul>
</li>
<li><strong>No es la mejor opción si necesitas consultar pedidos globalmente</strong>.<!-- -->
<ul>
<li>Si deseas listar <strong>todos los pedidos</strong> sin importar el usuario, tendrías que recorrer cada usuario y su subcolección <code>/orders</code>, lo cual no es eficiente.</li>
</ul>
</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-solución-alternativa-si-necesitas-consultar-pedidos-globalmente">📌 <strong>Solución alternativa si necesitas consultar pedidos globalmente</strong><a href="#-solución-alternativa-si-necesitas-consultar-pedidos-globalmente" class="hash-link" aria-label="Enlace directo al -solución-alternativa-si-necesitas-consultar-pedidos-globalmente" title="Enlace directo al -solución-alternativa-si-necesitas-consultar-pedidos-globalmente">​</a></h4><p>Si necesitas <strong>consultar los pedidos de forma independiente del usuario</strong>, una mejor opción sería mover los pedidos a una colección principal <code>/orders</code>, utilizando una <strong>referencia al usuario</strong> en lugar de una subcolección.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/orders (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── userId: &quot;user_123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── items: [ &quot;Laptop&quot;, &quot;Mouse&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── userId: &quot;user_123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── items: [ &quot;Monitor&quot;, &quot;Teclado&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── userId: &quot;user_456&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── items: [ &quot;Audífonos&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── orderDate: 1707551600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/users (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Carlos López&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;María Gómez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-5678&quot;</span><br></span></code></pre></div></div><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>IMPORTANCIA CASOS DE USO</div><div class="admonitionContent_BuS1"><p>Al igual que en el modelado de bases de datos en MongoDB, es fundamental considerar los casos de uso al diseñar nuestra estructura en Firestore. La forma en que modelamos las relaciones dependerá de cómo se acceda y consulte la información en la aplicación.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="referencias">Referencias<a href="#referencias" class="hash-link" aria-label="Enlace directo al Referencias" title="Enlace directo al Referencias">​</a></h3><p>También se pueden almacenar <strong>referencias a otros documentos</strong> en lugar de duplicar datos.</p><p>📌 <strong>Ejemplo:</strong> En vez de incluir toda la información de los items incluidos en un pedido, podemos almacenar una <strong>referencia</strong> al producto.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Carlos López&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;carlos@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-1234&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── address: &quot;Av. Principal 123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      /orders (subcolección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 50.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;En proceso&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;/items/item_001&quot;, &quot;/items/item_002&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 99.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;Entregado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;/items/item_003&quot;, &quot;/items/item_004&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;María Gómez&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── email: &quot;maria@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── phone: &quot;555-5678&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      /orders (subcolección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── order_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── total: 20.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── status: &quot;Cancelado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── items: [ &quot;/items/item_005&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── orderDate: 1707551600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/items (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── item_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Laptop&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 800.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── category: &quot;Electrónica&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── stock: 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── item_002 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Mouse&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 25.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── category: &quot;Accesorios&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── stock: 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── item_003 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Monitor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 150.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── category: &quot;Electrónica&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── stock: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── item_004 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Teclado&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 40.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── category: &quot;Accesorios&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── stock: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── item_005 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Audífonos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 35.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── category: &quot;Audio&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── stock: 15</span><br></span></code></pre></div></div><p>📌 <strong>Ventajas de usar referencias en lugar de duplicar datos:</strong></p><ul>
<li>Evita la redundancia de datos.</li>
<li>Permite actualizar información de los productos en un solo lugar.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cuándo-usar-subcolecciones-y-cuándo-referencias">¿Cuándo usar subcolecciones y cuándo referencias?<a href="#cuándo-usar-subcolecciones-y-cuándo-referencias" class="hash-link" aria-label="Enlace directo al ¿Cuándo usar subcolecciones y cuándo referencias?" title="Enlace directo al ¿Cuándo usar subcolecciones y cuándo referencias?">​</a></h3><p>Decidir entre <strong>usar subcolecciones</strong> o <strong>referencias</strong> en Firestore depende de varios factores, como la frecuencia de acceso, el tamaño de los datos y el rendimiento de las consultas. Aquí te dejo una guía práctica para tomar la mejor decisión.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-cuándo-usar-una-subcolección-en-firestore">📌 <strong>¿Cuándo usar una subcolección en Firestore?</strong><a href="#-cuándo-usar-una-subcolección-en-firestore" class="hash-link" aria-label="Enlace directo al -cuándo-usar-una-subcolección-en-firestore" title="Enlace directo al -cuándo-usar-una-subcolección-en-firestore">​</a></h4><p>Usa subcolecciones cuando:</p><ul>
<li>Los datos relacionados son dependientes y pueden crecer en número (Ejemplo: comentarios en un post, pedidos de un usuario).</li>
<li>Los datos que se almacenan en la subcolección no tienen relación con otras colecciones (excepto la colección padre).</li>
<li>No siempre necesitas cargar los datos relacionados (Ejemplo: en una app de redes sociales, cargar un post sin cargar sus comentarios).</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-cuándo-usar-referencias-en-firestore">📌 <strong>¿Cuándo usar referencias en Firestore?</strong><a href="#-cuándo-usar-referencias-en-firestore" class="hash-link" aria-label="Enlace directo al -cuándo-usar-referencias-en-firestore" title="Enlace directo al -cuándo-usar-referencias-en-firestore">​</a></h4><p>Usa referencias cuando:</p><ul>
<li>Los datos son reutilizables y compartidos entre múltiples documentos (Ejemplo: una mismo producto se puede pedir en varias pedidos).</li>
<li>No quieres duplicar información (Ejemplo: si un usuario está en múltiples grupos, se usa una referencia en lugar de copiar toda la info).</li>
<li>Necesitas acceder a los datos relacionados desde distintos lugares de la base de datos.</li>
</ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-resumen-subcolección-o-referencia">📌 <strong>Resumen: ¿Subcolección o Referencia?</strong><a href="#-resumen-subcolección-o-referencia" class="hash-link" aria-label="Enlace directo al -resumen-subcolección-o-referencia" title="Enlace directo al -resumen-subcolección-o-referencia">​</a></h4><ol>
<li>Si los datos son dependientes y deben consultarse juntos (casi siempre) → Usa subcolecciones.</li>
<li>Si los datos pueden reutilizarse en múltiples lugares → Usa referencias.</li>
<li>Si la relación es &quot;uno a muchos&quot; → Subcolección.</li>
<li>Si la relación es &quot;muchos a muchos&quot; → Referencias.</li>
</ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="-ejemplo-práctico-de-comparación">📌 <strong>Ejemplo práctico de comparación</strong><a href="#-ejemplo-práctico-de-comparación" class="hash-link" aria-label="Enlace directo al -ejemplo-práctico-de-comparación" title="Enlace directo al -ejemplo-práctico-de-comparación">​</a></h4><p><strong>Caso 1: Un blog con comentarios en los posts</strong><br>
<!-- -->📌 Mejor opción: Subcolección<br>
<!-- -->  🔹 Porque los comentarios pertenecen a un solo post y se acceden juntos.<br>
<!-- -->🔹 No tiene sentido duplicar comentarios en distintos lugares.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/posts (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── post_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── title: &quot;Firestore vs Realtime Database&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      /comments (subcolección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           ├── comment_001 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── user: &quot;Carlos&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── text: &quot;¡Buen artículo!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │           │      ├── date: 1707551200</span><br></span></code></pre></div></div><p><strong>Caso 2: Un marketplace con usuarios y productos comprados</strong><br>
<!-- -->📌 Mejor opción: Referencia<br>
<!-- -->🔹 Porque un usuario puede comprar múltiples productos, y un mismo producto puede ser comprado por varios usuarios.<br>
<!-- -->🔹 Se puede acceder a los productos sin necesidad de cargar información del usuario.</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/users (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── user_123 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Carlos López&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── purchasedProducts: [ &quot;/products/product_456&quot;, &quot;/products/product_789&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/products (colección)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── product_456 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Laptop&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 899.99</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ├── product_789 (documento)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── name: &quot;Mouse inalámbrico&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │      ├── price: 29.99</span><br></span></code></pre></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="buenas-prácticas-al-diseñar-la-estructura-de-tus-bases-de-datos-en-firestore">Buenas Prácticas al Diseñar la Estructura de tus Bases de Datos en Firestore<a href="#buenas-prácticas-al-diseñar-la-estructura-de-tus-bases-de-datos-en-firestore" class="hash-link" aria-label="Enlace directo al Buenas Prácticas al Diseñar la Estructura de tus Bases de Datos en Firestore" title="Enlace directo al Buenas Prácticas al Diseñar la Estructura de tus Bases de Datos en Firestore">​</a></h3><p>✅ <strong>Usar colecciones para agrupar documentos similares:</strong> No almacenes datos sin estructura clara.<br>
<!-- -->✅ <strong>Evitar anidación excesiva de subcolecciones:</strong> Aunque Firestore permite subcolecciones dentro de documentos, demasiada anidación puede hacer más difíciles las consultas.<br>
<!-- -->✅ <strong>Utilizar referencias en lugar de duplicar datos:</strong> Usa referencias a documentos en lugar de repetir información en múltiples lugares.<br>
<!-- -->✅ <strong>Optimizar las consultas con índices:</strong> Firestore indexa automáticamente, pero algunas consultas avanzadas requieren crear índices manualmente.<br>
<!-- -->✅ <strong>Pensar en cómo se consultarán los datos:</strong> La estructura de Firestore debe diseñarse pensando en las consultas que se harán con mayor frecuencia.</p></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/demo-gmail"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Autenticación con Google</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/firestore/configuracion-android"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Configuración de Firestore</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bases-de-datos-en-firebase" class="table-of-contents__link toc-highlight">Bases de datos en Firebase</a><ul><li><a href="#-firestore" class="table-of-contents__link toc-highlight">🔹 Firestore</a></li><li><a href="#-realtime-database" class="table-of-contents__link toc-highlight">🔹 Realtime Database</a></li><li><a href="#-estructura-de-datos" class="table-of-contents__link toc-highlight">🔹 Estructura de datos</a></li><li><a href="#-cuadro-resumen-de-diferencias" class="table-of-contents__link toc-highlight">🔹 Cuadro resumen de diferencias</a></li><li><a href="#-cuál-elegir" class="table-of-contents__link toc-highlight">💡 ¿Cuál elegir?</a></li></ul></li><li><a href="#estructura-de-firestore" class="table-of-contents__link toc-highlight">Estructura de Firestore</a><ul><li><a href="#documentos-y-colecciones" class="table-of-contents__link toc-highlight">Documentos y Colecciones</a></li><li><a href="#subcolecciones" class="table-of-contents__link toc-highlight">Subcolecciones</a></li><li><a href="#referencias" class="table-of-contents__link toc-highlight">Referencias</a></li><li><a href="#cuándo-usar-subcolecciones-y-cuándo-referencias" class="table-of-contents__link toc-highlight">¿Cuándo usar subcolecciones y cuándo referencias?</a></li><li><a href="#buenas-prácticas-al-diseñar-la-estructura-de-tus-bases-de-datos-en-firestore" class="table-of-contents__link toc-highlight">Buenas Prácticas al Diseñar la Estructura de tus Bases de Datos en Firestore</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">
        <section classname="bg-white border-t border-gray-100">
      <div classname="max-w-4xl mx-auto px-6 py-16 text-center">
        <h3 classname="text-2xl font-bold text-gray-900 mb-4">
          Construyendo conocimiento, línea por línea
        </h3>
        <p classname="text-gray-600 leading-relaxed">
          © 2025 Alicia Cámara Casares - Contenido bajo licencia 
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer" classname="text-blue-600 hover:text-blue-700 underline">
                CC BY-NC-SA 4.0
              </a>.
        </p>
      </div>
    </section>
      </div></div></div></footer></div>
</body>
</html>