"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[337],{1372:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"ada/ut5_bbdd_nosql/mongodb/lenguaje-de-consulta","title":"Lenguaje de consulta","description":"Antes de conectar nuestra aplicaci\xf3n Java con MongoDB, vamos a aprender el lenguaje de consulta MQL (Mongo Query Language). Para ello, vamos a descargar el software mongosh.","source":"@site/docs/ada/ut5_bbdd_nosql/mongodb/2-lenguaje-de-consulta.md","sourceDirName":"ada/ut5_bbdd_nosql/mongodb","slug":"/ada/ut5_bbdd_nosql/mongodb/lenguaje-de-consulta","permalink":"/DevTacora/docs/ada/ut5_bbdd_nosql/mongodb/lenguaje-de-consulta","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Lenguaje de consulta","title":"Lenguaje de consulta"},"sidebar":"adaSidebar","previous":{"title":"Puesta en marcha","permalink":"/DevTacora/docs/ada/ut5_bbdd_nosql/mongodb/puesta-en-marcha"}}');var r=s(4848),i=s(8453);const c={sidebar_position:4,sidebar_label:"Lenguaje de consulta",title:"Lenguaje de consulta"},o=void 0,l={},d=[{value:"<code>mongosh</code>",id:"mongosh",level:2},{value:"Instalaci\xf3n",id:"instalaci\xf3n",level:3},{value:"Conexi\xf3n a un Cluster Remoto",id:"conexi\xf3n-a-un-cluster-remoto",level:3},{value:"Recordatorio JSON",id:"recordatorio-json",level:2},{value:"Tipos de datos",id:"tipos-de-datos",level:3},{value:"MongoDB Query Language (MQL)",id:"mongodb-query-language-mql",level:2},{value:"Campo <code>_id</code> y <code>ObjectId</code>",id:"campo-_id-y-objectid",level:3},{value:"Crear una Base de Datos",id:"crear-una-base-de-datos",level:3},{value:"Crear una Colecci\xf3n",id:"crear-una-colecci\xf3n",level:3},{value:"Insertar Documentos",id:"insertar-documentos",level:3},{value:"Consultar Documentos",id:"consultar-documentos",level:3},{value:"<strong>1. Consulta B\xe1sica</strong>",id:"1-consulta-b\xe1sica",level:4},{value:"2. Filtros B\xe1sicos",id:"2-filtros-b\xe1sicos",level:4},{value:"<strong>Filtrar por Igualdad</strong>",id:"filtrar-por-igualdad",level:4},{value:"<strong>Filtrar por M\xfaltiples Campos</strong>",id:"filtrar-por-m\xfaltiples-campos",level:4},{value:"3. Operadores de Comparaci\xf3n",id:"3-operadores-de-comparaci\xf3n",level:4},{value:"<strong>Ejemplos Comunes:</strong>",id:"ejemplos-comunes",level:4},{value:"<strong>4. Operadores L\xf3gicos</strong>",id:"4-operadores-l\xf3gicos",level:4},{value:"<strong>5. Consultas con Arrays</strong>",id:"5-consultas-con-arrays",level:4},{value:"<strong>6. Proyecciones</strong>",id:"6-proyecciones",level:4},{value:"<strong>7. Ordenar Resultados</strong>",id:"7-ordenar-resultados",level:4},{value:"<strong>8. Limitar y Saltar Resultados</strong>",id:"8-limitar-y-saltar-resultados",level:4},{value:"<strong>9. Buscar Documentos con Campos Existentes o Faltantes</strong>",id:"9-buscar-documentos-con-campos-existentes-o-faltantes",level:4},{value:"<strong>10. Buscar Documentos con Substring</strong>",id:"10-buscar-documentos-con-substring",level:4},{value:"<strong>11. Resumen de Comandos</strong>",id:"11-resumen-de-comandos",level:4},{value:"Actualizar Documentos",id:"actualizar-documentos",level:3},{value:"<strong>1. Sintaxis General</strong>",id:"1-sintaxis-general",level:4},{value:"<strong>2. Operaciones B\xe1sicas</strong>",id:"2-operaciones-b\xe1sicas",level:4},{value:"<strong>3. Operaciones Comunes</strong>",id:"3-operaciones-comunes",level:4},{value:"<strong>Operador <code>$rename</code></strong>",id:"operador-rename",level:4},{value:"<strong>4. Trabajando con Arrays</strong>",id:"4-trabajando-con-arrays",level:4},{value:"5. Opci\xf3n <code>upsert</code> (Insertar si no Existe)",id:"5-opci\xf3n-upsert-insertar-si-no-existe",level:4},{value:"<strong>7. Resumen de Operadores Comunes de Actualizaci\xf3n</strong>",id:"7-resumen-de-operadores-comunes-de-actualizaci\xf3n",level:4},{value:"Eliminar Documentos",id:"eliminar-documentos",level:3},{value:"Eliminar una Colecci\xf3n",id:"eliminar-una-colecci\xf3n",level:3},{value:"Eliminar una Base de Datos",id:"eliminar-una-base-de-datos",level:3},{value:"Otros Comandos \xdatiles",id:"otros-comandos-\xfatiles",level:3},{value:"Ejercicios",id:"ejercicios",level:2},{value:"Ejercicio 1",id:"ejercicio-1",level:3},{value:"Ejercicio 2",id:"ejercicio-2",level:3},{value:"Ejercicio 3",id:"ejercicio-3",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)("div",{class:"justify-text",children:[(0,r.jsxs)(n.p,{children:["Antes de conectar nuestra aplicaci\xf3n Java con MongoDB, vamos a aprender el lenguaje de consulta MQL (Mongo Query Language). Para ello, vamos a descargar el software ",(0,r.jsx)(n.code,{children:"mongosh"}),"."]}),(0,r.jsx)(n.h2,{id:"mongosh",children:(0,r.jsx)(n.code,{children:"mongosh"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"mongosh"})})," (abreviatura de ",(0,r.jsx)(n.strong,{children:"MongoDB Shell"}),") es la herramienta oficial de l\xednea de comandos para interactuar con bases de datos MongoDB. Es un shell moderno y flexible que te permite realizar tareas administrativas, ejecutar consultas, escribir scripts y trabajar directamente con datos almacenados en MongoDB. Puedes usar ",(0,r.jsx)(n.code,{children:"mongosh"})," para conectarte a clusters en MongoDB Atlas, adem\xe1s de bases de datos locales o en servidores remotos."]}),(0,r.jsx)(n.h3,{id:"instalaci\xf3n",children:"Instalaci\xf3n"}),(0,r.jsxs)(n.p,{children:["Puedes instalar ",(0,r.jsx)(n.code,{children:"mongosh"})," desde varias fuentes:"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"P\xe1gina Oficial:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Desc\xe1rgalo desde el ",(0,r.jsx)(n.a,{href:"https://www.mongodb.com/try/download/shell",children:"sitio oficial de MongoDB"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Disponible para Windows, macOS y Linux."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Gestores de Paquetes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["En sistemas basados en Debian/Ubuntu:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install mongodb-mongosh\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["En macOS con Homebrew:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"brew install mongosh\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Con Docker:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Ejecuta un contenedor con ",(0,r.jsx)(n.code,{children:"mongosh"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run -it --rm mongo mongosh "mongodb+srv://<usuario>:<contrase\xf1a>@<miCluster>.mongodb.net/"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Ten en cuenta que ",(0,r.jsx)(n.em,{children:"-it"})," permite interacci\xf3n con la terminal de la m\xe1quina Docker y ",(0,r.jsx)(n.em,{children:"--rm"})," elimina el contenedor una vez que has terminado de usarlo."]}),"\n",(0,r.jsx)(n.li,{children:'Debes sustituir "usuario" y "contrase\xf1a" por los que hayas establecido durante la configuraci\xf3n y "miCluster" por el nombre de tu Cluster. Puedes ver el nombre del cluster siguiendo los pasos del siguiente apartado.'}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"conexi\xf3n-a-un-cluster-remoto",children:"Conexi\xf3n a un Cluster Remoto"}),(0,r.jsxs)(n.p,{children:["Dentro del panel de MongoDB Atlas, selecciona ",(0,r.jsx)(n.strong,{children:"Overview > Connect"}),". De todas las herramientas de conexi\xf3n, selecciona ",(0,r.jsx)(n.code,{children:"Shell"}),". En el panel aparecer\xe1 el comando que tienes que ejecutar para conectarte a tu cluster."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Conexi\xf3n mongosh",src:s(206).A+"",width:"1628",height:"1602"})}),(0,r.jsxs)(n.p,{children:["Copia la cadena de conexi\xf3n en en la terminal de tu equipo o del contenedor Docker e introduce la contrase\xf1a del usuario ",(0,r.jsx)(n.code,{children:"root"}),". A partir de ese momento ya est\xe1s listo para comunicarte con tus bases de datos."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Conexi\xf3n mongosh shell",src:s(3347).A+"",width:"2534",height:"586"})}),(0,r.jsx)(n.p,{children:"Comprueba que la conexi\xf3n funciona realizando una consulta b\xe1sica, que debe devolverte un registro:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'use sample_mflix; // Indicamos la base de datos a utilizar y que se referenciar\xe1 mediante db\ndb.movies.find({ title: "Jurassic Park" }); // Buscamos la pel\xedcula con t\xedtulo Jurassic Park\n'})}),(0,r.jsx)(n.h2,{id:"recordatorio-json",children:"Recordatorio JSON"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"JSON"})," (JavaScript Object Notation) es un formato ligero de intercambio de datos, f\xe1cil de leer y escribir tanto para humanos como para m\xe1quinas. Se utiliza ampliamente para enviar y recibir datos en aplicaciones web debido a su simplicidad y compatibilidad con casi todos los lenguajes de programaci\xf3n."]}),(0,r.jsx)(n.h3,{id:"tipos-de-datos",children:"Tipos de datos"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cadenas de Texto:"})," Valores encerrados entre comillas dobles (",(0,r.jsx)(n.code,{children:'"'}),").","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"nombre": "Juan"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"N\xfameros:"})," Pueden ser enteros o decimales.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"edad": 25\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Booleanos:"})," Valores ",(0,r.jsx)(n.code,{children:"true"})," o ",(0,r.jsx)(n.code,{children:"false"}),".","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"activo": true\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Nulos:"})," Representados por ",(0,r.jsx)(n.code,{children:"null"}),".","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"vac\xedo": null\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Objetos:"})," Colecciones de pares clave-valor.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"direccion": { "ciudad": "Madrid", "pais": "Espa\xf1a" }\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Arrays:"})," Listas de valores.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"notas": [90, 85, 88]\n'})}),"\n"]}),"\n"]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"mongodb-query-language-mql",children:"MongoDB Query Language (MQL)"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"MongoDB Query Language (MQL)"})," es el lenguaje que utilizamos para interactuar con bases de datos MongoDB. Permite realizar operaciones CRUD (Crear, Leer, Actualizar y Eliminar) y ejecutar consultas avanzadas."]}),(0,r.jsxs)(n.h3,{id:"campo-_id-y-objectid",children:["Campo ",(0,r.jsx)(n.code,{children:"_id"})," y ",(0,r.jsx)(n.code,{children:"ObjectId"})]}),(0,r.jsxs)(n.p,{children:["El campo ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"_id"})})," en MongoDB es un campo especial que act\xfaa como el ",(0,r.jsx)(n.strong,{children:"identificador \xfanico"})," de cada documento dentro de una colecci\xf3n. Es obligatorio para todos los documentos y garantiza que cada uno sea \xfanico en su colecci\xf3n."]}),(0,r.jsxs)(n.p,{children:["Si no especificas un campo ",(0,r.jsx)(n.code,{children:"_id"})," al insertar un documento, MongoDB generar\xe1 autom\xe1ticamente uno. El valor generado es un ",(0,r.jsx)(n.strong,{children:"ObjectId"}),", un tipo especial de identificador. Tambi\xe9n puedes proporcionar tu propio valor para ",(0,r.jsx)(n.code,{children:"_id"})," al insertar un documento, siempre que sea \xfanico dentro de la colecci\xf3n."]}),(0,r.jsxs)(n.p,{children:["Un ",(0,r.jsx)(n.strong,{children:"ObjectId"})," autogenerado es un identificador hexadecimal de 12 bytes que incluye informaci\xf3n como:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Timestamp (4 bytes):"})," Fecha y hora de creaci\xf3n del ObjectId."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Identificador de M\xe1quina (3 bytes):"})," Un identificador \xfanico para la m\xe1quina donde se cre\xf3."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Proceso (2 bytes):"})," Un identificador \xfanico para el proceso de MongoDB."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contador Aleatorio (3 bytes):"})," Un n\xfamero incremental para evitar colisiones."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo de ObjectId:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"64a1f5a7b1d0d0385eaf1d2c\n"})}),(0,r.jsx)(n.h3,{id:"crear-una-base-de-datos",children:"Crear una Base de Datos"}),(0,r.jsx)(n.p,{children:"MongoDB no requiere un comando expl\xedcito para crear bases de datos. Se crea autom\xe1ticamente al usarla y a\xf1adir una colecci\xf3n o documento."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo: Seleccionar o Crear una Base de Datos:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"use miBaseDeDatos\n"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Esto selecciona ",(0,r.jsx)(n.code,{children:"miBaseDeDatos"}),". Si no existe, se crea cuando se inserta el primer dato."]}),"\n"]}),(0,r.jsx)(n.h3,{id:"crear-una-colecci\xf3n",children:"Crear una Colecci\xf3n"}),(0,r.jsx)(n.p,{children:"Las colecciones en MongoDB son equivalentes a las tablas en bases de datos relacionales. Este comando no es obligatorio, ya que se puede crear la colecci\xf3n al insertar el primer documento en ella, con el comando que veremos en el siguiente apartado."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Crear una Colecci\xf3n Vac\xeda:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.createCollection("miColeccion")\n'})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ver las Colecciones Existentes:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"show collections\n"})}),(0,r.jsx)(n.h3,{id:"insertar-documentos",children:"Insertar Documentos"}),(0,r.jsx)(n.p,{children:"Un documento es una estructura JSON que almacena datos en MongoDB."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Insertar un Documento en una Colecci\xf3n:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.insertOne({\n  nombre: "Juan P\xe9rez",\n  edad: 30,\n  correo: "juan@example.com"\n})\n'})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Insertar Varios Documentos:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.insertMany([\n  { nombre: "Ana Garc\xeda", edad: 25, correo: "ana@example.com" },\n  { nombre: "Carlos L\xf3pez", edad: 40, correo: "carlos@example.com" }\n])\n'})}),(0,r.jsxs)(n.admonition,{title:"campo _id",type:"info",children:[(0,r.jsxs)(n.p,{children:["Si insertas un documento sin especificar ",(0,r.jsx)(n.code,{children:"_id"}),", MongoDB lo generar\xe1 autom\xe1ticamente:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.usuarios.insertOne({\n  nombre: "Juan P\xe9rez",\n  edad: 30\n})\n'})}),(0,r.jsx)(n.p,{children:"MongoDB generar\xe1 algo como esto:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "_id": ObjectId("64a1f5a7b1d0d0385eaf1d2c"),\n  "nombre": "Juan P\xe9rez",\n  "edad": 30\n}\n'})}),(0,r.jsxs)(n.p,{children:["Si deseas especificar tu propio ",(0,r.jsx)(n.code,{children:"_id"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.usuarios.insertOne({\n  "_id": "usuario_001",\n  "nombre": "Ana Garc\xeda",\n  "edad": 25\n})\n'})}),(0,r.jsx)(n.p,{children:"El documento queda as\xed:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "_id": "usuario_001",\n  "nombre": "Ana Garc\xeda",\n  "edad": 25\n}\n'})})]}),(0,r.jsx)(n.h3,{id:"consultar-documentos",children:"Consultar Documentos"}),(0,r.jsxs)(n.p,{children:["Puedes usar ",(0,r.jsx)(n.code,{children:"find()"})," para buscar documentos en una colecci\xf3n. Adem\xe1s, puedes aplicar filtros similares a las condiciones que se ponen en el campo WHERE de una consulta SQL. Vamos a ver algunos ejemplos sobre la colecci\xf3n ",(0,r.jsx)(n.code,{children:"movies"}),"de la base de datos de ejemplo"]}),(0,r.jsx)(n.h4,{id:"1-consulta-b\xe1sica",children:(0,r.jsx)(n.strong,{children:"1. Consulta B\xe1sica"})}),(0,r.jsxs)(n.p,{children:["Para obtener todos los documentos de la colecci\xf3n ",(0,r.jsx)(n.code,{children:"movies"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.movies.find()\n"})}),(0,r.jsx)(n.h4,{id:"2-filtros-b\xe1sicos",children:"2. Filtros B\xe1sicos"}),(0,r.jsx)(n.h4,{id:"filtrar-por-igualdad",children:(0,r.jsx)(n.strong,{children:"Filtrar por Igualdad"})}),(0,r.jsxs)(n.p,{children:["Buscar pel\xedculas con el t\xedtulo ",(0,r.jsx)(n.code,{children:'"The Great Train Robbery"'}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "title": "The Great Train Robbery" })\n'})}),(0,r.jsx)(n.h4,{id:"filtrar-por-m\xfaltiples-campos",children:(0,r.jsx)(n.strong,{children:"Filtrar por M\xfaltiples Campos"})}),(0,r.jsxs)(n.p,{children:["Buscar pel\xedculas dirigidas por ",(0,r.jsx)(n.code,{children:'"Edwin S. Porter"'})," en el a\xf1o ",(0,r.jsx)(n.code,{children:"1903"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "directors": "Edwin S. Porter", "year": 1903 })\n'})}),(0,r.jsx)(n.h4,{id:"3-operadores-de-comparaci\xf3n",children:"3. Operadores de Comparaci\xf3n"}),(0,r.jsx)(n.p,{children:"MongoDB ofrece varios operadores para filtrar documentos bas\xe1ndose en valores."}),(0,r.jsx)(n.h4,{id:"ejemplos-comunes",children:(0,r.jsx)(n.strong,{children:"Ejemplos Comunes:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$gt"}),": Mayor que."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$lt"}),": Menor que."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$gte"}),": Mayor o igual que."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$lte"}),": Menor o igual que."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$ne"}),": No igual."]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nPel\xedculas con calificaci\xf3n de IMDb mayor a ",(0,r.jsx)(n.code,{children:"7.0"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "imdb.rating": { "$gt": 7.0 } })\n'})}),(0,r.jsxs)(n.p,{children:["Pel\xedculas con duraci\xf3n entre ",(0,r.jsx)(n.code,{children:"10"})," y ",(0,r.jsx)(n.code,{children:"20"})," minutos:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "runtime": { "$gte": 10, "$lte": 20 } })\n'})}),(0,r.jsx)(n.h4,{id:"4-operadores-l\xf3gicos",children:(0,r.jsx)(n.strong,{children:"4. Operadores L\xf3gicos"})}),(0,r.jsx)(n.p,{children:"Los operadores l\xf3gicos permiten combinar m\xfaltiples condiciones."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplos:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$and"}),": Todas las condiciones deben cumplirse."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$or"}),": Al menos una condici\xf3n debe cumplirse."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$not"}),": Niega una condici\xf3n."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Pel\xedculas con calificaci\xf3n mayor a ",(0,r.jsx)(n.code,{children:"7.0"})," ",(0,r.jsx)(n.strong,{children:"o"})," dirigidas por ",(0,r.jsx)(n.code,{children:'"Edwin S. Porter"'}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({\n  "$or": [\n    { "imdb.rating": { "$gt": 7.0 } },\n    { "directors": "Edwin S. Porter" }\n  ]\n})\n'})}),(0,r.jsxs)(n.p,{children:["Pel\xedculas con calificaci\xf3n ",(0,r.jsx)(n.strong,{children:"no"})," mayor a ",(0,r.jsx)(n.code,{children:"7.0"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "imdb.rating": { "$not": { "$gt": 7.0 } } })\n'})}),(0,r.jsx)(n.h4,{id:"5-consultas-con-arrays",children:(0,r.jsx)(n.strong,{children:"5. Consultas con Arrays"})}),(0,r.jsx)(n.p,{children:"Puedes filtrar documentos basados en valores dentro de arrays."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplos:"}),"\nBuscar pel\xedculas en las que ",(0,r.jsx)(n.code,{children:'"English"'})," sea uno de los idiomas:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "languages": "English" })\n'})}),(0,r.jsx)(n.h4,{id:"6-proyecciones",children:(0,r.jsx)(n.strong,{children:"6. Proyecciones"})}),(0,r.jsx)(n.p,{children:"Usa proyecciones para incluir o excluir campos en el resultado."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nMostrar solo los campos ",(0,r.jsx)(n.code,{children:"title"})," y ",(0,r.jsx)(n.code,{children:"year"})," de las pel\xedculas dirigidas por ",(0,r.jsx)(n.code,{children:'"Edwin S. Porter"'}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({"directors": "Edwin S. Porter"}, { "title": 1, "year": 1, "_id": 0 })\n'})}),(0,r.jsx)(n.h4,{id:"7-ordenar-resultados",children:(0,r.jsx)(n.strong,{children:"7. Ordenar Resultados"})}),(0,r.jsxs)(n.p,{children:["Usa ",(0,r.jsx)(n.code,{children:"sort()"})," para ordenar los resultados por un campo."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nOrdenar pel\xedculas por calificaci\xf3n IMDb en orden descendente:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find().sort({ "imdb.rating": -1 })\n'})}),(0,r.jsx)(n.h4,{id:"8-limitar-y-saltar-resultados",children:(0,r.jsx)(n.strong,{children:"8. Limitar y Saltar Resultados"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Limitar Resultados"}),"\nMostrar solo las primeras ",(0,r.jsx)(n.code,{children:"5"})," pel\xedculas:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.movies.find().limit(5)\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Saltar Resultados"}),"\nOmitir los primeros ",(0,r.jsx)(n.code,{children:"10"})," resultados:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.movies.find().skip(10)\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Combinar Ambos"}),"\nPaginaci\xf3n b\xe1sica (p\xe1gina 2, 5 resultados por p\xe1gina):"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.movies.find().skip(5).limit(5)\n"})}),(0,r.jsx)(n.h4,{id:"9-buscar-documentos-con-campos-existentes-o-faltantes",children:(0,r.jsx)(n.strong,{children:"9. Buscar Documentos con Campos Existentes o Faltantes"})}),(0,r.jsxs)(n.p,{children:["Pel\xedculas que tienen el campo ",(0,r.jsx)(n.code,{children:"awards"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "awards": { "$exists": true } })\n'})}),(0,r.jsxs)(n.p,{children:["Pel\xedculas que ",(0,r.jsx)(n.strong,{children:"no"})," tienen el campo ",(0,r.jsx)(n.code,{children:"plot"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "plot": { "$exists": false } })\n'})}),(0,r.jsx)(n.h4,{id:"10-buscar-documentos-con-substring",children:(0,r.jsx)(n.strong,{children:"10. Buscar Documentos con Substring"})}),(0,r.jsxs)(n.p,{children:['Pel\xedculas que contiene el texto "Jurassic Park" en el campo ',(0,r.jsx)(n.code,{children:"t\xedtulo"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.find({ "title": { "$regex": "Jurassic Park" } })\n'})}),(0,r.jsx)(n.h4,{id:"11-resumen-de-comandos",children:(0,r.jsx)(n.strong,{children:"11. Resumen de Comandos"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operador/Funci\xf3n"}),(0,r.jsx)(n.th,{children:"Uso"}),(0,r.jsx)(n.th,{children:"Ejemplo"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$eq"})}),(0,r.jsx)(n.td,{children:"Igual a"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ "year": { "$eq": 1903 } }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"$gt"}),", ",(0,r.jsx)(n.code,{children:"$lt"}),", ",(0,r.jsx)(n.code,{children:"$gte"}),", ",(0,r.jsx)(n.code,{children:"$lte"})]}),(0,r.jsx)(n.td,{children:"Comparaciones num\xe9ricas"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ "imdb.rating": { "$gt": 7.0 } }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"$and"}),", ",(0,r.jsx)(n.code,{children:"$or"}),", ",(0,r.jsx)(n.code,{children:"$not"})]}),(0,r.jsx)(n.td,{children:"Operadores l\xf3gicos"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ "$or": [{...}, {...}] }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$exists"})}),(0,r.jsx)(n.td,{children:"Verificar existencia de un campo"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ "awards": { "$exists": true } }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"sort()"}),", ",(0,r.jsx)(n.code,{children:"limit()"}),", ",(0,r.jsx)(n.code,{children:"skip()"})]}),(0,r.jsx)(n.td,{children:"Ordenar, limitar y paginar resultados"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'sort({ "year": -1 })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Proyecci\xf3n"}),(0,r.jsx)(n.td,{children:"Incluir/excluir campos en resultados"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ "title": 1, "_id": 0 }'})})]})]})]}),(0,r.jsxs)(n.admonition,{title:"CAMPOS DE FECHAS",type:"info",children:[(0,r.jsxs)(n.p,{children:["En MongoDB, las fechas se almacenan usando el tipo de dato ",(0,r.jsx)(n.code,{children:"Date"}),", que representa una marca de tiempo (timestamp). Este tipo se basa en el est\xe1ndar de fechas de JavaScript, donde las fechas se manejan como el n\xfamero de milisegundos desde el 1 de enero de 1970 (UTC)."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Insertar Documentos con Fechas"})}),(0,r.jsx)(n.p,{children:"Para insertar un fecha puedes utilizar la funci\xf3n ISODate(), indicando por par\xe1metro la fecha que quieres, en el formato yyyy-MM-dd."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.insertOne({\n  "dateCreated": ISODate("2003-03-26")\n})\n'})}),(0,r.jsx)(n.p,{children:"Tambi\xe9n puedes usar la funci\xf3n Date() para insertar la fecha actual:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.insertOne({ \n  "dateCreated": new Date() \n})\n'})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Consultas con Fechas"})}),(0,r.jsxs)(n.p,{children:["Puedes realizar consultas directamente sobre este campo utilizando operadores como ",(0,r.jsx)(n.code,{children:"$gte"}),", ",(0,r.jsx)(n.code,{children:"$lte"}),", ",(0,r.jsx)(n.code,{children:"$gt"}),", ",(0,r.jsx)(n.code,{children:"$lt"}),", etc."]}),(0,r.jsx)(n.p,{children:"Ejemplo: Buscar documentos con fecha despu\xe9s del 1 de enero de 2000:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.find({\n  "dateCreated": { "$gte": ISODate("2000-01-01") }\n})\n'})}),(0,r.jsxs)(n.p,{children:["Ejemplo: Buscar documentos exactamente con la fecha ",(0,r.jsx)(n.code,{children:'"2003-03-26"'}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.find({\n  "dateCreated": ISODate("2003-03-26")\n})\n'})})]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h3,{id:"actualizar-documentos",children:"Actualizar Documentos"}),(0,r.jsxs)(n.p,{children:["Puedes actualizar uno o m\xe1s documentos con ",(0,r.jsx)(n.code,{children:"updateOne"})," y ",(0,r.jsx)(n.code,{children:"updateMany"}),". La diferencia clave entre ambos es que:"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"updateOne"})}),": Aplica las actualizaciones solo al ",(0,r.jsx)(n.strong,{children:"primer documento"})," que coincida con el filtro."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"updateMany"})}),": Aplica las actualizaciones a ",(0,r.jsx)(n.strong,{children:"todos los documentos"})," que coincidan con el filtro."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Ambos utilizan la misma sintaxis para el filtro y las operaciones de actualizaci\xf3n (como ",(0,r.jsx)(n.code,{children:"$set"}),", ",(0,r.jsx)(n.code,{children:"$unset"}),", ",(0,r.jsx)(n.code,{children:"$push"}),", etc.)."]}),(0,r.jsx)(n.h4,{id:"1-sintaxis-general",children:(0,r.jsx)(n.strong,{children:"1. Sintaxis General"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"updateOne"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.<colecci\xf3n>.updateOne(\n  <filtro>,          // Condici\xf3n para buscar un documento\n  <actualizaci\xf3n>,   // Operaciones para actualizar el documento\n  <opciones>         // Opcional: Configuraci\xf3n como upsert\n)\n"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"updateMany"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.<colecci\xf3n>.updateMany(\n  <filtro>,          // Condici\xf3n para buscar los documentos\n  <actualizaci\xf3n>,   // Operaciones para actualizar los documentos\n  <opciones>         // Opcional: Configuraci\xf3n como upsert\n)\n"})}),(0,r.jsx)(n.h4,{id:"2-operaciones-b\xe1sicas",children:(0,r.jsx)(n.strong,{children:"2. Operaciones B\xe1sicas"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Actualizar un Documento con ",(0,r.jsx)(n.code,{children:"updateOne"})]}),"\nModifica el primer documento que coincida con el filtro."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nActualizar el a\xf1o de lanzamiento de la pel\xedcula ",(0,r.jsx)(n.code,{children:'"The Great Train Robbery"'}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" }, \n  { "$set": { "year": 1904 } }\n)\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Actualizar M\xfaltiples Documentos con ",(0,r.jsx)(n.code,{children:"updateMany"})]}),"\nActualiza todos los documentos que coincidan con el filtro."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nCambiar la calificaci\xf3n a ",(0,r.jsx)(n.code,{children:'"PG"'})," para todas las pel\xedculas lanzadas antes de 1950:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateMany(\n  { "year": { "$lt": 1950 } }, \n  { "$set": { "rated": "PG" } }\n)\n'})}),(0,r.jsx)(n.h4,{id:"3-operaciones-comunes",children:(0,r.jsx)(n.strong,{children:"3. Operaciones Comunes"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$set"})]}),"\nModifica o agrega un campo al documento."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nA\xf1adir o actualizar el campo ",(0,r.jsx)(n.code,{children:"director"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$set": { "director": "Edwin S. Porter" } }\n)\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$unset"})]}),"\nElimina un campo de un documento."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nEliminar el campo ",(0,r.jsx)(n.code,{children:"poster"})," de una pel\xedcula:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$unset": { "poster": "" } }\n)\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$inc"})]}),"\nIncrementa o decrementa un valor num\xe9rico."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nIncrementar en 100 los votos de IMDb:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$inc": { "imdb.votes": 100 } }\n)\n'})}),(0,r.jsx)(n.h4,{id:"operador-rename",children:(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$rename"})]})}),(0,r.jsx)(n.p,{children:"Renombra un campo."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nRenombrar el campo ",(0,r.jsx)(n.code,{children:"director"})," a ",(0,r.jsx)(n.code,{children:"directors"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$rename": { "director": "directors" } }\n)\n'})}),(0,r.jsx)(n.h4,{id:"4-trabajando-con-arrays",children:(0,r.jsx)(n.strong,{children:"4. Trabajando con Arrays"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$addToSet"})]}),"\nA\xf1ade un elemento a un array si no existe."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nA\xf1adir ",(0,r.jsx)(n.code,{children:'"Adventure"'})," al campo ",(0,r.jsx)(n.code,{children:"genres"})," solo si no est\xe1 presente:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$addToSet": { "genres": "Adventure" } }\n)\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$push"})]}),"\nA\xf1ade un elemento a un array (permitiendo duplicados)."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nA\xf1adir ",(0,r.jsx)(n.code,{children:'"Thriller"'})," al campo ",(0,r.jsx)(n.code,{children:"genres"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "The Great Train Robbery" },\n  { "$push": { "genres": "Thriller" } }\n)\n'})}),(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Operador ",(0,r.jsx)(n.code,{children:"$pull"})]}),"\nElimina elementos espec\xedficos de un array."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nEliminar ",(0,r.jsx)(n.code,{children:'"Western"'})," del campo ",(0,r.jsx)(n.code,{children:"genres"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateMany(\n  { "genres": "Western" },\n  { "$pull": { "genres": "Western" } }\n)\n'})}),(0,r.jsxs)(n.h4,{id:"5-opci\xf3n-upsert-insertar-si-no-existe",children:["5. Opci\xf3n ",(0,r.jsx)(n.code,{children:"upsert"})," (Insertar si no Existe)"]}),(0,r.jsxs)(n.p,{children:["Con la opci\xf3n ",(0,r.jsx)(n.code,{children:"upsert: true"}),", MongoDB inserta un nuevo documento si no se encuentra ninguno que coincida con el filtro."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"}),"\nSi no existe una pel\xedcula con el t\xedtulo ",(0,r.jsx)(n.code,{children:'"New Movie"'}),", se crea con los valores proporcionados:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.movies.updateOne(\n  { "title": "New Movie" },\n  { "$set": { "year": 2023, "rated": "PG" } },\n  { "upsert": true }\n)\n'})}),(0,r.jsx)(n.h4,{id:"7-resumen-de-operadores-comunes-de-actualizaci\xf3n",children:(0,r.jsx)(n.strong,{children:"7. Resumen de Operadores Comunes de Actualizaci\xf3n"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operador"}),(0,r.jsx)(n.th,{children:"Funci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$set"})}),(0,r.jsx)(n.td,{children:"Modifica o agrega un campo."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$unset"})}),(0,r.jsx)(n.td,{children:"Elimina un campo."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$inc"})}),(0,r.jsx)(n.td,{children:"Incrementa o decrementa un valor num\xe9rico."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$rename"})}),(0,r.jsx)(n.td,{children:"Cambia el nombre de un campo."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$push"})}),(0,r.jsx)(n.td,{children:"A\xf1ade un elemento al final de un array."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$addToSet"})}),(0,r.jsx)(n.td,{children:"A\xf1ade un elemento si no existe en el array."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$pull"})}),(0,r.jsx)(n.td,{children:"Elimina elementos espec\xedficos de un array."})]})]})]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h3,{id:"eliminar-documentos",children:"Eliminar Documentos"}),(0,r.jsxs)(n.p,{children:["Usa ",(0,r.jsx)(n.code,{children:"deleteOne"})," o ",(0,r.jsx)(n.code,{children:"deleteMany"})," para eliminar documentos."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Eliminar un Documento:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'db.miColeccion.deleteOne({ nombre: "Carlos L\xf3pez" })\n'})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Eliminar Varios Documentos:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.miColeccion.deleteMany({ edad: { $lt: 25 } })\n"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Eliminar Todos los Documentos de una Colecci\xf3n:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.miColeccion.deleteMany({})\n"})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h3,{id:"eliminar-una-colecci\xf3n",children:"Eliminar una Colecci\xf3n"}),(0,r.jsx)(n.p,{children:"Para eliminar una colecci\xf3n completa:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.miColeccion.drop()\n"})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h3,{id:"eliminar-una-base-de-datos",children:"Eliminar una Base de Datos"}),(0,r.jsx)(n.p,{children:"Elimina la base de datos seleccionada:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.dropDatabase()\n"})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h3,{id:"otros-comandos-\xfatiles",children:"Otros Comandos \xdatiles"}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Contar Documentos en una Colecci\xf3n:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"db.miColeccion.countDocuments()\n"})}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"ejercicios",children:"Ejercicios"}),(0,r.jsx)(n.h3,{id:"ejercicio-1",children:"Ejercicio 1"}),(0,r.jsxs)(n.p,{children:["Realiza las siguientes consultas en ",(0,r.jsx)(n.code,{children:"mongosh"})," sobre la base de datos ",(0,r.jsx)(n.code,{children:"sample_mflix"}),"."]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Encuentra todas las pel\xedculas dirigidas por "Edwin S. Porter".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Busca las pel\xedculas que fueron lanzadas despu\xe9s del a\xf1o 2000."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Obt\xe9n todas las pel\xedculas cuyo idioma sea "Spanish".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra solo los t\xedtulos y a\xf1os de todas las pel\xedculas."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Encuentra las pel\xedculas cuyo g\xe9nero incluya "Western".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Busca las pel\xedculas con una calificaci\xf3n IMDb mayor o igual a 8."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra las pel\xedculas con una duraci\xf3n entre 90 y 120 minutos."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra las pel\xedculas que tienen m\xe1s de 10,000 votos en IMDb."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra las pel\xedculas que tienen un actor llamado \"Gilbert M. 'Broncho Billy' Anderson\"."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Busca pel\xedculas lanzadas antes de 1950 que tengan una calificaci\xf3n IMDb mayor a 7."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Encuentra pel\xedculas que no tengan el idioma "English".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra pel\xedculas con m\xe1s de 5 rese\xf1as de cr\xedticos y un \xedndice de aceptaci\xf3n (meter) mayor al 80%."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra las 5 pel\xedculas mejor calificadas en IMDb y muestra solo sus t\xedtulos y calificaciones."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra las pel\xedculas que tienen al menos un g\xe9nero, pero no tienen director asignado."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Busca pel\xedculas donde alguno de los g\xe9neros sea "Action" y tenga a "Bruce Willis" como actor.'}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"ejercicio-2",children:"Ejercicio 2"}),(0,r.jsxs)(n.p,{children:["Desde la terminal ",(0,r.jsx)(n.code,{children:"mongosh"}),":"]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Crea una base de datos llamada ",(0,r.jsx)(n.code,{children:"universidad"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Dentro de la base de datos, crea una colecci\xf3n llamada ",(0,r.jsx)(n.code,{children:"cursos"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Inserta al menos ",(0,r.jsx)(n.strong,{children:"3 documentos"})," en la colecci\xf3n ",(0,r.jsx)(n.code,{children:"cursos"}),". Utiliza las dos funciones de inserci\xf3n. Cada documento debe contener los siguientes datos:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Nombre, duraci\xf3n en meses y c\xf3digo del curso."}),"\n",(0,r.jsx)(n.li,{children:"Lista de estudiantes matriculados en el curso. De cada estudiante conocemos su nombre y nacionalidad. Ten en cuenta que algunos estudiantes pueden tener m\xe1s de una nacionalidad."}),"\n",(0,r.jsx)(n.li,{children:"Informaci\xf3n del profesor del curso: nombre, correo y especialidad."}),"\n",(0,r.jsx)(n.li,{children:"La fecha en que el curso fue implantado."}),"\n",(0,r.jsx)(n.li,{children:"Calificaci\xf3n promedio del curso."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra solo los cursos con calificaci\xf3n promedio superior a 4.6:"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Mostrar los nombres de los cursos y el nombre del profesor a cargo:"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Agregar a todos los documentos un campo llamado ",(0,r.jsx)(n.code,{children:"requisitos"}),', que ser\xe1 un array con los valores "Matem\xe1ticas B\xe1sicas" y "L\xf3gica".']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Matricula al estudiante Francisco Fern\xe1ndez con nacionalidad estadounidense y espa\xf1ola en el curso "Introducci\xf3n a la programaci\xf3n". Puedes cambiar ese nombre por cualquiera de los que tu hayas insertado.'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:['Elimina "L\xf3gica" del campo ',(0,r.jsx)(n.code,{children:"requisitos"}),' para el curso "Introducci\xf3n a la programaci\xf3n". Puedes cambiar ese nombre por cualquiera de los que tu hayas insertado.']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Elimina los cursos que tienen una duraci\xf3n superior a 9 meses."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Elimina la base de datos."}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"ejercicio-3",children:"Ejercicio 3"}),(0,r.jsxs)(n.p,{children:["Utiliza la base de datos de prueba ",(0,r.jsx)(n.code,{children:"sample_airbnb"}),' para resolver las siguientes consultas. Puedes descargar esta base de datos seleccionando la opci\xf3n "Load Sample Dataset":']}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Descarga bases de datos ejemplo",src:s(4022).A+"",width:"2930",height:"1222"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra todos los alojamientos que est\xe1n en Portugal."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra los nombres y precios de los alojamientos cuyo precio por noche sea menor a $100."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Encuentra alojamientos que permiten fumar (",(0,r.jsx)(n.code,{children:'"Smoking allowed"'}),") y tienen m\xe1s de 3 habitaciones."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Filtra alojamientos que tienen m\xe1s de 50 rese\xf1as y un puntaje de limpieza (",(0,r.jsx)(n.code,{children:"review_scores_cleanliness"}),") mayor o igual a 9."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Encuentra alojamientos que ofrecen al menos las siguientes comodidades: "Wifi", "Kitchen" y "Heating".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Busca alojamientos que puedan alojar a 6 o m\xe1s personas pero cobran m\xe1s de $300 por noche."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Filtra alojamientos que tengan rese\xf1as con la palabra "location" en los comentarios.'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Encuentra alojamientos con un dep\xf3sito de seguridad mayor a $200 pero sin tarifa de limpieza."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Muestra los nombres y ubicaciones exactas de alojamientos con coordenadas que est\xe1n dentro de Brasil."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Ordena los alojamientos por calificaci\xf3n general (",(0,r.jsx)(n.code,{children:"review_scores_rating"}),") en orden descendente y muestra solo los 5 mejores."]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},4022:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/atlas-descarga-sample-dataset-9dc6ead851f2a1d7a66d8e6f63817f05.png"},3347:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/mongosh-connection-shell-86a05c77c7be6469657cfadb6e3dab9b.png"},206:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/mongosh-connection-5e62128cae0c964f991d1e792f37c2f7.png"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var a=s(6540);const r={},i=a.createContext(r);function c(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);