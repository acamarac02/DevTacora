"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[1059],{7601:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"pmdm_2425/ut5_persistencia/firebase/authentication/index","title":"Firebase Authentication","description":"Firebase Authentication es un servicio de autenticaci\xf3n seguro y f\xe1cil de integrar que permite a los usuarios iniciar sesi\xf3n en una aplicaci\xf3n con diferentes m\xe9todos. Elimina la necesidad de gestionar un backend para la autenticaci\xf3n, ya que Firebase se encarga de la infraestructura, la seguridad y la validaci\xf3n de credenciales.","source":"@site/docs/00_pmdm_2425/ut5_persistencia/4-firebase/1-authentication/index.md","sourceDirName":"00_pmdm_2425/ut5_persistencia/4-firebase/1-authentication","slug":"/pmdm_2425/ut5_persistencia/firebase/authentication/","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Firebase Authentication","title":"Firebase Authentication"},"sidebar":"pmdm_2425_Sidebar","previous":{"title":"Firebase","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/"},"next":{"title":"Autenticaci\xf3n con email y contrase\xf1a","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/firebase/authentication/demo-mail-pass"}}');var a=n(74848),r=n(28453);const t={sidebar_label:"Firebase Authentication",title:"Firebase Authentication"},o="Firebase Authentication",c={},l=[{value:"M\xe9todos de Autenticaci\xf3n",id:"m\xe9todos-de-autenticaci\xf3n",level:2},{value:"Funcionalidades y Gesti\xf3n de Usuarios",id:"funcionalidades-y-gesti\xf3n-de-usuarios",level:2},{value:"1. Registro y Almacenamiento de Credenciales",id:"1-registro-y-almacenamiento-de-credenciales",level:3},{value:"2. Verificaci\xf3n de Identidad",id:"2-verificaci\xf3n-de-identidad",level:3},{value:"3. Inicio de Sesi\xf3n y Validaci\xf3n de Usuarios",id:"3-inicio-de-sesi\xf3n-y-validaci\xf3n-de-usuarios",level:3},{value:"4. Recuperaci\xf3n de Contrase\xf1a",id:"4-recuperaci\xf3n-de-contrase\xf1a",level:3},{value:"5. Manejo de Sesiones y Cierre de Sesi\xf3n",id:"5-manejo-de-sesiones-y-cierre-de-sesi\xf3n",level:3},{value:"6. Administraci\xf3n de Usuarios desde Firebase Console",id:"6-administraci\xf3n-de-usuarios-desde-firebase-console",level:3},{value:"Principales M\xe9todos de Firebase Authentication en Android",id:"principales-m\xe9todos-de-firebase-authentication-en-android",level:2},{value:"Inicializar Firebase Authentication",id:"inicializar-firebase-authentication",level:3},{value:"Registrar un Usuario con Correo y Contrase\xf1a",id:"registrar-un-usuario-con-correo-y-contrase\xf1a",level:3},{value:"Iniciar Sesi\xf3n con Correo y Contrase\xf1a",id:"iniciar-sesi\xf3n-con-correo-y-contrase\xf1a",level:3},{value:"Cerrar Sesi\xf3n",id:"cerrar-sesi\xf3n",level:3},{value:"Obtener el Usuario Actual",id:"obtener-el-usuario-actual",level:3},{value:"Restablecer Contrase\xf1a (Enviar Email de Recuperaci\xf3n)",id:"restablecer-contrase\xf1a-enviar-email-de-recuperaci\xf3n",level:3},{value:"Verificar Correo Electr\xf3nico",id:"verificar-correo-electr\xf3nico",level:3},{value:"Eliminar una Cuenta de Usuario",id:"eliminar-una-cuenta-de-usuario",level:3},{value:"Autenticaci\xf3n con Google (OAuth)",id:"autenticaci\xf3n-con-google-oauth",level:3}];function d(e){const i={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)("div",{class:"justify-text",children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"firebase-authentication",children:"Firebase Authentication"})}),(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:"Firebase Authentication"})," es un servicio de autenticaci\xf3n seguro y f\xe1cil de integrar que permite a los usuarios iniciar sesi\xf3n en una aplicaci\xf3n con diferentes m\xe9todos. ",(0,a.jsx)(i.strong,{children:"Elimina la necesidad de gestionar un backend para la autenticaci\xf3n"}),", ya que Firebase se encarga de la infraestructura, la seguridad y la validaci\xf3n de credenciales."]}),(0,a.jsx)(i.hr,{}),(0,a.jsx)(i.h2,{id:"m\xe9todos-de-autenticaci\xf3n",children:"M\xe9todos de Autenticaci\xf3n"}),(0,a.jsxs)(i.p,{children:["Firebase Authentication ofrece ",(0,a.jsx)(i.strong,{children:"5 formas principales"})," para autenticar usuarios en una aplicaci\xf3n:"]}),(0,a.jsxs)(i.p,{children:["1\ufe0f\u20e3 ",(0,a.jsx)(i.strong,{children:"Autenticaci\xf3n con usuario y contrase\xf1a"})]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Los usuarios se registran e inician sesi\xf3n con su correo electr\xf3nico y una contrase\xf1a."}),"\n",(0,a.jsx)(i.li,{children:"Firebase gestiona el cifrado y almacenamiento de credenciales."}),"\n"]}),(0,a.jsxs)(i.p,{children:["2\ufe0f\u20e3 ",(0,a.jsx)(i.strong,{children:"Autenticaci\xf3n con OAuth (Google, GitHub, Facebook, Twitter, etc.)"})]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Permite a los usuarios iniciar sesi\xf3n con sus cuentas de terceros."}),"\n",(0,a.jsx)(i.li,{children:"Menos fricci\xf3n en el registro y m\xe1s r\xe1pido que recordar contrase\xf1as."}),"\n"]}),(0,a.jsxs)(i.p,{children:["3\ufe0f\u20e3 ",(0,a.jsx)(i.strong,{children:"Autenticaci\xf3n con n\xfamero de tel\xe9fono (OTP v\xeda SMS)"})]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Se env\xeda un c\xf3digo de verificaci\xf3n SMS al n\xfamero del usuario."}),"\n",(0,a.jsx)(i.li,{children:"Ideal para aplicaciones m\xf3viles donde los correos electr\xf3nicos no son necesarios."}),"\n"]}),(0,a.jsxs)(i.p,{children:["4\ufe0f\u20e3 ",(0,a.jsx)(i.strong,{children:"Inicio de sesi\xf3n an\xf3nimo"})]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Permite a los usuarios interactuar con la app sin registrarse."}),"\n",(0,a.jsx)(i.li,{children:"M\xe1s adelante pueden vincular una cuenta permanente sin perder datos."}),"\n"]}),(0,a.jsxs)(i.p,{children:["5\ufe0f\u20e3 ",(0,a.jsx)(i.strong,{children:"Autenticaci\xf3n con proveedor personalizado"})]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Se usa cuando necesitas integrar tu propio sistema de autenticaci\xf3n."}),"\n",(0,a.jsx)(i.li,{children:"M\xe1s flexible, pero requiere mayor configuraci\xf3n."}),"\n"]}),(0,a.jsx)(i.hr,{}),(0,a.jsx)(i.h2,{id:"funcionalidades-y-gesti\xf3n-de-usuarios",children:"Funcionalidades y Gesti\xf3n de Usuarios"}),(0,a.jsxs)(i.p,{children:["Firebase Authentication simplifica la ",(0,a.jsx)(i.strong,{children:"gesti\xf3n de usuarios"})," al manejar el ",(0,a.jsx)(i.strong,{children:"almacenamiento, seguridad y autenticaci\xf3n"})," sin que necesites configurar servidores propios. A continuaci\xf3n, se describen las principales funcionalidades que ofrece Firebase Authentication."]}),(0,a.jsx)(i.h3,{id:"1-registro-y-almacenamiento-de-credenciales",children:"1. Registro y Almacenamiento de Credenciales"}),(0,a.jsxs)(i.p,{children:["Cuando un usuario se registra con ",(0,a.jsx)(i.strong,{children:"correo y contrase\xf1a"}),", Firebase:",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Cifra autom\xe1ticamente la contrase\xf1a"})," antes de almacenarla en su base de datos segura.",(0,a.jsx)(i.br,{}),"\n","\u2714 Guarda los datos del usuario en un ",(0,a.jsx)(i.strong,{children:"backend seguro"}),", sin que t\xfa necesites una base de datos propia.",(0,a.jsx)(i.br,{}),"\n","\u2714 Permite almacenar informaci\xf3n adicional del usuario, como nombre, foto de perfil, etc."]}),(0,a.jsx)(i.h3,{id:"2-verificaci\xf3n-de-identidad",children:"2. Verificaci\xf3n de Identidad"}),(0,a.jsxs)(i.p,{children:["Para mejorar la seguridad, Firebase permite:",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Verificaci\xf3n de correo electr\xf3nico"}),", enviando un enlace al usuario.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Protecci\xf3n contra ataques de fuerza bruta"}),", limitando intentos fallidos de inicio de sesi\xf3n.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Autenticaci\xf3n de dos factores (2FA)"})," con n\xfamero de tel\xe9fono (requiere configuraci\xf3n adicional)."]}),(0,a.jsx)(i.h3,{id:"3-inicio-de-sesi\xf3n-y-validaci\xf3n-de-usuarios",children:"3. Inicio de Sesi\xf3n y Validaci\xf3n de Usuarios"}),(0,a.jsxs)(i.p,{children:["Cuando un usuario inicia sesi\xf3n con ",(0,a.jsx)(i.strong,{children:"correo y contrase\xf1a"}),", Firebase:",(0,a.jsx)(i.br,{}),"\n","\u2714 Verifica las credenciales con su base de datos segura.",(0,a.jsx)(i.br,{}),"\n","\u2714 Devuelve un ",(0,a.jsx)(i.strong,{children:"token de autenticaci\xf3n (JWT)"})," para que la app lo use en solicitudes seguras.",(0,a.jsx)(i.br,{}),"\n","\u2714 Soporta ",(0,a.jsx)(i.strong,{children:"m\xfaltiples sesiones"}),", lo que permite iniciar sesi\xf3n en varios dispositivos."]}),(0,a.jsx)(i.h3,{id:"4-recuperaci\xf3n-de-contrase\xf1a",children:"4. Recuperaci\xf3n de Contrase\xf1a"}),(0,a.jsxs)(i.p,{children:["Si un usuario olvida su contrase\xf1a, Firebase permite enviar un ",(0,a.jsx)(i.strong,{children:"correo de restablecimiento"})," con un enlace seguro."]}),(0,a.jsx)(i.h3,{id:"5-manejo-de-sesiones-y-cierre-de-sesi\xf3n",children:"5. Manejo de Sesiones y Cierre de Sesi\xf3n"}),(0,a.jsxs)(i.p,{children:["Cuando un usuario inicia sesi\xf3n, Firebase genera un ",(0,a.jsx)(i.strong,{children:"token JWT"})," que mantiene la sesi\xf3n activa hasta que:",(0,a.jsx)(i.br,{}),"\n","\u2714 El usuario ",(0,a.jsx)(i.strong,{children:"cierra sesi\xf3n"})," manualmente.",(0,a.jsx)(i.br,{}),"\n","\u2714 El token ",(0,a.jsx)(i.strong,{children:"expira"})," o se invalida (por cambios en la configuraci\xf3n de seguridad).",(0,a.jsx)(i.br,{}),"\n","\u2714 El administrador ",(0,a.jsx)(i.strong,{children:"revoca la sesi\xf3n"})," desde Firebase Console."]}),(0,a.jsx)(i.h3,{id:"6-administraci\xf3n-de-usuarios-desde-firebase-console",children:"6. Administraci\xf3n de Usuarios desde Firebase Console"}),(0,a.jsxs)(i.p,{children:["Desde la ",(0,a.jsx)(i.strong,{children:"Firebase Console"})," puedes:",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Ver todos los usuarios registrados"})," en la secci\xf3n de Authentication.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Eliminar usuarios manualmente"})," si es necesario.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Editar informaci\xf3n del usuario"})," (nombre, foto, correo).",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Desactivar usuarios"})," sin eliminarlos.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.strong,{children:"Revocar tokens"})," de usuarios si hay sospecha de actividad no autorizada."]}),(0,a.jsx)(i.h2,{id:"principales-m\xe9todos-de-firebase-authentication-en-android",children:"Principales M\xe9todos de Firebase Authentication en Android"}),(0,a.jsxs)(i.p,{children:["Para usar ",(0,a.jsx)(i.strong,{children:"Firebase Authentication"})," en tu aplicaci\xf3n Android, debes agregar la siguiente dependencia:"]}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-gradle",metastring:'title="build.gradle (Module: app)"',children:"implementation 'com.google.firebase:firebase-auth:21.0.1'\n"})}),(0,a.jsx)(i.p,{children:"Firebase Authentication proporciona diversos m\xe9todos para registrar, autenticar y gestionar usuarios. Los m\xe1s destacados son:"}),(0,a.jsx)(i.h3,{id:"inicializar-firebase-authentication",children:"Inicializar Firebase Authentication"}),(0,a.jsxs)(i.p,{children:["Antes de usar cualquier m\xe9todo, debes obtener una instancia de ",(0,a.jsx)(i.strong,{children:"FirebaseAuth"}),":"]}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:"FirebaseAuth mAuth = FirebaseAuth.getInstance();\n"})}),(0,a.jsx)(i.h3,{id:"registrar-un-usuario-con-correo-y-contrase\xf1a",children:"Registrar un Usuario con Correo y Contrase\xf1a"}),(0,a.jsxs)(i.p,{children:["Registra un nuevo usuario con su ",(0,a.jsx)(i.strong,{children:"email y password"})," en Firebase."]}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'mAuth.createUserWithEmailAndPassword(email, password)\n    .addOnCompleteListener(this, task -> {\n        if (task.isSuccessful()) {\n            FirebaseUser user = mAuth.getCurrentUser();\n            Toast.makeText(MainActivity.this, "Registro exitoso", Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainActivity.this, "Error en el registro: " + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 Crea un usuario con ",(0,a.jsx)(i.code,{children:"email"})," y ",(0,a.jsx)(i.code,{children:"password"}),".",(0,a.jsx)(i.br,{}),"\n","\u2714 Si el registro es exitoso, ",(0,a.jsx)(i.code,{children:"getCurrentUser()"})," obtiene el usuario autenticado."]}),(0,a.jsx)(i.h3,{id:"iniciar-sesi\xf3n-con-correo-y-contrase\xf1a",children:"Iniciar Sesi\xf3n con Correo y Contrase\xf1a"}),(0,a.jsx)(i.p,{children:"Permite que un usuario ya registrado inicie sesi\xf3n."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'mAuth.signInWithEmailAndPassword(email, password)\n    .addOnCompleteListener(this, task -> {\n        if (task.isSuccessful()) {\n            Toast.makeText(MainActivity.this, "Inicio de sesi\xf3n exitoso", Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainActivity.this, "Error: " + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 Firebase valida el ",(0,a.jsx)(i.code,{children:"email"})," y ",(0,a.jsx)(i.code,{children:"password"}),".",(0,a.jsx)(i.br,{}),"\n","\u2714 Si es correcto, la sesi\xf3n del usuario queda iniciada."]}),(0,a.jsx)(i.h3,{id:"cerrar-sesi\xf3n",children:"Cerrar Sesi\xf3n"}),(0,a.jsx)(i.p,{children:"Para salir de la cuenta del usuario autenticado."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'mAuth.signOut();\nToast.makeText(MainActivity.this, "Sesi\xf3n cerrada", Toast.LENGTH_SHORT).show();\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.code,{children:"signOut()"})," elimina la sesi\xf3n actual y el usuario deber\xe1 autenticarse nuevamente."]}),(0,a.jsx)(i.h3,{id:"obtener-el-usuario-actual",children:"Obtener el Usuario Actual"}),(0,a.jsx)(i.p,{children:"Si la sesi\xf3n est\xe1 activa, Firebase devuelve el usuario autenticado."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'FirebaseUser user = mAuth.getCurrentUser();\nif (user != null) {\n    String email = user.getEmail();\n    Toast.makeText(MainActivity.this, "Usuario: " + email, Toast.LENGTH_SHORT).show();\n} else {\n    Toast.makeText(MainActivity.this, "No hay sesi\xf3n activa", Toast.LENGTH_SHORT).show();\n}\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.code,{children:"getCurrentUser()"})," devuelve el usuario autenticado, o ",(0,a.jsx)(i.code,{children:"null"})," si no hay sesi\xf3n."]}),(0,a.jsx)(i.h3,{id:"restablecer-contrase\xf1a-enviar-email-de-recuperaci\xf3n",children:"Restablecer Contrase\xf1a (Enviar Email de Recuperaci\xf3n)"}),(0,a.jsx)(i.p,{children:"Si el usuario olvida su contrase\xf1a, Firebase puede enviar un correo de restablecimiento."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'mAuth.sendPasswordResetEmail(email)\n    .addOnCompleteListener(task -> {\n        if (task.isSuccessful()) {\n            Toast.makeText(MainActivity.this, "Correo de recuperaci\xf3n enviado", Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainActivity.this, "Error: " + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 Env\xeda un ",(0,a.jsx)(i.strong,{children:"correo de recuperaci\xf3n"})," con un enlace para restablecer la contrase\xf1a."]}),(0,a.jsx)(i.h3,{id:"verificar-correo-electr\xf3nico",children:"Verificar Correo Electr\xf3nico"}),(0,a.jsxs)(i.p,{children:["Despu\xe9s del registro, Firebase puede enviar un ",(0,a.jsx)(i.strong,{children:"email de verificaci\xf3n"}),"."]}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'FirebaseUser user = mAuth.getCurrentUser();\nif (user != null) {\n    user.sendEmailVerification()\n        .addOnCompleteListener(task -> {\n            if (task.isSuccessful()) {\n                Toast.makeText(MainActivity.this, "Correo de verificaci\xf3n enviado", Toast.LENGTH_SHORT).show();\n            }\n        });\n}\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 Env\xeda un ",(0,a.jsx)(i.strong,{children:"correo con un enlace"})," para verificar la cuenta.",(0,a.jsx)(i.br,{}),"\n","\u2714 Firebase puede bloquear logins si el correo no ha sido verificado (seg\xfan la configuraci\xf3n)."]}),(0,a.jsx)(i.h3,{id:"eliminar-una-cuenta-de-usuario",children:"Eliminar una Cuenta de Usuario"}),(0,a.jsx)(i.p,{children:"Permite que el usuario elimine su cuenta."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'FirebaseUser user = mAuth.getCurrentUser();\nif (user != null) {\n    user.delete()\n        .addOnCompleteListener(task -> {\n            if (task.isSuccessful()) {\n                Toast.makeText(MainActivity.this, "Cuenta eliminada", Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(MainActivity.this, "Error: " + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n}\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.code,{children:"delete()"})," elimina la cuenta actual de Firebase.",(0,a.jsx)(i.br,{}),"\n","\u2714 No se puede eliminar si la cuenta est\xe1 en uso (requiere nueva autenticaci\xf3n)."]}),(0,a.jsx)(i.h3,{id:"autenticaci\xf3n-con-google-oauth",children:"Autenticaci\xf3n con Google (OAuth)"}),(0,a.jsxs)(i.p,{children:["Para permitir el inicio de sesi\xf3n con Google, primero hay que ",(0,a.jsx)(i.strong,{children:"habilitar Google Sign-In en Firebase"}),". Luego, usa:"]}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:"GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n        .requestIdToken(getString(R.string.default_web_client_id))\n        .requestEmail()\n        .build();\n\nGoogleSignInClient googleSignInClient = GoogleSignIn.getClient(this, gso);\n\n// Llamar al intent de Google Sign-In\nIntent signInIntent = googleSignInClient.getSignInIntent();\nstartActivityForResult(signInIntent, 9001);\n"})}),(0,a.jsx)(i.p,{children:"Luego, maneja la respuesta:"}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-java",children:'@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 9001) {\n        Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\n        try {\n            GoogleSignInAccount account = task.getResult(ApiException.class);\n            firebaseAuthWithGoogle(account);\n        } catch (ApiException e) {\n            Toast.makeText(this, "Error al iniciar sesi\xf3n con Google", Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\nprivate void firebaseAuthWithGoogle(GoogleSignInAccount account) {\n    AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\n    mAuth.signInWithCredential(credential)\n        .addOnCompleteListener(this, task -> {\n            if (task.isSuccessful()) {\n                Toast.makeText(MainActivity.this, "Inicio de sesi\xf3n con Google exitoso", Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(MainActivity.this, "Error: " + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n}\n'})}),(0,a.jsxs)(i.p,{children:["\ud83d\udccc ",(0,a.jsx)(i.strong,{children:"Explicaci\xf3n:"}),(0,a.jsx)(i.br,{}),"\n","\u2714 Usa la API de Google para obtener la cuenta del usuario.",(0,a.jsx)(i.br,{}),"\n","\u2714 ",(0,a.jsx)(i.code,{children:"signInWithCredential()"})," autentica al usuario en Firebase."]})]})}function u(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>o});var s=n(96540);const a={},r=s.createContext(a);function t(e){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);