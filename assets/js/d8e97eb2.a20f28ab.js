"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6437],{11470:(e,n,s)=>{s.d(n,{A:()=>y});var a=s(96540),o=s(34164),d=s(23104),r=s(56347),i=s(205),l=s(57485),c=s(31682),t=s(70679);function u(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:s,default:a}})=>({value:e,label:n,attributes:s,default:a}))}(s);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const s=(0,r.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(o),(0,a.useCallback)(e=>{if(!o)return;const n=new URLSearchParams(s.location.search);n.set(o,e),s.replace({...s.location,search:n.toString()})},[o,s])]}function p(e){const{defaultValue:n,queryString:s=!1,groupId:o}=e,d=h(e),[r,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:d})),[c,u]=j({queryString:s,groupId:o}),[p,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,o]=(0,t.Dv)(n);return[s,(0,a.useCallback)(e=>{n&&o.set(e)},[n,o])]}({groupId:o}),b=(()=>{const e=c??p;return m({value:e,tabValues:d})?e:null})();(0,i.A)(()=>{b&&l(b)},[b]);return{selectedValue:r,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:d}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),x(e)},[u,x,d]),tabValues:d}}var x=s(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=s(74848);function f({className:e,block:n,selectedValue:s,selectValue:a,tabValues:r}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,d.a_)(),c=e=>{const n=e.currentTarget,o=i.indexOf(n),d=r[o].value;d!==s&&(l(n),a(d))},t=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=i.indexOf(e.currentTarget)+1;n=i[s]??i[0];break}case"ArrowLeft":{const s=i.indexOf(e.currentTarget)-1;n=i[s]??i[i.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:a})=>(0,g.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{i.push(e)},onKeyDown:t,onClick:c,...a,className:(0,o.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function v({lazy:e,children:n,selectedValue:s}){const d=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=d.find(e=>e.props.value===s);return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:d.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function _(e){const n=p(e);return(0,g.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,g.jsx)(f,{...n,...e}),(0,g.jsx)(v,{...n,...e})]})}function y(e){const n=(0,x.A)();return(0,g.jsx)(_,{...e,children:u(e.children)},String(n))}},19365:(e,n,s)=>{s.d(n,{A:()=>r});s(96540);var a=s(34164);const o={tabItem:"tabItem_Ymn6"};var d=s(74848);function r({children:e,hidden:n,className:s}){return(0,d.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,s),hidden:n,children:e})}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>i});var a=s(96540);const o={},d=a.createContext(o);function r(e){const n=a.useContext(d);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(d.Provider,{value:n},e.children)}},90909:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"ada_2425/ut5_bbdd_nosql/mongodb/index","title":"MongoDB","description":"MongoDB es una base de datos NoSQL orientada a documentos, dise\xf1ada para almacenar datos de forma flexible y escalable. A diferencia de las bases de datos relacionales tradicionales, MongoDB no utiliza tablas ni filas, sino que almacena los datos en documentos de tipo JSON (JavaScript Object Notation) o BSON (Binary JSON). Estos documentos pueden contener estructuras anidadas, listas y otros elementos complejos.","source":"@site/docs/00_ada_2425/ut5_bbdd_nosql/mongodb/index.mdx","sourceDirName":"00_ada_2425/ut5_bbdd_nosql/mongodb","slug":"/ada_2425/ut5_bbdd_nosql/mongodb/","permalink":"/DevTacora/docs/ada_2425/ut5_bbdd_nosql/mongodb/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"MongoDB","title":"MongoDB"},"sidebar":"ada_2425_Sidebar","previous":{"title":"Bases de datos NoSQL","permalink":"/DevTacora/docs/ada_2425/ut5_bbdd_nosql/bbdd-nosql"},"next":{"title":"Puesta en marcha","permalink":"/DevTacora/docs/ada_2425/ut5_bbdd_nosql/mongodb/puesta-en-marcha"}}');var o=s(74848),d=s(28453),r=s(11470),i=s(19365);const l={sidebar_position:2,sidebar_label:"MongoDB",title:"MongoDB"},c=void 0,t={},u=[{value:"Caracter\xedsticas b\xe1sicas",id:"caracter\xedsticas-b\xe1sicas",level:2},{value:"Ventajas de MongoDB",id:"ventajas-de-mongodb",level:2},{value:"Desventajas de MongoDB",id:"desventajas-de-mongodb",level:2},{value:"Modelo de almacenamiento de datos",id:"modelo-de-almacenamiento-de-datos",level:2},{value:"Ejemplo de Diferencia con SQL",id:"ejemplo-de-diferencia-con-sql",level:3},{value:"<em>Modelo en SQL (Uso de M\xfaltiples Tablas)</em>",id:"modelo-en-sql-uso-de-m\xfaltiples-tablas",level:4},{value:"<strong>Consulta SQL con JOINs:</strong>",id:"consulta-sql-con-joins",level:4},{value:"<em>Modelo en MongoDB</em>",id:"modelo-en-mongodb",level:4},{value:"<strong>Consulta MongoDB (MQL):</strong>",id:"consulta-mongodb-mql",level:4},{value:"Diferencias Clave:",id:"diferencias-clave",level:4},{value:"C\xf3mo Manejar la Redundancia",id:"c\xf3mo-manejar-la-redundancia",level:3},{value:"Conclusi\xf3n",id:"conclusi\xf3n",level:3}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)("div",{class:"justify-text",children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"MongoDB"})," es una base de datos NoSQL orientada a documentos, dise\xf1ada para almacenar datos de forma flexible y escalable. A diferencia de las bases de datos relacionales tradicionales, MongoDB no utiliza tablas ni filas, sino que almacena los datos en documentos de tipo ",(0,o.jsx)(n.strong,{children:"JSON (JavaScript Object Notation)"})," o ",(0,o.jsx)(n.strong,{children:"BSON (Binary JSON)"}),". Estos documentos pueden contener estructuras anidadas, listas y otros elementos complejos."]}),(0,o.jsxs)(n.p,{children:["MongoDB se ha consolidado como una de las bases de datos NoSQL m\xe1s populares y es utilizada por empresas como ",(0,o.jsx)(n.strong,{children:"Facebook, Uber, eBay y muchas m\xe1s"}),"."]}),(0,o.jsx)(n.h2,{id:"caracter\xedsticas-b\xe1sicas",children:"Caracter\xedsticas b\xe1sicas"}),(0,o.jsx)(n.p,{children:"Las caracter\xedsticas de MongoDB son las propias de la mayor\xeda de las bases de datos NoSQL:"}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Modelo de Datos Flexible"}),(0,o.jsx)(n.br,{}),"\n","MongoDB permite almacenar datos sin un esquema fijo. Cada documento puede tener diferentes campos, lo que facilita la adaptabilidad a cambios en los requisitos de la aplicaci\xf3n sin necesidad de modificar estructuras existentes."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Escalabilidad Horizontal"}),(0,o.jsx)(n.br,{}),"\n","MongoDB est\xe1 dise\xf1ado para escalar horizontalmente, lo que significa que puedes distribuir la base de datos en m\xfaltiples servidores (sharding). Esto permite manejar grandes vol\xfamenes de datos y mantener un alto rendimiento a medida que crece la carga."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Alta Disponibilidad y Replicaci\xf3n"}),(0,o.jsx)(n.br,{}),"\n","MongoDB ofrece replicaci\xf3n autom\xe1tica mediante ",(0,o.jsx)(n.strong,{children:"r\xe9plicas de conjunto (replica sets)"}),". Esto asegura que haya copias de los datos en diferentes servidores, proporcionando tolerancia a fallos y alta disponibilidad."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Consultas Poderosas"}),(0,o.jsx)(n.br,{}),"\n","El lenguaje de consulta de MongoDB es ",(0,o.jsx)(n.strong,{children:"MQL (MongoDB Query Language)"}),", que permite realizar consultas avanzadas usando un lenguaje de consulta rico y expresivo, basado en JSON/BSON. Se pueden realizar b\xfasquedas por rango, consultas de texto, agregaciones y m\xe1s. Adem\xe1s, admite \xedndices para mejorar el rendimiento de las consultas. Ejemplos de consultas:"]}),"\n"]}),"\n"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'// Busca todos los documentos cuyo campo "nombre" tenga el valor "Juan P\xe9rez", dentro de la \n// base de datos seleccionada (db) y dentro de la colecci\xf3n "usuarios"\ndb.usuarios.find({ "nombre": "Juan P\xe9rez" })\n\n// Busca los usuarios con edad entre 20 y 30\ndb.usuarios.find({ "edad": { "$gte": 20, "$lte": 30 } })\n'})}),(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Integraci\xf3n con Aplicaciones Modernas"}),(0,o.jsx)(n.br,{}),"\n","MongoDB se integra bien con aplicaciones web y m\xf3viles gracias a su modelo basado en JSON, que es el formato de datos utilizado en la mayor\xeda de las aplicaciones modernas."]}),"\n"]}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h2,{id:"ventajas-de-mongodb",children:"Ventajas de MongoDB"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rapidez en el Desarrollo"}),": Al no requerir un esquema fijo, los desarrolladores pueden trabajar r\xe1pidamente y ajustar los modelos de datos sobre la marcha."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Adaptabilidad"}),": Ideal para aplicaciones con datos no estructurados o semi-estructurados."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Alto Rendimiento"}),": Optimizado para manejar grandes cantidades de datos con rapidez."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Escalabilidad Din\xe1mica"}),": Permite crecer a medida que aumentan las necesidades del sistema."]}),"\n"]}),(0,o.jsx)(n.h2,{id:"desventajas-de-mongodb",children:"Desventajas de MongoDB"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consistencia Eventual"}),": A veces, en entornos distribuidos, se sacrifica la consistencia inmediata por la disponibilidad y la partici\xf3n (modelo CAP)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Uso de Memoria"}),": MongoDB puede consumir m\xe1s memoria que las bases de datos SQL, ya que almacena datos repetidos y no sigue estrictamente la normalizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Menor Adecuaci\xf3n para Transacciones Complejas"}),": Aunque MongoDB ha mejorado su soporte para transacciones, no es tan robusto como las bases de datos relacionales en este aspecto."]}),"\n"]}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h2,{id:"modelo-de-almacenamiento-de-datos",children:"Modelo de almacenamiento de datos"}),(0,o.jsxs)(n.p,{children:["MongoDB almacena la informaci\xf3n en ",(0,o.jsx)(n.strong,{children:"colecciones"})," y ",(0,o.jsx)(n.strong,{children:"documentos"})," en lugar de tablas, filas y columnas."]}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Base de Datos (Database):"}),(0,o.jsx)(n.br,{}),"\n","Es el nivel m\xe1s alto de organizaci\xf3n. Similar a una base de datos en SQL, una base de datos en MongoDB puede contener m\xfaltiples colecciones."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Colecci\xf3n (Collection):"}),(0,o.jsx)(n.br,{}),"\n","Una colecci\xf3n es el equivalente a una tabla en una base de datos relacional. Sin embargo, a diferencia de las tablas, las colecciones en MongoDB no requieren un esquema fijo. Esto significa que los documentos dentro de una misma colecci\xf3n pueden tener estructuras diferentes."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Documento (Document):"}),(0,o.jsx)(n.br,{}),"\n","Los documentos son el equivalente a filas en una tabla relacional. Sin embargo, en lugar de dividir los datos en columnas, se almacenan como objetos ",(0,o.jsx)(n.strong,{children:"JSON"})," o ",(0,o.jsx)(n.strong,{children:"BSON"}),". Un documento puede contener campos anidados y listas.",(0,o.jsx)(n.br,{}),"\n","Por ejemplo:"]}),"\n"]}),"\n"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "_id": 1,\n  "nombre": "Juan P\xe9rez",\n  "correo": "juan@example.com",\n  "edad": 30,\n  "direcci\xf3n": {\n    "calle": "Avenida Siempre Viva",\n    "ciudad": "Springfield"\n  },\n  "hobbies": ["f\xfatbol", "lectura", "viajar"]\n}\n'})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"_id"}),": Es el identificador \xfanico del documento (similar a una clave primaria)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"nombre, correo, edad, direcci\xf3n, hobbies"}),": Son campos que representan diferentes atributos del documento."]}),"\n"]}),(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Campo (Field):"}),(0,o.jsx)(n.br,{}),"\n",'Cada par clave-valor dentro de un documento es un campo. Por ejemplo, "nombre": "Juan P\xe9rez" es un campo. MongoDB permite que los campos tengan diferentes tipos de datos, como texto, n\xfameros, listas, objetos anidados, etc.']}),"\n"]}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h3,{id:"ejemplo-de-diferencia-con-sql",children:"Ejemplo de Diferencia con SQL"}),(0,o.jsxs)(n.p,{children:["Vamos a ver con un ejemplo pr\xe1ctico c\xf3mo MongoDB agrupa informaci\xf3n en un solo documento, mientras que en SQL necesitar\xedas varias tablas y un ",(0,o.jsx)(n.code,{children:"JOIN"})," para obtener los mismos datos."]}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Escenario: Gesti\xf3n de Pedidos de Clientes"}),(0,o.jsx)(n.br,{}),"\n","Imagina que tienes un sistema para gestionar pedidos de clientes. En SQL, la informaci\xf3n se normaliza en varias tablas para evitar redundancia. En MongoDB, toda la informaci\xf3n relacionada con un pedido puede almacenarse dentro de un solo documento."]}),(0,o.jsx)(n.h4,{id:"modelo-en-sql-uso-de-m\xfaltiples-tablas",children:(0,o.jsx)(n.em,{children:"Modelo en SQL (Uso de M\xfaltiples Tablas)"})}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Tablas:"})}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Clientes:"})," Informaci\xf3n personal del cliente."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pedidos:"})," Registra cada pedido hecho por los clientes."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Detalles_Pedido:"})," Lista los productos de cada pedido."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Productos:"})," Cat\xe1logo de productos disponibles."]}),"\n"]}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ejemplo de contenido:"})}),(0,o.jsxs)(n.p,{children:["Tabla ",(0,o.jsx)(n.code,{children:"Clientes"})]}),(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"id_cliente"}),(0,o.jsx)(n.th,{children:"nombre"}),(0,o.jsx)(n.th,{children:"correo"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"1"}),(0,o.jsx)(n.td,{children:"Juan P\xe9rez"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"mailto:juan@example.com",children:"juan@example.com"})})]})})]}),(0,o.jsxs)(n.p,{children:["Tabla ",(0,o.jsx)(n.code,{children:"Pedidos"})]}),(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"id_pedido"}),(0,o.jsx)(n.th,{children:"id_cliente"}),(0,o.jsx)(n.th,{children:"fecha"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"101"}),(0,o.jsx)(n.td,{children:"1"}),(0,o.jsx)(n.td,{children:"2024-01-01"})]})})]}),(0,o.jsxs)(n.p,{children:["Tabla ",(0,o.jsx)(n.code,{children:"Detalles_Pedido"})]}),(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"id_detalle"}),(0,o.jsx)(n.th,{children:"id_pedido"}),(0,o.jsx)(n.th,{children:"id_producto"}),(0,o.jsx)(n.th,{children:"cantidad"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"1"}),(0,o.jsx)(n.td,{children:"101"}),(0,o.jsx)(n.td,{children:"2001"}),(0,o.jsx)(n.td,{children:"2"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"2"}),(0,o.jsx)(n.td,{children:"101"}),(0,o.jsx)(n.td,{children:"2002"}),(0,o.jsx)(n.td,{children:"1"})]})]})]}),(0,o.jsxs)(n.p,{children:["Tabla ",(0,o.jsx)(n.code,{children:"Productos"})]}),(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"id_producto"}),(0,o.jsx)(n.th,{children:"nombre_producto"}),(0,o.jsx)(n.th,{children:"precio"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"2001"}),(0,o.jsx)(n.td,{children:"Port\xe1til"}),(0,o.jsx)(n.td,{children:"1000"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"2002"}),(0,o.jsx)(n.td,{children:"Teclado"}),(0,o.jsx)(n.td,{children:"50"})]})]})]}),(0,o.jsx)(n.h4,{id:"consulta-sql-con-joins",children:(0,o.jsx)(n.strong,{children:"Consulta SQL con JOINs:"})}),(0,o.jsx)(n.p,{children:"Si queremos obtener la informaci\xf3n completa de los pedidos realizados por el cliente Juan P\xe9rez:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"SELECT c.nombre, p.id_pedido, p.fecha, d.cantidad, pr.nombre_producto\nFROM Clientes c\nJOIN Pedidos p ON c.id_cliente = p.id_cliente\nJOIN Detalles_Pedido d ON p.id_pedido = d.id_pedido\nJOIN Productos pr ON d.id_producto = pr.id_producto\nWHERE c.nombre = 'Juan P\xe9rez';\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"modelo-en-mongodb",children:(0,o.jsx)(n.em,{children:"Modelo en MongoDB"})}),(0,o.jsxs)(n.p,{children:["En MongoDB, la misma informaci\xf3n se almacena en un ",(0,o.jsx)(n.strong,{children:"\xfanico documento"})," dentro de una colecci\xf3n llamada ",(0,o.jsx)(n.code,{children:"pedidos"}),". No es necesario dividir los datos en m\xfaltiples colecciones ni hacer ",(0,o.jsx)(n.code,{children:"JOINs"}),"."]}),(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Documento MongoDB (Colecci\xf3n ",(0,o.jsx)(n.code,{children:"pedidos"}),"):"]})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "_id": 101,\n  "cliente": {\n    "id_cliente": 1,\n    "nombre": "Juan P\xe9rez",\n    "correo": "juan@example.com"\n  },\n  "fecha": "2024-01-01",\n  "productos": [\n    {\n      "id_producto": 2001,\n      "nombre_producto": "Port\xe1til",\n      "cantidad": 2,\n      "precio": 1000\n    },\n    {\n      "id_producto": 2002,\n      "nombre_producto": "Teclado",\n      "cantidad": 1,\n      "precio": 50\n    }\n  ]\n}\n'})}),(0,o.jsx)(n.h4,{id:"consulta-mongodb-mql",children:(0,o.jsx)(n.strong,{children:"Consulta MongoDB (MQL):"})}),(0,o.jsx)(n.p,{children:"La misma consulta que realiz\xe1bamos antes se quedar\xeda en:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'db.pedidos.find({ "cliente.nombre": "Juan P\xe9rez" })\n'})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"diferencias-clave",children:"Diferencias Clave:"}),(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Caracter\xedstica"}),(0,o.jsx)(n.th,{children:"SQL (Modelo Relacional)"}),(0,o.jsx)(n.th,{children:"MongoDB (Modelo de Documentos)"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Estructura"})}),(0,o.jsxs)(n.td,{children:["M\xfaltiples tablas ",(0,o.jsx)(n.strong,{children:"normalizadas"})]}),(0,o.jsx)(n.td,{children:"Un solo documento anidado"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Consultas"})}),(0,o.jsxs)(n.td,{children:["Necesita ",(0,o.jsx)(n.code,{children:"JOIN"})," entre tablas"]}),(0,o.jsxs)(n.td,{children:["Consulta simple sin ",(0,o.jsx)(n.code,{children:"JOIN"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Velocidad de Lectura"})}),(0,o.jsxs)(n.td,{children:["M\xe1s lento (por ",(0,o.jsx)(n.code,{children:"JOINs"}),")"]}),(0,o.jsx)(n.td,{children:"M\xe1s r\xe1pido (datos en un solo lugar)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Flexibilidad del Esquema"})}),(0,o.jsx)(n.td,{children:"Estricto (esquema fijo)"}),(0,o.jsx)(n.td,{children:"Flexible (puede cambiar de un documento a otro)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Actualizaci\xf3n de Datos"})}),(0,o.jsx)(n.td,{children:"Modificaci\xf3n en m\xfaltiples tablas"}),(0,o.jsx)(n.td,{children:"Modificaci\xf3n en un solo documento"})]})]})]}),(0,o.jsxs)(n.admonition,{title:"ATENCI\xd3N",type:"warning",children:[(0,o.jsxs)(n.p,{children:["La estructura mostrada en MongoDB puede que no sea la m\xe1s adecuada, aunque dependender\xe1 del caso de uso y de la aplicaci\xf3n que estemos desarrollando. Ten en cuenta que estamos perdiendo la ",(0,o.jsx)(n.strong,{children:"normalizaci\xf3n"})," y produciendo una ",(0,o.jsx)(n.strong,{children:"redundancia de datos"}),", es decir, la informaci\xf3n del cliente y los productos est\xe1 duplicada en muchos documentos."]}),(0,o.jsxs)(n.p,{children:["Si ma\xf1ana el cliente Juan P\xe9rez cambia su correo, habr\xeda que modificar todos los pedidos que haya realizado. Lo mismo suceder\xeda si el producto Teclado tuviese que cambiar de precio: habr\xeda que actualizar todos los pedidos en los que est\xe9. Por este motivo, tambi\xe9n es importe un ",(0,o.jsx)(n.strong,{children:"buen dise\xf1o de la base de datos"}),"."]})]}),(0,o.jsx)(n.h3,{id:"c\xf3mo-manejar-la-redundancia",children:"C\xf3mo Manejar la Redundancia"}),(0,o.jsxs)(n.p,{children:["Si deseas evitar redundancia, puedes usar una colecci\xf3n separada para los clientes y almacenar solo una referencia al ",(0,o.jsx)(n.code,{children:"id_cliente"})," en los documentos de ",(0,o.jsx)(n.code,{children:"pedidos"}),". Esto emula una relaci\xf3n de claves for\xe1neas similar a SQL."]}),(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Colecci\xf3n ",(0,o.jsx)(n.code,{children:"clientes"}),":"]})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "_id": 1,\n  "nombre": "Juan P\xe9rez",\n  "correo": "juan@example.com"\n}\n'})}),(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Colecci\xf3n ",(0,o.jsx)(n.code,{children:"pedidos"}),":"]})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "_id": 102,\n  "id_cliente": 1,\n  "fecha": "2024-02-01",\n  "productos": [\n    {\n      "id_producto": 2003,\n      "nombre_producto": "Mouse",\n      "cantidad": 1,\n      "precio": 25\n    },\n    {\n      "id_producto": 2004,\n      "nombre_producto": "Monitor",\n      "cantidad": 1,\n      "precio": 200\n    }\n  ]\n}\n'})}),(0,o.jsxs)(n.p,{children:["En este caso, para obtener informaci\xf3n completa del cliente y su pedido, necesitar\xedas hacer una ",(0,o.jsx)(n.strong,{children:"consulta manual"})," para combinar los datos de ambas colecciones, pero reduces la redundancia."]}),(0,o.jsxs)(r.A,{children:[(0,o.jsx)(i.A,{value:"consulta",label:"Consulta",default:!0,children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'db.clientes.aggregate([\n{\n"$lookup": {\n  "from": "pedidos",         // Colecci\xf3n que se une\n  "localField": "_id",       // Campo en la colecci\xf3n "clientes"\n  "foreignField": "id_cliente", // Campo relacionado en "pedidos"\n  "as": "pedidos"            // Nombre del campo resultante que contendr\xe1 los pedidos\n}\n},\n{\n"$match": { "nombre": "Juan P\xe9rez" } // Filtrar por el cliente deseado\n},\n{\n"$project": {\n  "nombre": 1,\n  "pedidos": 1               // Seleccionar s\xf3lo los campos necesarios\n}\n}\n])\n'})})}),(0,o.jsx)(i.A,{value:"resultado",label:"Resultado",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'  [\n{\n"_id": 1,\n"nombre": "Juan P\xe9rez",\n"pedidos": [\n  {\n    "_id": 102,\n    "id_cliente": 1,\n    "fecha": "2024-02-01",\n    "productos": [\n      {\n        "id_producto": 2003,\n        "nombre_producto": "Mouse",\n        "cantidad": 1,\n        "precio": 25\n      },\n      {\n        "id_producto": 2004,\n        "nombre_producto": "Monitor",\n        "cantidad": 1,\n        "precio": 200\n      }\n    ]\n  }\n]\n}\n]\n\n'})})})]}),(0,o.jsx)(n.h3,{id:"conclusi\xf3n",children:"Conclusi\xf3n"}),(0,o.jsx)(n.p,{children:"La decisi\xf3n de incluir toda la informaci\xf3n en un documento (desnormalizaci\xf3n) o separarla en colecciones relacionadas depende del caso de uso espec\xedfico. Si las lecturas r\xe1pidas son clave y la redundancia es aceptable, usa documentos completos. Si la consistencia y la integridad son importantes, considera dividir los datos en varias colecciones."})]})}function m(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);