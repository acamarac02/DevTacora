"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[9748],{26923:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/files/ejemplo_decision_tree_regresion-b2f7fb4bac90e4a7cc83b4883aa4f7c7.ipynb"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>d});var s=i(96540);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}},31852:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"pia_2526/ut3_ml/aprendizaje-supervisado/regresion/arbol_decision_regresion","title":"Decision Trees Regresi\xf3n","description":"Introducci\xf3n a Decision Tree Regression en Machine Learning. Funcionamiento del algoritmo, diferencias con \xe1rboles de clasificaci\xf3n, hiperpar\xe1metros principales, visualizaci\xf3n del \xe1rbol, importancia de variables y m\xe9tricas de evaluaci\xf3n.","source":"@site/docs/01_pia_2526/ut3_ml/5-aprendizaje-supervisado/2-regresion/04_arbol_decision_regresion.md","sourceDirName":"01_pia_2526/ut3_ml/5-aprendizaje-supervisado/2-regresion","slug":"/pia_2526/ut3_ml/aprendizaje-supervisado/regresion/arbol_decision_regresion","permalink":"/DevTacora/docs/pia_2526/ut3_ml/aprendizaje-supervisado/regresion/arbol_decision_regresion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Decision Trees Regresi\xf3n","sidebar_position":3,"toc_max_heading_level":5,"description":"Introducci\xf3n a Decision Tree Regression en Machine Learning. Funcionamiento del algoritmo, diferencias con \xe1rboles de clasificaci\xf3n, hiperpar\xe1metros principales, visualizaci\xf3n del \xe1rbol, importancia de variables y m\xe9tricas de evaluaci\xf3n.","keywords":["Decision Tree","\xc1rboles de decisi\xf3n","Regresi\xf3n","Decision Tree Regression","Machine Learning","scikit-learn"]},"sidebar":"pia_2526_Sidebar","previous":{"title":"KNN Regresi\xf3n","permalink":"/DevTacora/docs/pia_2526/ut3_ml/aprendizaje-supervisado/regresion/knn_regresion"}}');var r=i(74848),l=i(28453);const a={title:"Decision Trees Regresi\xf3n",sidebar_position:3,toc_max_heading_level:5,description:"Introducci\xf3n a Decision Tree Regression en Machine Learning. Funcionamiento del algoritmo, diferencias con \xe1rboles de clasificaci\xf3n, hiperpar\xe1metros principales, visualizaci\xf3n del \xe1rbol, importancia de variables y m\xe9tricas de evaluaci\xf3n.",keywords:["Decision Tree","\xc1rboles de decisi\xf3n","Regresi\xf3n","Decision Tree Regression","Machine Learning","scikit-learn"]},d=void 0,o={},c=[{value:"Idea principal del algoritmo",id:"idea-principal-del-algoritmo",level:2},{value:"Funcionamiento del modelo",id:"funcionamiento-del-modelo",level:2},{value:"Entrenamiento vs predicci\xf3n",id:"entrenamiento-vs-predicci\xf3n",level:2},{value:"Entrenamiento",id:"entrenamiento",level:3},{value:"Predicci\xf3n",id:"predicci\xf3n",level:3},{value:"Uso de \xc1rboles de Decisi\xf3n en Regresi\xf3n",id:"uso-de-\xe1rboles-de-decisi\xf3n-en-regresi\xf3n",level:2},{value:"Cu\xe1ndo S\xcd usarlos",id:"cu\xe1ndo-s\xed-usarlos",level:3},{value:"Cu\xe1ndo NO funcionan bien",id:"cu\xe1ndo-no-funcionan-bien",level:3},{value:"Importancia del preprocesamiento",id:"importancia-del-preprocesamiento",level:2},{value:"Principales hiperpar\xe1metros",id:"principales-hiperpar\xe1metros",level:2},{value:"Profundidad m\xe1xima (<code>max_depth</code>)",id:"profundidad-m\xe1xima-max_depth",level:3},{value:"Muestras m\xednimas (<code>min_samples_split</code>, <code>min_samples_leaf</code>)",id:"muestras-m\xednimas-min_samples_split-min_samples_leaf",level:3},{value:"Ajuste de hiperpar\xe1metros",id:"ajuste-de-hiperpar\xe1metros",level:3},{value:"Visualizaci\xf3n del \xe1rbol",id:"visualizaci\xf3n-del-\xe1rbol",level:2},{value:"Importancia de variables",id:"importancia-de-variables",level:2},{value:"M\xe9tricas de evaluaci\xf3n",id:"m\xe9tricas-de-evaluaci\xf3n",level:2},{value:"Flujo recomendado en un problema de \xc1rbol de Decisi\xf3n (Regresi\xf3n)",id:"flujo-recomendado-en-un-problema-de-\xe1rbol-de-decisi\xf3n-regresi\xf3n",level:2},{value:"Ejemplo: \xc1rbol de Decisi\xf3n para Regresi\xf3n",id:"ejemplo-\xe1rbol-de-decisi\xf3n-para-regresi\xf3n",level:2},{value:"Actividad de seguimiento: Bike Sharing Dataset",id:"actividad-de-seguimiento-bike-sharing-dataset",level:2}];function t(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Los ",(0,r.jsx)(n.strong,{children:"\xc1rboles de Decisi\xf3n para Regresi\xf3n (Decision Tree Regression)"})," son algoritmos de Machine Learning utilizados para ",(0,r.jsx)(n.strong,{children:"predecir valores num\xe9ricos"})," mediante una serie de ",(0,r.jsx)(n.strong,{children:"reglas if\u2013else"})," aprendidas a partir de los datos."]}),"\n",(0,r.jsx)(n.p,{children:"A diferencia de la Regresi\xf3n Lineal, los \xe1rboles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No asumen una relaci\xf3n lineal"}),"\n",(0,r.jsxs)(n.li,{children:["Son ",(0,r.jsx)(n.strong,{children:"modelos no lineales"})]}),"\n",(0,r.jsxs)(n.li,{children:["Permiten una ",(0,r.jsx)(n.strong,{children:"interpretaci\xf3n visual clara"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Adem\xe1s, a diferencia de KNN, ",(0,r.jsx)(n.strong,{children:"s\xed construyen un modelo expl\xedcito"}),", que puede analizarse y visualizarse."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"idea-principal-del-algoritmo",children:"Idea principal del algoritmo"}),"\n",(0,r.jsx)(n.p,{children:"La idea de un \xe1rbol de decisi\xf3n para regresi\xf3n es sencilla:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u201cDividir el espacio de datos en regiones donde los valores del target sean lo m\xe1s parecidos posible.\u201d"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"El modelo aprende una serie de preguntas del tipo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\xbffeature \u2264 valor?\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Cada decisi\xf3n divide los datos en dos grupos cada vez m\xe1s homog\xe9neos hasta llegar a una ",(0,r.jsx)(n.strong,{children:"hoja"}),", que devuelve un valor num\xe9rico."]}),"\n",(0,r.jsxs)(n.admonition,{title:"Los \xe1rboles de decisi\xf3n son modelos no param\xe9tricos",type:"info",children:[(0,r.jsxs)(n.p,{children:["Los \xe1rboles de decisi\xf3n para regresi\xf3n son ",(0,r.jsx)(n.strong,{children:"modelos no param\xe9tricos"}),":"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No tienen una forma fija predefinida"}),"\n",(0,r.jsx)(n.li,{children:"La estructura del modelo depende directamente de los datos"}),"\n",(0,r.jsx)(n.li,{children:"Si cambian los datos, cambia el \xe1rbol"}),"\n"]}),(0,r.jsx)(n.p,{children:"Esto los hace muy flexibles, pero tambi\xe9n propensos al sobreajuste si no se controlan."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"funcionamiento-del-modelo",children:"Funcionamiento del modelo"}),"\n",(0,r.jsxs)(n.p,{children:["El \xe1rbol se construye de forma ",(0,r.jsx)(n.strong,{children:"recursiva"}),", siguiendo estos pasos:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Seleccionar la mejor variable y el mejor punto de corte"}),"\n",(0,r.jsx)(n.li,{children:"Dividir los datos en dos subconjuntos"}),"\n",(0,r.jsx)(n.li,{children:"Repetir el proceso en cada rama"}),"\n",(0,r.jsx)(n.li,{children:"Detener el crecimiento seg\xfan ciertos criterios"}),"\n",(0,r.jsx)(n.li,{children:"Asignar un valor num\xe9rico a cada hoja"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["En ",(0,r.jsx)(n.strong,{children:"regresi\xf3n"}),", el valor que devuelve cada hoja suele ser la ",(0,r.jsx)(n.strong,{children:"media"})," de los valores del target que contiene."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Gr\xe1fico EDA",src:i(83588).A+"",width:"713",height:"258"})}),"\n",(0,r.jsxs)(n.admonition,{title:"\xbfC\xf3mo se elige la\u201cmejor divisi\xf3n\u201d en regresi\xf3n?",type:"info",children:[(0,r.jsx)(n.p,{children:"Aqu\xed est\xe1 la diferencia clave con la clasificaci\xf3n."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["En ",(0,r.jsx)(n.strong,{children:"clasificaci\xf3n"}),", el \xe1rbol minimiza la ",(0,r.jsx)(n.strong,{children:"impureza"})," (Gini, Entrop\xeda)"]}),"\n",(0,r.jsxs)(n.li,{children:["En ",(0,r.jsx)(n.strong,{children:"regresi\xf3n"}),", el \xe1rbol minimiza el ",(0,r.jsx)(n.strong,{children:"error"})," (normalmente ",(0,r.jsx)(n.strong,{children:"MSE (Mean Squared Error)"}),")"]}),"\n"]}),(0,r.jsxs)(n.p,{children:["\ud83d\udc49 En los problemas de ",(0,r.jsx)(n.strong,{children:"regresi\xf3n"}),", el \xe1rbol de decisi\xf3n construye sus divisiones buscando ",(0,r.jsx)(n.strong,{children:"minimizar el error de predicci\xf3n"}),". Para ello, en cada posible split eval\xfaa cu\xe1nto se reduce el error si los datos se separan en dos grupos. Habitualmente se utiliza el ",(0,r.jsx)(n.strong,{children:"MSE (Mean Squared Error)"})," como medida de ese error, ya que penaliza m\xe1s los valores que se alejan mucho del valor medio. El \xe1rbol elige siempre la divisi\xf3n que consigue que, dentro de cada grupo, los valores num\xe9ricos del target sean lo m\xe1s parecidos posible, logrando as\xed predicciones m\xe1s precisas en las hojas."]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"entrenamiento-vs-predicci\xf3n",children:"Entrenamiento vs predicci\xf3n"}),"\n",(0,r.jsx)(n.h3,{id:"entrenamiento",children:"Entrenamiento"}),"\n",(0,r.jsx)(n.p,{children:"Durante el entrenamiento, el \xe1rbol:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prueba diferentes divisiones"}),"\n",(0,r.jsx)(n.li,{children:"Eval\xfaa cu\xe1nto reduce el error cada split"}),"\n",(0,r.jsx)(n.li,{children:"Construye la estructura completa del \xe1rbol"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Este proceso puede ser ",(0,r.jsx)(n.strong,{children:"costoso computacionalmente"})," si el \xe1rbol crece mucho."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"predicci\xf3n",children:"Predicci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"Para predecir un nuevo dato:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Se empieza en la ra\xedz del \xe1rbol"}),"\n",(0,r.jsx)(n.li,{children:"Se siguen las reglas if\u2013else"}),"\n",(0,r.jsx)(n.li,{children:"Se llega a una hoja"}),"\n",(0,r.jsx)(n.li,{children:"Se devuelve el valor num\xe9rico asociado a esa hoja"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 La predicci\xf3n es ",(0,r.jsx)(n.strong,{children:"muy r\xe1pida"}),", ya que solo implica recorrer el \xe1rbol."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"uso-de-\xe1rboles-de-decisi\xf3n-en-regresi\xf3n",children:"Uso de \xc1rboles de Decisi\xf3n en Regresi\xf3n"}),"\n",(0,r.jsx)(n.h3,{id:"cu\xe1ndo-s\xed-usarlos",children:"Cu\xe1ndo S\xcd usarlos"}),"\n",(0,r.jsx)(n.p,{children:"Funcionan bien cuando:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"La relaci\xf3n entre variables es no lineal"}),"\n",(0,r.jsxs)(n.li,{children:["Se busca ",(0,r.jsx)(n.strong,{children:"interpretabilidad"})]}),"\n",(0,r.jsx)(n.li,{children:"Hay variables categ\xf3ricas"}),"\n",(0,r.jsx)(n.li,{children:"El preprocesamiento debe ser simple"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"cu\xe1ndo-no-funcionan-bien",children:"Cu\xe1ndo NO funcionan bien"}),"\n",(0,r.jsx)(n.p,{children:"Suelen rendir peor cuando:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Hay mucho ruido"}),"\n",(0,r.jsx)(n.li,{children:"El dataset es peque\xf1o"}),"\n",(0,r.jsx)(n.li,{children:"El \xe1rbol crece sin restricciones (overfitting)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"En la pr\xe1ctica:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Un \xe1rbol de decisi\xf3n suele ser un buen modelo base, pero rara vez el modelo final m\xe1s robusto."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"importancia-del-preprocesamiento",children:"Importancia del preprocesamiento"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspecto"}),(0,r.jsx)(n.th,{children:"\xbfEs necesario?"}),(0,r.jsx)(n.th,{children:"Explicaci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Tratamiento de nulos"}),(0,r.jsx)(n.td,{children:"\u2714 S\xed"}),(0,r.jsx)(n.td,{children:"No admite valores nulos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Escalado"}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"No usa distancias"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Outliers"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f Importante"}),(0,r.jsx)(n.td,{children:"Pueden generar splits extremos"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"principales-hiperpar\xe1metros",children:"Principales hiperpar\xe1metros"}),"\n",(0,r.jsxs)(n.p,{children:["El rendimiento de un \xe1rbol de decisi\xf3n para regresi\xf3n depende en gran medida de ",(0,r.jsx)(n.strong,{children:"c\xf3mo se controla su complejidad"}),".\nSi el \xe1rbol crece sin restricciones, puede aprender patrones muy espec\xedficos del conjunto de entrenamiento, perdiendo capacidad de generalizaci\xf3n."]}),"\n",(0,r.jsxs)(n.p,{children:["Por este motivo, los hiperpar\xe1metros del \xe1rbol se centran principalmente en ",(0,r.jsx)(n.strong,{children:"limitar su crecimiento"}),", buscando un equilibrio entre:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modelo demasiado simple"})," \u2192 no captura bien la relaci\xf3n entre variables (underfitting)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modelo demasiado complejo"})," \u2192 se ajusta en exceso a los datos (overfitting)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"profundidad-m\xe1xima-max_depth",children:["Profundidad m\xe1xima (",(0,r.jsx)(n.code,{children:"max_depth"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["El hiperpar\xe1metro ",(0,r.jsx)(n.code,{children:"max_depth"})," controla ",(0,r.jsx)(n.strong,{children:"cu\xe1ntos niveles puede tener el \xe1rbol"}),", es decir, cu\xe1ntas decisiones consecutivas puede tomar antes de llegar a una hoja."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Un ",(0,r.jsx)(n.strong,{children:"\xe1rbol muy profundo"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Aprende reglas muy espec\xedficas"}),"\n",(0,r.jsx)(n.li,{children:"Puede ajustarse casi perfectamente a los datos de entrenamiento"}),"\n",(0,r.jsxs)(n.li,{children:["Tiene alto riesgo de ",(0,r.jsx)(n.strong,{children:"overfitting"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Un ",(0,r.jsx)(n.strong,{children:"\xe1rbol poco profundo"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Aprende reglas muy generales"}),"\n",(0,r.jsx)(n.li,{children:"Puede no capturar relaciones importantes entre variables"}),"\n",(0,r.jsxs)(n.li,{children:["Produce ",(0,r.jsx)(n.strong,{children:"underfitting"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Controlar la profundidad es la forma ",(0,r.jsx)(n.strong,{children:"m\xe1s directa y efectiva"})," de regular un \xe1rbol de decisi\xf3n.\nEn la pr\xe1ctica, limitar ",(0,r.jsx)(n.code,{children:"max_depth"})," ayuda a crear modelos m\xe1s estables y con mejor capacidad de generalizaci\xf3n."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"muestras-m\xednimas-min_samples_split-min_samples_leaf",children:["Muestras m\xednimas (",(0,r.jsx)(n.code,{children:"min_samples_split"}),", ",(0,r.jsx)(n.code,{children:"min_samples_leaf"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["Estos hiperpar\xe1metros controlan ",(0,r.jsx)(n.strong,{children:"cu\xe1ntos datos m\xednimos son necesarios para crear nuevas divisiones"})," en el \xe1rbol."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"min_samples_split"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"N\xfamero m\xednimo de muestras que debe tener un nodo para poder dividirse"}),"\n",(0,r.jsx)(n.li,{children:"Evita que el \xe1rbol siga creciendo cuando quedan muy pocos datos"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"min_samples_leaf"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"N\xfamero m\xednimo de muestras que debe contener una hoja"}),"\n",(0,r.jsx)(n.li,{children:"Garantiza que cada predicci\xf3n est\xe9 basada en suficientes datos"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Establecer valores adecuados para estos par\xe1metros:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduce la creaci\xf3n de hojas con muy pocos datos"}),"\n",(0,r.jsx)(n.li,{children:"Hace que las predicciones sean m\xe1s robustas"}),"\n",(0,r.jsxs)(n.li,{children:["Mejora la ",(0,r.jsx)(n.strong,{children:"generalizaci\xf3n"})," del modelo en datos no vistos"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"En muchos casos, aumentar ligeramente estos valores reduce el overfitting sin perder demasiado rendimiento."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ajuste-de-hiperpar\xe1metros",children:"Ajuste de hiperpar\xe1metros"}),"\n",(0,r.jsx)(n.p,{children:"Al igual que en otros algoritmos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se pueden ajustar con ",(0,r.jsx)(n.strong,{children:"validaci\xf3n cruzada"})]}),"\n",(0,r.jsxs)(n.li,{children:["Es habitual usar ",(0,r.jsx)(n.strong,{children:"GridSearchCV"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Esto permite encontrar un equilibrio entre sesgo y varianza."}),"\n",(0,r.jsxs)(n.p,{children:["A cotinuaci\xf3n se muestra una ",(0,r.jsx)(n.strong,{children:"tabla orientativa"})," de valores a probar. No son valores \xf3ptimos, sino ",(0,r.jsx)(n.strong,{children:"rangos razonables"})," para empezar el GridSearch seg\xfan el tama\xf1o del dataset."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tama\xf1o del dataset"}),(0,r.jsx)(n.th,{children:"N\xba de registros"}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"max_depth"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"min_samples_split"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"min_samples_leaf"})}),(0,r.jsx)(n.th,{children:"Comentario"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Peque\xf1o"}),(0,r.jsx)(n.td,{children:"< 1.000"}),(0,r.jsx)(n.td,{children:"2 \u2013 5"}),(0,r.jsx)(n.td,{children:"10 \u2013 50"}),(0,r.jsx)(n.td,{children:"5 \u2013 20"}),(0,r.jsx)(n.td,{children:"Alto riesgo de overfitting, conviene limitar mucho el \xe1rbol"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mediano"}),(0,r.jsx)(n.td,{children:"1.000 \u2013 10.000"}),(0,r.jsx)(n.td,{children:"3 \u2013 10"}),(0,r.jsx)(n.td,{children:"5 \u2013 20"}),(0,r.jsx)(n.td,{children:"2 \u2013 10"}),(0,r.jsx)(n.td,{children:"Buen equilibrio entre complejidad y generalizaci\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Grande"}),(0,r.jsx)(n.td,{children:"> 10.000"}),(0,r.jsx)(n.td,{children:"5 \u2013 20"}),(0,r.jsx)(n.td,{children:"2 \u2013 10"}),(0,r.jsx)(n.td,{children:"1 \u2013 5"}),(0,r.jsx)(n.td,{children:"M\xe1s datos permiten \xe1rboles m\xe1s profundos"})]})]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Estos rangos sirven como punto de partida. El mejor conjunto de hiperpar\xe1metros siempre debe seleccionarse mediante validaci\xf3n cruzada, ya que depende de las caracter\xedsticas concretas del dataset y no solo de su tama\xf1o."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"visualizaci\xf3n-del-\xe1rbol",children:"Visualizaci\xf3n del \xe1rbol"}),"\n",(0,r.jsxs)(n.p,{children:["Una de las grandes ventajas de los \xe1rboles de decisi\xf3n es que ",(0,r.jsx)(n.strong,{children:"pueden visualizarse"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Al representar el \xe1rbol, se puede observar:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Las variables utilizadas en cada split"}),"\n",(0,r.jsx)(n.li,{children:"Los valores de corte"}),"\n",(0,r.jsx)(n.li,{children:"La profundidad del \xe1rbol"}),"\n",(0,r.jsx)(n.li,{children:"El valor predicho en cada hoja"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"importancia-de-variables",children:"Importancia de variables"}),"\n",(0,r.jsxs)(n.p,{children:["Los \xe1rboles permiten calcular la ",(0,r.jsx)(n.strong,{children:"importancia de cada variable"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Una variable ser\xe1 m\xe1s importante si:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Aparece frecuentemente en los splits"}),"\n",(0,r.jsx)(n.li,{children:"Reduce mucho el error del modelo"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Esto permite:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Interpretar el modelo"}),"\n",(0,r.jsx)(n.li,{children:"Identificar variables relevantes"}),"\n",(0,r.jsx)(n.li,{children:"Apoyar procesos de selecci\xf3n de variables"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["A diferencia de KNN, aqu\xed ",(0,r.jsx)(n.strong,{children:"s\xed es posible analizar qu\xe9 variables influyen m\xe1s"})," en la predicci\xf3n."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"m\xe9tricas-de-evaluaci\xf3n",children:"M\xe9tricas de evaluaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"En problemas de regresi\xf3n con \xe1rboles de decisi\xf3n se utilizan las mismas m\xe9tricas que en otros modelos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MAE"})," (Mean Absolute Error)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MSE"})," (Mean Squared Error)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"R\xb2"})," (Coeficiente de determinaci\xf3n)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"flujo-recomendado-en-un-problema-de-\xe1rbol-de-decisi\xf3n-regresi\xf3n",children:"Flujo recomendado en un problema de \xc1rbol de Decisi\xf3n (Regresi\xf3n)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Paso"}),(0,r.jsx)(n.th,{children:"Qu\xe9 se hace"}),(0,r.jsx)(n.th,{children:"Por qu\xe9 es importante"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1. EDA"}),(0,r.jsx)(n.td,{children:"Analizar distribuciones y outliers"}),(0,r.jsx)(n.td,{children:"Evita splits extremos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2. Preprocesamiento"}),(0,r.jsx)(n.td,{children:"Limpieza de datos"}),(0,r.jsx)(n.td,{children:"El modelo no admite nulos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3. Entrenamiento"}),(0,r.jsx)(n.td,{children:"Ajustar hiperpar\xe1metros"}),(0,r.jsx)(n.td,{children:"Controla overfitting"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"4. Evaluaci\xf3n"}),(0,r.jsx)(n.td,{children:"MAE, MSE, R\xb2 + gr\xe1ficos"}),(0,r.jsx)(n.td,{children:"Medir rendimiento"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"5. Interpretaci\xf3n"}),(0,r.jsx)(n.td,{children:"\xc1rbol + importancia variables"}),(0,r.jsx)(n.td,{children:"Entender el modelo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"6. Comparaci\xf3n"}),(0,r.jsx)(n.td,{children:"Comparar con otros modelos"}),(0,r.jsx)(n.td,{children:"Determina qu\xe9 modelo se adapta mejor a nuestro dataset"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"ejemplo-\xe1rbol-de-decisi\xf3n-para-regresi\xf3n",children:"Ejemplo: \xc1rbol de Decisi\xf3n para Regresi\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["Para ver c\xf3mo funciona un ",(0,r.jsx)(n.strong,{children:"Decision Tree Regressor"})," en la pr\xe1ctica, puedes ejecutar este ejemplo utilizando el dataset ",(0,r.jsx)(n.strong,{children:"California Housing"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"Puedes abrir el cuaderno aqu\xed:"}),"\n",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(26923).A+"",children:"Colab: Decision Tree Regression"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"actividad-de-seguimiento-bike-sharing-dataset",children:"Actividad de seguimiento: Bike Sharing Dataset"}),"\n",(0,r.jsxs)(n.p,{children:["Utiliza el ",(0,r.jsx)(n.strong,{children:"Bike Sharing Dataset"})," y compara:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Regresi\xf3n Lineal"}),"\n",(0,r.jsx)(n.li,{children:"KNN Regresi\xf3n"}),"\n",(0,r.jsx)(n.li,{children:"\xc1rbol de Decisi\xf3n (Regresi\xf3n)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Incluye:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ajuste de hiperpar\xe1metros"}),"\n",(0,r.jsx)(n.li,{children:"M\xe9tricas de evaluaci\xf3n"}),"\n",(0,r.jsx)(n.li,{children:"Visualizaci\xf3n del \xe1rbol"}),"\n",(0,r.jsx)(n.li,{children:"An\xe1lisis de importancia de variables"}),"\n",(0,r.jsx)(n.li,{children:"Conclusiones razonadas"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Entrega:"})," Notebook (Colab) con conclusiones claras y justificadas."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},83588:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/dt_regressor-b734c726188357b4db9b2f25ffaa60f4.png"}}]);