"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6920],{1077:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"pmdm_2425/ut5_persistencia/supabase-storage/configuracion-inicial","title":"Configuraci\xf3n inicial de Supabase Storage","description":"En este apartado aprenderemos a crear un proyecto en Supabase, activar Supabase Storage y configurar permisos y pol\xedticas de acceso para gestionar la seguridad de los archivos.","source":"@site/docs/00_pmdm_2425/ut5_persistencia/5-supabase-storage/2-configuracion-inicial.md","sourceDirName":"00_pmdm_2425/ut5_persistencia/5-supabase-storage","slug":"/pmdm_2425/ut5_persistencia/supabase-storage/configuracion-inicial","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/supabase-storage/configuracion-inicial","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Configuraci\xf3n Inicial","title":"Configuraci\xf3n inicial de Supabase Storage"},"sidebar":"pmdm_2425_Sidebar","previous":{"title":"Arquitectura y Seguridad","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/supabase-storage/arquitectura-seguridad"},"next":{"title":"Integraci\xf3n en Android","permalink":"/DevTacora/docs/pmdm_2425/ut5_persistencia/supabase-storage/integracion-android"}}');var r=s(4848),i=s(8453);const o={sidebar_position:2,sidebar_label:"Configuraci\xf3n Inicial",title:"Configuraci\xf3n inicial de Supabase Storage"},c=void 0,t={},l=[{value:"1 Crear un Proyecto en Supabase",id:"1-crear-un-proyecto-en-supabase",level:2},{value:"Paso 1: Crear una cuenta en Supabase",id:"paso-1-crear-una-cuenta-en-supabase",level:3},{value:"Paso 2: Configurar un nuevo proyecto",id:"paso-2-configurar-un-nuevo-proyecto",level:3},{value:"Paso 3: Obtener la URL del proyecto y la API Key",id:"paso-3-obtener-la-url-del-proyecto-y-la-api-key",level:3},{value:"2 Activar y Configurar Supabase Storage",id:"2-activar-y-configurar-supabase-storage",level:2},{value:"3 Gestionar Permisos y Pol\xedticas de Acceso",id:"3-gestionar-permisos-y-pol\xedticas-de-acceso",level:2}];function d(e){const a={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.p,{children:["En este apartado aprenderemos a ",(0,r.jsx)(a.strong,{children:"crear un proyecto en Supabase"}),", activar ",(0,r.jsx)(a.strong,{children:"Supabase Storage"})," y ",(0,r.jsx)(a.strong,{children:"configurar permisos y pol\xedticas de acceso"})," para gestionar la seguridad de los archivos."]}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.h2,{id:"1-crear-un-proyecto-en-supabase",children:"1 Crear un Proyecto en Supabase"}),"\n",(0,r.jsxs)(a.p,{children:["Para usar ",(0,r.jsx)(a.strong,{children:"Supabase Storage"}),", primero debemos crear un proyecto en Supabase. Sigue estos pasos:"]}),"\n",(0,r.jsx)(a.h3,{id:"paso-1-crear-una-cuenta-en-supabase",children:"Paso 1: Crear una cuenta en Supabase"}),"\n",(0,r.jsxs)(a.p,{children:["1\ufe0f\u20e3 Ve a ",(0,r.jsx)(a.a,{href:"https://supabase.com/",children:"Supabase"})," y crea una cuenta o inicia sesi\xf3n con GitHub."]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Crea una nueva organizaci\xf3n seleccionado el plan gratuito\n",(0,r.jsx)(a.img,{alt:"Nueva organizaci\xf3n",src:s(1523).A+"",width:"1368",height:"946"})]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["2\ufe0f\u20e3 Una vez dentro, haz clic en ",(0,r.jsx)(a.strong,{children:'"New Project"'}),"."]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Si acabas de crear la cuenta, te aparecer\xe1 directamente el di\xe1logo de creaci\xf3n del proyecto."}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"paso-2-configurar-un-nuevo-proyecto",children:"Paso 2: Configurar un nuevo proyecto"}),"\n",(0,r.jsxs)(a.p,{children:["1\ufe0f\u20e3 Introduce un ",(0,r.jsx)(a.strong,{children:"nombre para tu proyecto"}),".",(0,r.jsx)(a.br,{}),"\n","2\ufe0f\u20e3 Selecciona la ",(0,r.jsx)(a.strong,{children:"regi\xf3n"})," m\xe1s cercana a tu ubicaci\xf3n para mejor rendimiento.",(0,r.jsx)(a.br,{}),"\n","3\ufe0f\u20e3 ",(0,r.jsx)(a.strong,{children:"Establece una contrase\xf1a"})," para la base de datos (debes guardarla bien).",(0,r.jsx)(a.br,{}),"\n","4\ufe0f\u20e3 Haz clic en ",(0,r.jsx)(a.strong,{children:'"Create new project"'})," y espera unos minutos a que se configure."]}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.img,{alt:"Nueva organizaci\xf3n",src:s(9274).A+"",width:"1372",height:"1232"})}),"\n",(0,r.jsx)(a.h3,{id:"paso-3-obtener-la-url-del-proyecto-y-la-api-key",children:"Paso 3: Obtener la URL del proyecto y la API Key"}),"\n",(0,r.jsxs)(a.p,{children:["1\ufe0f\u20e3 En el panel de Supabase, ve a ",(0,r.jsx)(a.strong,{children:'"Project Settings" > "API"'}),".",(0,r.jsx)(a.br,{}),"\n","2\ufe0f\u20e3 Posteriormente, para conectarnos desde nuestro proyecto Android necesitaremos:"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["La ",(0,r.jsx)(a.strong,{children:'"URL del proyecto"'})," (Base de datos y APIs)."]}),"\n",(0,r.jsxs)(a.li,{children:["La ",(0,r.jsx)(a.strong,{children:'"API Key"'})," (Usaremos la ",(0,r.jsx)(a.code,{children:"anon"})," para nuestra aplicaci\xf3n)."]}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.img,{alt:"URL proyecto",src:s(6773).A+"",width:"2016",height:"1408"})}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.h2,{id:"2-activar-y-configurar-supabase-storage",children:"2 Activar y Configurar Supabase Storage"}),"\n",(0,r.jsxs)(a.p,{children:["1\ufe0f\u20e3 En el panel de Supabase, ve a ",(0,r.jsx)(a.strong,{children:'"Storage"'})," en el men\xfa lateral.",(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.img,{alt:"Panel Storage",src:s(1493).A+"",width:"412",height:"702"}),"\n2\ufe0f\u20e3 Haz clic en ",(0,r.jsx)(a.strong,{children:'"New Bucket"'})," para crear un ",(0,r.jsx)(a.strong,{children:"contenedor"})," donde se almacenar\xe1n las im\xe1genes o archivos.",(0,r.jsx)(a.br,{}),"\n","3\ufe0f\u20e3 Asigna un ",(0,r.jsx)(a.strong,{children:"nombre al bucket"})," (Ejemplo: ",(0,r.jsx)(a.code,{children:"anuncios"}),").",(0,r.jsx)(a.br,{}),"\n","4\ufe0f\u20e3 Selecciona si quieres que el bucket sea ",(0,r.jsx)(a.strong,{children:"p\xfablico o privado"}),"."]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"P\xfablico"}),": Cualquiera puede ver los archivos sin autenticaci\xf3n."]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Privado"}),": Solo usuarios autenticados pueden acceder.",(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.img,{alt:"Creaci\xf3n bucket",src:s(2526).A+"",width:"1048",height:"1000"})]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["5\ufe0f\u20e3 Haz clic en ",(0,r.jsx)(a.strong,{children:'"Save"'}),"."]}),"\n",(0,r.jsx)(a.admonition,{title:"\xbfBUCKETS P\xdaBLICOS O PRIVADOS?",type:"info",children:(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Por lo general, es recomendable que los buckets sean privados"}),", permitiendo el acceso \xfanicamente a usuarios autenticados. Sin embargo, para facilitar el aprendizaje de esta tecnolog\xeda, ",(0,r.jsx)(a.strong,{children:"crearemos los buckets como p\xfablicos"}),".",(0,r.jsx)(a.br,{}),"\n","Es importante destacar que hacer un bucket p\xfablico ",(0,r.jsx)(a.strong,{children:"solo permite la lectura de archivos a cualquier usuario"}),". Si deseamos que cualquier usuario, incluso sin autenticaci\xf3n, pueda ",(0,r.jsx)(a.strong,{children:"subir o eliminar archivos"}),", ser\xe1 necesario modificar las ",(0,r.jsx)(a.strong,{children:"pol\xedticas de acceso (Row Level Security - RLS)"})," en Supabase."]})}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.h2,{id:"3-gestionar-permisos-y-pol\xedticas-de-acceso",children:"3 Gestionar Permisos y Pol\xedticas de Acceso"}),"\n",(0,r.jsxs)(a.p,{children:["Supabase utiliza ",(0,r.jsx)(a.strong,{children:"Row Level Security (RLS)"})," para controlar el acceso a los datos. Si no configuramos las reglas, las solicitudes de nuestra app ser\xe1n ",(0,r.jsx)(a.strong,{children:"denegadas (Error 403: Unauthorized)"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:["1\ufe0f\u20e3 Ve a ",(0,r.jsx)(a.strong,{children:'"Storage" > "Policies"'}),".",(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.img,{alt:"Pol\xedtica acceso",src:s(4029).A+"",width:"522",height:"738"}),"\n2\ufe0f\u20e3 Selecciona el bucket donde guardaremos las im\xe1genes (",(0,r.jsx)(a.code,{children:"anuncios"}),").",(0,r.jsx)(a.br,{}),"\n","3\ufe0f\u20e3 Haz clic en ",(0,r.jsx)(a.strong,{children:'"New Policy"'})," para crear una nueva pol\xedtica de acceso.",(0,r.jsx)(a.br,{}),"\n",(0,r.jsx)(a.img,{alt:"Nueva pol\xedtica",src:s(7940).A+"",width:"2714",height:"446"}),"\n4\ufe0f\u20e3 Selecciona la opci\xf3n ",(0,r.jsx)(a.strong,{children:"For full customization"}),(0,r.jsx)(a.br,{}),"\n","5\ufe0f\u20e3 ",(0,r.jsx)(a.strong,{children:"Configura las reglas"})," seg\xfan el acceso que necesites. En nuestro caso, ",(0,r.jsx)(a.strong,{children:"vamos a dar todos los permisos a cualquier usuarios"}),", est\xe9 o no autenticado.\n",(0,r.jsx)(a.img,{alt:"Pol\xedtica todos permisos",src:s(4015).A+"",width:"1858",height:"1536"})]}),"\n",(0,r.jsx)(a.admonition,{title:"\xa1OJO!",type:"danger",children:(0,r.jsxs)(a.p,{children:["Este \xfaltimo paso que hemos realizado de otorgar todos los permisos a cualquier usuario es ",(0,r.jsx)(a.strong,{children:"muy mala pr\xe1ctica"}),". Nunca se deber\xe1 realizar en entornos de Producci\xf3n."]})})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2526:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/creacion-bucket-503ee99b32e534e92fce240c62f9e6fb.png"},9274:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/crear-nuevo-proyecto-4d6a0cdb34e08ff23c7e3ff59c20752e.png"},1523:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/nueva-organizacion-f18bdbbc2de497d96a0a8635626da86a.png"},7940:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/nueva-politica-839f536dfae1a9784ae2f3d389cd6504.png"},1493:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/panel-storage-13ae346449db98b82955d5234747f197.png"},4029:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/politica-acceso-30fafa9e1a8fa8dcf2a35cd3e8f41f82.png"},4015:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/politica-todos-permisos-4f6b4cd0fa2a086b4b898b0c0b487158.png"},6773:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/url-api-key-f935bb36b33a078b0ea9fdc473cb6ccb.png"},8453:(e,a,s)=>{s.d(a,{R:()=>o,x:()=>c});var n=s(6540);const r={},i=n.createContext(r);function o(e){const a=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);