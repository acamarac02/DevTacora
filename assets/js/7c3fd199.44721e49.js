"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6933],{1466:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>j,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"ada/ut5_bbdd_nosql/mongodb/diseno-documental","title":"Dise\xf1o documental y relaciones entre documentos","description":"En este apartado estudiaremos qu\xe9 criterios debemos tener en cuenta a la hora de dise\xf1ar nuestras bases de datos documentales, con el objetivo de garantizar la eficiencia en el acceso a los datos.","source":"@site/docs/ada/ut5_bbdd_nosql/mongodb/4-diseno-documental.md","sourceDirName":"ada/ut5_bbdd_nosql/mongodb","slug":"/ada/ut5_bbdd_nosql/mongodb/diseno-documental","permalink":"/DevTacora/docs/ada/ut5_bbdd_nosql/mongodb/diseno-documental","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Dise\xf1o documental","title":"Dise\xf1o documental y relaciones entre documentos"},"sidebar":"adaSidebar","previous":{"title":"Conexi\xf3n desde Java","permalink":"/DevTacora/docs/ada/ut5_bbdd_nosql/mongodb/conexion-java"},"next":{"title":"Gesti\xf3n de relaciones en Java","permalink":"/DevTacora/docs/ada/ut5_bbdd_nosql/mongodb/gestion-relaciones-Java"}}');var a=s(4848),o=s(8453);const d={sidebar_position:4,sidebar_label:"Dise\xf1o documental",title:"Dise\xf1o documental y relaciones entre documentos"},r=void 0,l={},c=[{value:"1. Metodolog\xeda de dise\xf1o de bases de datos documentales",id:"1-metodolog\xeda-de-dise\xf1o-de-bases-de-datos-documentales",level:2},{value:"1.1. An\xe1lisis de Requisitos y Modelo de Datos",id:"11-an\xe1lisis-de-requisitos-y-modelo-de-datos",level:3},{value:"1.2. Elecci\xf3n entre Modelado Embebido o Normalizado",id:"12-elecci\xf3n-entre-modelado-embebido-o-normalizado",level:3},{value:"1.3. Indexaci\xf3n y Optimizaci\xf3n de Consultas",id:"13-indexaci\xf3n-y-optimizaci\xf3n-de-consultas",level:3},{value:"1.4. Estrategias de Particionamiento y Replicaci\xf3n",id:"14-estrategias-de-particionamiento-y-replicaci\xf3n",level:3},{value:"2. Modelado de Relaciones en MongoDB",id:"2-modelado-de-relaciones-en-mongodb",level:2},{value:"2.1. Relaci\xf3n 1:1",id:"21-relaci\xf3n-11",level:3},{value:"Opciones de Modelado",id:"opciones-de-modelado",level:4},{value:"Cu\xe1ndo elegir cada opci\xf3n",id:"cu\xe1ndo-elegir-cada-opci\xf3n",level:4},{value:"2.2. Relaci\xf3n 1:N (Uno a Muchos)",id:"22-relaci\xf3n-1n-uno-a-muchos",level:3},{value:"Opciones de Modelado",id:"opciones-de-modelado-1",level:4},{value:"Cu\xe1ndo elegir cada opci\xf3n",id:"cu\xe1ndo-elegir-cada-opci\xf3n-1",level:4},{value:"1. <strong>Embebido: Los personajes se almacenan como un array dentro de cada habilidad</strong>",id:"1-embebido-los-personajes-se-almacenan-como-un-array-dentro-de-cada-habilidad",level:4},{value:"2. <strong>Referenciado: Los personajes son referenciados por ID dentro de cada habilidad</strong>",id:"2-referenciado-los-personajes-son-referenciados-por-id-dentro-de-cada-habilidad",level:4},{value:"2.3. Relaci\xf3n N:M (Muchos a Muchos)",id:"23-relaci\xf3n-nm-muchos-a-muchos",level:3},{value:"Opciones de Modelado",id:"opciones-de-modelado-2",level:4},{value:"1. <strong>Embebido</strong>",id:"1-embebido",level:4},{value:"2. <strong>Referenciado en arrays</strong>",id:"2-referenciado-en-arrays",level:4},{value:"3. <strong>Colecci\xf3n intermedia (para relaciones din\xe1micas con metadatos adicionales)</strong>",id:"3-colecci\xf3n-intermedia-para-relaciones-din\xe1micas-con-metadatos-adicionales",level:4},{value:"Cu\xe1ndo elegir cada opci\xf3n",id:"cu\xe1ndo-elegir-cada-opci\xf3n-2",level:4},{value:"Resumen pr\xe1ctico",id:"resumen-pr\xe1ctico",level:3},{value:"Reglas generales para tomar decisiones",id:"reglas-generales-para-tomar-decisiones",level:3},{value:"Ejercicios",id:"ejercicios",level:2},{value:"Ejercicio 1: Misiones",id:"ejercicio-1-misiones",level:3},{value:"Soluci\xf3n",id:"soluci\xf3n",level:4},{value:"Ejercicio 2: Stardam Valley (v2)",id:"ejercicio-2-stardam-valley-v2",level:3},{value:"Ejercicio 3: Gesti\xf3n de Pedidos de una Tienda",id:"ejercicio-3-gesti\xf3n-de-pedidos-de-una-tienda",level:3},{value:"Informaci\xf3n a gestionar",id:"informaci\xf3n-a-gestionar",level:4},{value:"Casos de uso",id:"casos-de-uso",level:4},{value:"Tareas a realizar",id:"tareas-a-realizar",level:4},{value:"Soluci\xf3n",id:"soluci\xf3n-1",level:4}];function t(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)("div",{class:"justify-text",children:[(0,a.jsx)(n.p,{children:"En este apartado estudiaremos qu\xe9 criterios debemos tener en cuenta a la hora de dise\xf1ar nuestras bases de datos documentales, con el objetivo de garantizar la eficiencia en el acceso a los datos."}),(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"Ten en cuenta que este apartado lo explicaremos de forma superficial y habr\xe1 aspectos muy importantes en el dise\xf1o a los que nosotros no daremos mucha importancia."})}),(0,a.jsx)(n.h2,{id:"1-metodolog\xeda-de-dise\xf1o-de-bases-de-datos-documentales",children:"1. Metodolog\xeda de dise\xf1o de bases de datos documentales"}),(0,a.jsx)(n.p,{children:"El dise\xf1o de bases de datos documentales en MongoDB difiere significativamente de los modelos relacionales tradicionales, ya que se basa en la flexibilidad de los documentos JSON/BSON para modelar datos de manera m\xe1s natural y eficiente. Para lograr un dise\xf1o \xf3ptimo, se deben considerar aspectos como la estructura de los documentos, la indexaci\xf3n, las consultas y el patr\xf3n de acceso a los datos."}),(0,a.jsx)(n.p,{children:"A continuaci\xf3n, se presentan las principales fases de dise\xf1o en una base de datos documental, como MongoDB:"}),(0,a.jsx)(n.h3,{id:"11-an\xe1lisis-de-requisitos-y-modelo-de-datos",children:"1.1. An\xe1lisis de Requisitos y Modelo de Datos"}),(0,a.jsx)(n.p,{children:"Antes de dise\xf1ar la estructura de los documentos, es fundamental entender los requisitos del sistema, incluyendo:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Casos de uso:"})," C\xf3mo se acceder\xe1n y manipular\xe1n los datos. Se deben definir las consultas m\xe1s frecuentes y operaciones cr\xedticas para optimizar el modelo de datos. Por ejemplo, en un e-commerce, las b\xfasquedas de productos deben ser r\xe1pidas, mientras que las actualizaciones de inventario pueden ejecutarse en segundo plano."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Volumen de datos:"})," Estimaci\xf3n del tama\xf1o y el crecimiento de la base de datos. Bases de datos con documentos grandes pueden requerir fragmentaci\xf3n (",(0,a.jsx)(n.strong,{children:"sharding"}),") para evitar problemas de rendimiento."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Frecuencia de consultas y escrituras:"})," Identificaci\xf3n de las operaciones m\xe1s comunes:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Lectura intensiva"}),": Optimizar \xedndices y evitar consultas innecesarias."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Escritura intensiva"}),": Usar referencias en lugar de documentos embebidos si los datos cambian con frecuencia."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Balanceado"}),": Analizar estrategias para distribuir la carga."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Escalabilidad:"})," Consideraci\xf3n del rendimiento y la replicaci\xf3n de los datos. Es importante definir si se necesita ",(0,a.jsx)(n.strong,{children:"escalabilidad vertical"})," (mejorar un solo servidor) o ",(0,a.jsx)(n.strong,{children:"horizontal"})," (sharding). Tambi\xe9n se recomienda el uso de r\xe9plicas para garantizar disponibilidad y distribuir datos geogr\xe1ficamente."]}),"\n"]}),(0,a.jsx)(n.h3,{id:"12-elecci\xf3n-entre-modelado-embebido-o-normalizado",children:"1.2. Elecci\xf3n entre Modelado Embebido o Normalizado"}),(0,a.jsx)(n.p,{children:"MongoDB permite dos enfoques principales para representar datos:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Modelado Embebido:"})," Datos relacionados se almacenan en el mismo documento. Esto es ideal para consultas r\xe1pidas y datos que no cambian con frecuencia."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Modelado Referenciado (Normalizado):"})," Se utilizan referencias a otros documentos. Es \xfatil cuando los datos relacionados son grandes o se reutilizan en m\xfaltiples lugares."]}),"\n"]}),(0,a.jsx)(n.p,{children:"La decisi\xf3n de usar una u otra depender\xe1 de:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Frecuencia de acceso:"})," Si los datos se consultan juntos con frecuencia, conviene embebidos."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Tama\xf1o del documento:"})," Documentos demasiado grandes pueden afectar el rendimiento. Ten en cuenta que el tama\xf1o m\xe1ximo de cada documento en MongoDB es de 16MB."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Manejo de actualizaciones:"})," Si se actualizan con frecuencia, una estructura referenciada puede ser mejor."]}),"\n"]}),(0,a.jsx)(n.h3,{id:"13-indexaci\xf3n-y-optimizaci\xf3n-de-consultas",children:"1.3. Indexaci\xf3n y Optimizaci\xf3n de Consultas"}),(0,a.jsx)(n.p,{children:"El uso de \xedndices es crucial en MongoDB para mejorar el rendimiento. Algunas estrategias incluyen:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"\xcdndices en campos frecuentemente consultados."})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"\xcdndices compuestos para consultas con m\xfaltiples criterios."})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"\xcdndices de texto para b\xfasquedas en grandes vol\xfamenes de datos."})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"\xcdndices geoespaciales en datos de ubicaci\xf3n."})}),"\n"]}),(0,a.jsx)(n.h3,{id:"14-estrategias-de-particionamiento-y-replicaci\xf3n",children:"1.4. Estrategias de Particionamiento y Replicaci\xf3n"}),(0,a.jsx)(n.p,{children:"Cuando la base de datos crece, es necesario distribuir la carga:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Replicaci\xf3n:"})," Proporciona alta disponibilidad duplicando datos en m\xfaltiples servidores."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sharding:"})," Distribuye datos en m\xfaltiples nodos para manejar grandes vol\xfamenes de informaci\xf3n."]}),"\n"]}),(0,a.jsxs)(n.admonition,{title:"diferencias entre sharding y r\xe9plicas",type:"info",children:[(0,a.jsxs)(n.p,{children:["La ",(0,a.jsx)(n.strong,{children:"diferencia clave entre sharding y uso de r\xe9plicas"})," en MongoDB radica en su prop\xf3sito y funcionamiento:"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["El ",(0,a.jsx)(n.strong,{children:"objetivo del sharding"})," es distribuir los datos en m\xfaltiples servidores (nodos) para mejorar el rendimiento y la capacidad de almacenamiento. Los datos se dividen en ",(0,a.jsx)(n.strong,{children:"fragmentos (shards)"})," y cada fragmento se almacena en un nodo diferente."]}),"\n",(0,a.jsxs)(n.li,{children:["El ",(0,a.jsx)(n.strong,{children:"objetivo de las r\xe9plicas"})," es garantizar ",(0,a.jsx)(n.strong,{children:"alta disponibilidad y tolerancia a fallos"})," mediante copias de los datos en varios servidores. Un ",(0,a.jsx)(n.strong,{children:"nodo primario"})," recibe todas las escrituras y sincroniza los datos con uno o m\xe1s ",(0,a.jsx)(n.strong,{children:"nodos secundarios"}),". Si el primario falla, uno de los secundarios se convierte en el nuevo primario autom\xe1ticamente."]}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Diferencias Clave"})}),(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Caracter\xedstica"}),(0,a.jsx)(n.th,{children:"Sharding"}),(0,a.jsx)(n.th,{children:"R\xe9plicas"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Prop\xf3sito"})}),(0,a.jsx)(n.td,{children:"Escalar almacenamiento y rendimiento"}),(0,a.jsx)(n.td,{children:"Asegurar disponibilidad y recuperaci\xf3n ante fallos"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Estructura"})}),(0,a.jsx)(n.td,{children:"Datos distribuidos en m\xfaltiples servidores"}),(0,a.jsx)(n.td,{children:"M\xfaltiples copias de los mismos datos"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Escalabilidad"})}),(0,a.jsx)(n.td,{children:"Horizontal (a\xf1adiendo m\xe1s servidores)"}),(0,a.jsx)(n.td,{children:"No escala el almacenamiento, solo la disponibilidad"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Casos de uso"})}),(0,a.jsx)(n.td,{children:"Bases de datos grandes y con alto tr\xe1fico"}),(0,a.jsx)(n.td,{children:"Sistemas que requieren alta disponibilidad y redundancia"})]})]})]}),(0,a.jsxs)(n.p,{children:["En sistemas grandes, ",(0,a.jsx)(n.strong,{children:"sharding y r\xe9plicas se pueden combinar"}),", asegurando escalabilidad y disponibilidad al mismo tiempo."]})]}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h2,{id:"2-modelado-de-relaciones-en-mongodb",children:"2. Modelado de Relaciones en MongoDB"}),(0,a.jsx)(n.p,{children:"En bases de datos relacionales, las relaciones entre entidades se gestionan con claves for\xe1neas y tablas intermedias. En MongoDB, las relaciones se pueden modelar de diversas formas, seg\xfan la naturaleza de los datos y las consultas esperadas."}),(0,a.jsx)(n.h3,{id:"21-relaci\xf3n-11",children:"2.1. Relaci\xf3n 1:1"}),(0,a.jsx)(n.p,{children:"Un personaje tiene estrictamente una arma asociada, lo que se puede modelar de las siguientes formas:"}),(0,a.jsx)(n.h4,{id:"opciones-de-modelado",children:"Opciones de Modelado"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Embebido en el mismo documento"}),"\nEn este caso, los datos del ",(0,a.jsx)(n.strong,{children:"Arma"})," se almacenan directamente dentro del documento del ",(0,a.jsx)(n.strong,{children:"Personaje"}),". Esto es \xfatil cuando los datos del arma son peque\xf1os y siempre se necesitan al acceder al personaje."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma": {\n    "id": 101,\n    "nombre": "Espada Larga",\n    "descripcion": "Una espada con filo brillante y equilibrada."\n  }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Mejora el rendimiento en consultas porque toda la informaci\xf3n del personaje y su arma se obtiene en una sola operaci\xf3n."}),"\n",(0,a.jsx)(n.li,{children:"Ideal para datos que siempre se acceden juntos."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si los datos del arma son grandes o se actualizan frecuentemente, esto puede generar problemas, como aumentar el tama\xf1o del documento y complicar las actualizaciones."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Referencia a otro documento"}),"\nAqu\xed, el documento del ",(0,a.jsx)(n.strong,{children:"Personaje"})," contiene solo una referencia al documento del ",(0,a.jsx)(n.strong,{children:"Arma"})," a trav\xe9s de un campo ",(0,a.jsx)(n.code,{children:"arma_id"}),". El documento del ",(0,a.jsx)(n.strong,{children:"Arma"})," se almacena en su propia colecci\xf3n."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero Oscuro",\n  "arma_id": 101\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Armas"',children:'{\n  "_id": 101,\n  "nombre": "Espada Larga",\n  "descripcion": "Una espada con filo brillante y equilibrada."\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\xdatil cuando los datos del arma son grandes, se comparten entre diferentes personajes o se actualizan con frecuencia."}),"\n",(0,a.jsx)(n.li,{children:"Reduce el tama\xf1o del documento del personaje."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Requiere realizar consultas adicionales para obtener los datos del arma, lo que puede afectar el rendimiento si los datos se consultan frecuentemente."}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsx)(n.h4,{id:"cu\xe1ndo-elegir-cada-opci\xf3n",children:"Cu\xe1ndo elegir cada opci\xf3n"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Embebido."}),"  \xdasalo si:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Los datos del arma son peque\xf1os y siempre se necesitan al consultar al personaje."}),"\n",(0,a.jsx)(n.li,{children:"Las actualizaciones del arma son poco frecuentes."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Referenciado."})," \xdasalo si:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Los datos del arma son grandes o compartidos por varios personajes."}),"\n",(0,a.jsx)(n.li,{children:"Las armas se actualizan frecuentemente o tienen su propio ciclo de vida independiente del personaje."}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["En este caso, como el arma es \xfanica para cada personaje y casi siempre se accede junto al personaje, el modelado ",(0,a.jsx)(n.strong,{children:"embebido"})," ser\xeda ideal."]}),(0,a.jsxs)(n.admonition,{title:"en el documento embebido, \xbfpor qu\xe9 el personaje es la entidad principal?",type:"info",children:[(0,a.jsxs)(n.p,{children:["T\xe9cnicamente, ",(0,a.jsx)(n.strong,{children:"se podr\xeda modelar al Arma como colecci\xf3n principal y guardar al Personaje embebido dentro de ella"}),", pero esta no ser\xeda la mejor pr\xe1ctica para la mayor\xeda de los casos de uso."]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si el acceso principal en tu aplicaci\xf3n se enfoca en obtener un arma y su portador (Personaje), este dise\xf1o permite recuperar toda la informaci\xf3n con una \xfanica consulta."}),"\n",(0,a.jsx)(n.li,{children:"Si la aplicaci\xf3n necesita consultar principalmente personajes y sus datos, este dise\xf1o dificulta la consulta, ya que los personajes estar\xedan embebidos dentro de las armas, lo que requerir\xeda recorrer todos los documentos de armas para buscar un personaje espec\xedfico."}),"\n",(0,a.jsx)(n.li,{children:"En la mayor\xeda de los escenarios, el Personaje suele ser la entidad principal y el arma es un atributo del personaje. Este dise\xf1o invierte esa l\xf3gica natural, lo que podr\xeda confundir el dise\xf1o de la aplicaci\xf3n."}),"\n",(0,a.jsx)(n.li,{children:"Este dise\xf1o se vuelve complejo y poco pr\xe1ctico cuando el Personaje necesita gestionar m\xfaltiples relaciones con otras entidades (como habilidades, debilidades, etc.)"}),"\n"]})]}),(0,a.jsx)(n.h3,{id:"22-relaci\xf3n-1n-uno-a-muchos",children:"2.2. Relaci\xf3n 1:N (Uno a Muchos)"}),(0,a.jsxs)(n.p,{children:["Para modelar la relaci\xf3n ",(0,a.jsxs)(n.strong,{children:["1",":N"," (Uno a Muchos)"]})," entre ",(0,a.jsx)(n.strong,{children:"Personaje"})," y ",(0,a.jsx)(n.strong,{children:"Habilidad"})," en MongoDB (donde un ",(0,a.jsx)(n.strong,{children:"Personaje"})," tiene una habilidad, pero una habilidad puede ser compartida por m\xfaltiples personajes), y ",(0,a.jsx)(n.strong,{children:"siendo Personaje la entidad principal"}),", se pueden utilizar las siguientes estrategias:"]}),(0,a.jsx)(n.h4,{id:"opciones-de-modelado-1",children:"Opciones de Modelado"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Embebido (cuando la habilidad est\xe1 estrechamente ligada al personaje y no se comparte)"})," - No es nuestro caso pero vamos a ver c\xf3mo representarlo.",(0,a.jsx)(n.br,{}),"\n","En este caso, la informaci\xf3n de la ",(0,a.jsx)(n.strong,{children:"Habilidad"})," se almacena directamente dentro del documento del ",(0,a.jsx)(n.strong,{children:"Personaje"}),". Esto es adecuado cuando la habilidad es espec\xedfica de un personaje y no es compartida con otros."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personaje"',children:'{\n  "_id": 1,\n  "nombre": "Cabellero oscuro",\n  "arma_id": 101,\n  "habilidad": {\n    "id": 201,\n    "nombre": "Fuerza Sobrehumana",\n    "descripcion": "Incrementa la fuerza f\xedsica."\n  }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Consulta eficiente, ya que toda la informaci\xf3n del personaje y su habilidad se encuentra en un \xfanico documento."}),"\n",(0,a.jsx)(n.li,{children:"Simplicidad en el dise\xf1o si la habilidad no se comparte entre personajes."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"No es adecuado si una habilidad es compartida por varios personajes, ya que habr\xeda duplicaci\xf3n de datos (mismos datos de habilidad almacenados en m\xfaltiples documentos)."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Referenciado con ID en el documento del personaje (cuando las habilidades se comparten entre personajes)"}),(0,a.jsx)(n.br,{}),"\n","Aqu\xed, el documento del ",(0,a.jsx)(n.strong,{children:"Personaje"})," incluye una referencia (",(0,a.jsx)(n.code,{children:"habilidad_id"}),") al documento correspondiente de ",(0,a.jsx)(n.strong,{children:"Habilidad"}),", que se almacena en su propia colecci\xf3n. Esto es \xfatil si las habilidades son reutilizables entre m\xfaltiples personajes."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma_id": 101,\n  "habilidad_id": 201\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Habilidades"',children:'{\n  "_id": 201,\n  "nombre": "Fuerza Sobrehumana",\n  "descripcion": "Incrementa la fuerza f\xedsica."\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"No hay duplicaci\xf3n de datos, ya que la habilidad se almacena una sola vez y se puede compartir entre m\xfaltiples personajes."}),"\n",(0,a.jsx)(n.li,{children:"Es f\xe1cil actualizar o modificar una habilidad sin afectar otros documentos."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Requiere una consulta adicional para recuperar los datos completos de la habilidad (por ejemplo, usando una operaci\xf3n ",(0,a.jsx)(n.code,{children:"lookup"})," en una agregaci\xf3n)."]}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsx)(n.h4,{id:"cu\xe1ndo-elegir-cada-opci\xf3n-1",children:"Cu\xe1ndo elegir cada opci\xf3n"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Embebido:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si cada habilidad es \xfanica y espec\xedfica para un personaje. (No es nuestro caso)"}),"\n",(0,a.jsx)(n.li,{children:"Si la habilidad no cambia con frecuencia y no se comparte entre personajes."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Referenciado:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si las habilidades son reutilizables y pueden ser compartidas entre m\xfaltiples personajes."}),"\n",(0,a.jsx)(n.li,{children:"Si las habilidades tienen su propio ciclo de vida (por ejemplo, se pueden modificar, eliminar o consultar independientemente de los personajes)."}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.admonition,{title:"\xbfQu\xe9 pasar\xeda si Habilidad (N) fuese la entidad principal?",type:"info",children:[(0,a.jsxs)(n.p,{children:["Si ",(0,a.jsx)(n.strong,{children:"Habilidad"})," fuese la entidad principal y los personajes dependieran de las habilidades, podr\xedamos modelar la relaci\xf3n de varias formas dependiendo de c\xf3mo se accede y se actualizan los datos. Esto implicar\xeda que cada habilidad conoce a los personajes que la poseen."]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opciones de Modelado"})}),(0,a.jsxs)(n.h4,{id:"1-embebido-los-personajes-se-almacenan-como-un-array-dentro-de-cada-habilidad",children:["1. ",(0,a.jsx)(n.strong,{children:"Embebido: Los personajes se almacenan como un array dentro de cada habilidad"})]}),(0,a.jsxs)(n.p,{children:["En este modelo, cada documento de ",(0,a.jsx)(n.strong,{children:"Habilidad"})," contendr\xe1 un array con la informaci\xf3n b\xe1sica de los personajes que poseen esa habilidad."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Habilidades"',children:'{\n  "_id": 201,\n  "nombre": "Fuerza Sobrehumana",\n  "descripcion": "Incrementa la fuerza f\xedsica.",\n  "personajes": [\n    { "id": 1, "nombre": "Caballero oscuro", "arma_id": 101 },\n    { "id": 2, "nombre": "Duende feroz", "arma_id": 102 }\n  ]\n}\n'})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Consulta eficiente si el acceso se centra en la habilidad y los personajes relacionados."}),"\n",(0,a.jsx)(n.li,{children:"Toda la informaci\xf3n est\xe1 contenida en un \xfanico documento."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si los datos de los personajes cambian frecuentemente, la actualizaci\xf3n de los subdocumentos puede ser costosa."}),"\n",(0,a.jsx)(n.li,{children:"No es adecuado si el n\xfamero de personajes por habilidad crece mucho, ya que los documentos de habilidad pueden volverse muy grandes."}),"\n"]}),(0,a.jsxs)(n.h4,{id:"2-referenciado-los-personajes-son-referenciados-por-id-dentro-de-cada-habilidad",children:["2. ",(0,a.jsx)(n.strong,{children:"Referenciado: Los personajes son referenciados por ID dentro de cada habilidad"})]}),(0,a.jsxs)(n.p,{children:["En este modelo, cada documento de ",(0,a.jsx)(n.strong,{children:"Habilidad"})," incluye un array de IDs de los personajes que poseen esa habilidad. Los datos completos de los personajes se almacenan en una colecci\xf3n separada."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Habilidades"',children:'{\n  "_id": 201,\n  "nombre": "Fuerza Sobrehumana",\n  "descripcion": "Incrementa la fuerza f\xedsica.",\n  "personajes_ids": [1, 2]\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma_id": 101\n}\n{\n  "_id": 2,\n  "nombre": "Duende feroz",\n  "arma_id": 102\n}\n'})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Permite manejar un gran n\xfamero de personajes asociados a una habilidad sin sobrecargar el documento de habilidad."}),"\n",(0,a.jsx)(n.li,{children:"Actualizar informaci\xf3n del personaje no requiere modificar los documentos de habilidad."}),"\n",(0,a.jsx)(n.li,{children:"M\xe1s flexible si los personajes necesitan ser consultados o gestionados de forma independiente."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Consultar una habilidad con todos sus personajes requiere m\xfaltiples consultas (o un ",(0,a.jsx)(n.code,{children:"lookup"})," en una agregaci\xf3n)."]}),"\n"]})]}),(0,a.jsx)(n.h3,{id:"23-relaci\xf3n-nm-muchos-a-muchos",children:"2.3. Relaci\xf3n N:M (Muchos a Muchos)"}),(0,a.jsxs)(n.p,{children:["Para modelar la relaci\xf3n ",(0,a.jsxs)(n.strong,{children:["N",":M"," (Muchos a Muchos)"]})," entre ",(0,a.jsx)(n.strong,{children:"Personaje"})," y ",(0,a.jsx)(n.strong,{children:"Debilidad"})," (donde un ",(0,a.jsx)(n.strong,{children:"Personaje"})," puede tener m\xfaltiples debilidades y cada ",(0,a.jsx)(n.strong,{children:"Debilidad"})," puede estar asociada a m\xfaltiples personajes), y considerando que ",(0,a.jsx)(n.strong,{children:"Personaje"})," es la entidad principal, podemos usar varios enfoques en MongoDB:"]}),(0,a.jsx)(n.h4,{id:"opciones-de-modelado-2",children:"Opciones de Modelado"}),(0,a.jsxs)(n.h4,{id:"1-embebido",children:["1. ",(0,a.jsx)(n.strong,{children:"Embebido"})]}),(0,a.jsxs)(n.p,{children:["En este modelo, cada ",(0,a.jsx)(n.strong,{children:"Personaje"})," contiene un array embebido con las debilidades que tiene."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma_id": 101,\n  "habilidades": [201],\n  "debilidades": [\n    { "id": 301, "nombre": "Fobia al fuego", "descripcion": "El personaje teme al fuego" },\n    { "id": 302, "nombre": "Miedo a las alturas", "descripcion": "El personaje teme a las alturas" }\n  ]\n}\n{\n  "_id": 2,\n  "nombre": "Duende feroz",\n  "arma_id": 102,\n  "habilidades": [201],\n  "debilidades": [\n    { "id": 301, "nombre": "Fobia al fuego", "descripcion": "El personaje teme al fuego" },\n    { "id": 304, "nombre": "Miedo a las plantas", "descripcion": "El personaje teme a las plantas" }\n  ]\n}\n'})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Toda la informaci\xf3n del personaje (incluyendo sus debilidades) est\xe1 contenida en un solo documento."}),"\n",(0,a.jsx)(n.li,{children:"Consulta eficiente cuando el acceso se centra en los personajes."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Se produce duplicidad de datos (desnormalizaci\xf3n), pudiendo llevar a inconsistencia de datos."}),"\n",(0,a.jsx)(n.li,{children:"Las actualizaciones de una debilidad compartida requerir\xedan modificar m\xfaltiples documentos de personajes."}),"\n"]}),(0,a.jsx)(n.p,{children:"Esta soluci\xf3n no es recomendable."}),(0,a.jsxs)(n.h4,{id:"2-referenciado-en-arrays",children:["2. ",(0,a.jsx)(n.strong,{children:"Referenciado en arrays"})]}),(0,a.jsxs)(n.p,{children:["En este modelo, cada documento de ",(0,a.jsx)(n.strong,{children:"Personaje"})," contiene un array de IDs que referencia los documentos de ",(0,a.jsx)(n.strong,{children:"Debilidad"}),", almacenados en su propia colecci\xf3n."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma_id": 101,\n  "habilidades": [201],\n  "debilidades_ids": [301, 302]\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Debilidades"',children:'{\n  "_id": 301,\n  "nombre": "Fobia al fuego",\n  "descripcion": "El personaje teme al fuego"\n}\n{\n  "_id": 302,\n  "nombre": "Miedo a las alturas",\n  "descripcion": "El personaje teme a las alturas"\n}\n'})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Las debilidades son reutilizables entre m\xfaltiples personajes."}),"\n",(0,a.jsx)(n.li,{children:"Las actualizaciones en los datos de una debilidad se reflejan autom\xe1ticamente en todos los personajes relacionados."}),"\n",(0,a.jsx)(n.li,{children:"Reduce el tama\xf1o de los documentos de los personajes."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Requiere consultas adicionales para obtener los detalles de las debilidades (por ejemplo, con una operaci\xf3n ",(0,a.jsx)(n.code,{children:"lookup"}),")."]}),"\n"]}),(0,a.jsxs)(n.h4,{id:"3-colecci\xf3n-intermedia-para-relaciones-din\xe1micas-con-metadatos-adicionales",children:["3. ",(0,a.jsx)(n.strong,{children:"Colecci\xf3n intermedia (para relaciones din\xe1micas con metadatos adicionales)"})]}),(0,a.jsxs)(n.p,{children:["Este modelo utiliza una colecci\xf3n intermedia para representar la relaci\xf3n ",(0,a.jsxs)(n.strong,{children:["N",":M"]})," entre ",(0,a.jsx)(n.strong,{children:"Personaje"})," y ",(0,a.jsx)(n.strong,{children:"Debilidad"}),". La colecci\xf3n intermedia puede almacenar informaci\xf3n adicional, como cu\xe1ndo se detect\xf3 la debilidad o el nivel de impacto de la debilidad en el personaje."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Personajes"',children:'{\n  "_id": 1,\n  "nombre": "Caballero oscuro",\n  "arma_id": 101,\n  "habilidades": [201]\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Debilidades"',children:'{\n  "_id": 301,\n  "nombre": "Fobia al fuego",\n  "descripcion": "El personaje teme al fuego"\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Intermedia Personaje_Debilidad"',children:'{\n  "personaje_id": 1,\n  "debilidad_id": 301,\n  "fecha_deteccion": "2025-01-01",\n  "nivel_impacto": "Alto"\n}\n{\n  "personaje_id": 1,\n  "debilidad_id": 302,\n  "fecha_deteccion": "2025-01-10",\n  "nivel_impacto": "Moderado"\n}\n'})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Permite almacenar informaci\xf3n adicional sobre la relaci\xf3n entre el personaje y la debilidad."}),"\n",(0,a.jsx)(n.li,{children:"Es altamente flexible y escalable."}),"\n",(0,a.jsx)(n.li,{children:"Las debilidades y personajes pueden ser gestionados de forma independiente."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Desventajas:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Las consultas pueden ser m\xe1s complejas, ya que implican m\xfaltiples colecciones."}),"\n"]}),(0,a.jsx)(n.h4,{id:"cu\xe1ndo-elegir-cada-opci\xf3n-2",children:"Cu\xe1ndo elegir cada opci\xf3n"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Embebido:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si las debilidades son pocas."}),"\n",(0,a.jsx)(n.li,{children:"Si las consultas siempre est\xe1n centradas en los personajes y sus detalles."}),"\n",(0,a.jsx)(n.li,{children:"La relaci\xf3n entre personajes y debilidades es est\xe1tica y no cambia con frecuencia."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Referenciado:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si las debilidades son compartidas entre personajes."}),"\n",(0,a.jsx)(n.li,{children:"Si las debilidades tienen valor independiente y necesitan ser gestionadas o consultadas fuera del contexto del personaje."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Colecci\xf3n intermedia:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Si necesitas almacenar metadatos adicionales sobre la relaci\xf3n (por ejemplo, el nivel de impacto de la debilidad en cada personaje)."}),"\n",(0,a.jsx)(n.li,{children:"Si las consultas involucran tanto a los personajes como a las debilidades de manera flexible."}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h3,{id:"resumen-pr\xe1ctico",children:"Resumen pr\xe1ctico"}),(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Criterio"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Embebido"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Referenciado"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Relaci\xf3n"})}),(0,a.jsxs)(n.td,{children:["1:1 o peque\xf1a 1",":N"]}),(0,a.jsxs)(n.td,{children:["Grande 1",":N"," o N",":M"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Acceso conjunto"})}),(0,a.jsx)(n.td,{children:"Datos siempre se acceden juntos"}),(0,a.jsx)(n.td,{children:"Datos se acceden por separado"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Frecuencia de cambio"})}),(0,a.jsx)(n.td,{children:"Datos no cambian frecuentemente"}),(0,a.jsx)(n.td,{children:"Datos cambian frecuentemente"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Independencia"})}),(0,a.jsx)(n.td,{children:"Datos dependen del documento principal"}),(0,a.jsx)(n.td,{children:"Datos son independientes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Tama\xf1o de datos"})}),(0,a.jsx)(n.td,{children:"Datos peque\xf1os"}),(0,a.jsx)(n.td,{children:"Datos grandes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Consultas cruzadas"})}),(0,a.jsx)(n.td,{children:"No son necesarias"}),(0,a.jsx)(n.td,{children:"Son frecuentes"})]})]})]}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h3,{id:"reglas-generales-para-tomar-decisiones",children:"Reglas generales para tomar decisiones"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"pocos"}),", usa embebido."]}),"\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"muchos"}),", usa referenciado."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"siempre"}),", usa embebido."]}),"\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"a veces"}),", usa referenciado."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n",(0,a.jsxs)(n.li,{children:["Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsx)(n.h2,{id:"ejercicios",children:"Ejercicios"}),(0,a.jsx)(n.h3,{id:"ejercicio-1-misiones",children:"Ejercicio 1: Misiones"}),(0,a.jsx)(n.p,{children:"Partiendo del ejercicio Misiones que realizamos en el tema anterior, determina el dise\xf1o de la base de datos si utilizaramos MongoDB en vez de MySQL. Justifica las decisiones que has tomado en cuanto a las relaciones, teniendo en cuenta las normas descritas anteriormente y los casos de uso de nuestro programa."}),(0,a.jsx)(n.p,{children:"Define las colecciones que debemos crear y haz un ejemplo de documento JSON para cada una de ellas."}),(0,a.jsxs)(n.p,{children:["Puedes descargar el enunciado en este ",(0,a.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(1295).A+"",children:"enlace"}),"."]}),(0,a.jsx)(n.h4,{id:"soluci\xf3n",children:"Soluci\xf3n"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"An\xe1lisis inicial:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"La mayor\xeda de casos de uso est\xe1n centrados en las Misiones (3 - 7). Esta ser\xe1 la entidad principal."}),"\n",(0,a.jsx)(n.li,{children:"Necesitamos tener acceso f\xe1cil a los usuarios para insertarlos y cambiar su nombre de usuario."}),"\n",(0,a.jsx)(n.li,{children:"Necesitamos tener acceso f\xe1cil a las recompensas para mostrarlas en el caso de uso 3."}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Relaci\xf3n N",":M"," Jugador - Misi\xf3n:"]})}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfDesde el jugador necesito saber las misiones?"})," No, no hay ning\xfan caso de uso"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfDesde las misiones necesito saber las misiones?"})," S\xed, casos de uso 5 y 7"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"muchos"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"siempre"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado. (Podemos asignar y rechazar misiones a los Jugadores)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido. La otra entidad, Recompensa no necesita saber nada de los Jugadores."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Analizando las respuestas, es preferible el ",(0,a.jsx)(n.strong,{children:"uso de referenciado"}),", de forma que la Misi\xf3n almacena la lista de Jugadores asignados."]}),(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Relaci\xf3n 1",":N"," Misi\xf3n - Recompensa:"]})}),(0,a.jsx)(n.p,{children:"Una misi\xf3n tiene asignada una recompensa pero una recompensa puede estar en varias misiones."}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfDesde la misi\xf3n necesito saber las recompensas?"})," S\xed, caso de uso 7."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfDesde las recompensas necesito saber las misiones?"})," S\xed, caso de uso 8. \xbfRelaci\xf3n bidireccional?"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado. En el caso de uso 8 tengo que mostrar las recompensas."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"pocos"})," (desde el punto de vista de Misi\xf3n), usa embebido. Si ",(0,a.jsx)(n.strong,{children:"muchos"})," (desde el punto de vista de Recompensa), usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"a veces"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado. (Podemos cambiar las recompensas de las misiones)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido. La otra entidad, Jugador no necesita saber nada de las Recompensas."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Si analizamos las respuestas, ",(0,a.jsx)(n.strong,{children:"es preferible el referenciado"}),", teniendo Misi\xf3n la referencia de la Recompensa asignada. Adem\xe1s, podemos hacer la relaci\xf3n bidireccional, teniendo Recompensa una lista de las Misiones en la que est\xe1 asignada."]}),(0,a.jsx)(n.admonition,{title:"CUIDADO CON LAS RELACIONES BIDIRECCIONALES",type:"warning",children:(0,a.jsx)(n.p,{children:"Podemos hacer relaciones bidireccionales, pero siendo conscientes que hay que tener mucho cuidado en las actualizaciones de la relaci\xf3n, modificando los valores en ambas colecciones; en caso contrario, podemos producir inconsistencia de datos.\nSi la opci\xf3n 8 se va a ejecutar con poca frecuencia, podemos hacer la relaci\xf3n unidireccional y soportar las consultas de uni\xf3n a la hora de mostrar las misiones que tienen asignadas esa recompensa."})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Ejemplos de documentos:"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Jugadores"',children:'{\n  "_id": "j1",  // Identificador \xfanico del jugador\n  "nombre": "Juan P\xe9rez"\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Misiones"',children:'{\n  "_id": "m1",  // Identificador \xfanico de la misi\xf3n\n  "nombre": "Salvar la aldea",\n  "descripcion": "Rescatar a los aldeanos de los enemigos.",\n  "recompensa_id": "r1",  // Referencia a la recompensa asociada\n  "jugadores_ids": ["j1", "j2"]  // Referencias a los jugadores asignados\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Recompensas"',children:'{\n  "_id": "r1",  // Identificador \xfanico de la recompensa\n  "nombre": "Espada legendaria",\n  "descripcion": "Una poderosa espada m\xe1gica.",\n  "misiones_ids": ["m1", "m3"]  // Referencias a las misiones que otorgan esta recompensa\n}\n'})}),(0,a.jsx)(n.h3,{id:"ejercicio-2-stardam-valley-v2",children:"Ejercicio 2: Stardam Valley (v2)"}),(0,a.jsx)(n.p,{children:"Realiza el mismo proceso que en el ejercicio anterior para la base de datos de Stardam Valley v2."}),(0,a.jsx)(n.h3,{id:"ejercicio-3-gesti\xf3n-de-pedidos-de-una-tienda",children:"Ejercicio 3: Gesti\xf3n de Pedidos de una Tienda"}),(0,a.jsxs)(n.p,{children:["La tienda de sof\xe1s ",(0,a.jsx)(n.strong,{children:'"Tapizados \xc1gora"'})," necesita dise\xf1ar una base de datos NoSQL para gestionar la informaci\xf3n relacionada con su cat\xe1logo de productos, clientes, pedidos y entregas."]}),(0,a.jsx)(n.h4,{id:"informaci\xf3n-a-gestionar",children:"Informaci\xf3n a gestionar"}),(0,a.jsx)(n.p,{children:"La empresa necesita almacenar los siguientes datos:"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["De los ",(0,a.jsx)(n.strong,{children:"Clientes"})," conocemos:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Identificador \xfanico del cliente."}),"\n",(0,a.jsx)(n.li,{children:"Nombre y apellidos."}),"\n",(0,a.jsx)(n.li,{children:"Correo electr\xf3nico."}),"\n",(0,a.jsx)(n.li,{children:"Direcci\xf3n(es) (pueden tener m\xfaltiples direcciones, por ejemplo, casa y oficina). De cada direcci\xf3n conocemos c\xf3digo postal, calle y n\xfamero."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Sof\xe1s (Productos):"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'Nombre del modelo (e.g., "Sof\xe1 Relax 3000").'}),"\n",(0,a.jsx)(n.li,{children:'Descripci\xf3n (e.g., "Un sof\xe1 reclinable con tapizado de cuero").'}),"\n",(0,a.jsx)(n.li,{children:"Precio."}),"\n",(0,a.jsx)(n.li,{children:"Stock disponible."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Por cada ",(0,a.jsx)(n.strong,{children:"Pedido"})," que realicen los clientes almacenaremos:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Fecha del pedido."}),"\n",(0,a.jsx)(n.li,{children:"Productos solicitados (cantidad, modelo)."}),"\n",(0,a.jsx)(n.li,{children:"Precio total del pedido."}),"\n",(0,a.jsx)(n.li,{children:"Estado del pedido (pendiente, en preparaci\xf3n, enviado, entregado)."}),"\n",(0,a.jsx)(n.li,{children:"Direcci\xf3n de entrega asociada al cliente."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Por \xfaltimo, almacenaremos los estados de las ",(0,a.jsx)(n.strong,{children:"entregas"})," de los pedidos:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Fecha estimada de entrega."}),"\n",(0,a.jsx)(n.li,{children:"Transportista asignado."}),"\n",(0,a.jsx)(n.li,{children:"Estado de la entrega (pendiente, en tr\xe1nsito, entregado)."}),"\n"]}),"\n"]}),"\n"]}),(0,a.jsx)(n.h4,{id:"casos-de-uso",children:"Casos de uso"}),(0,a.jsx)(n.p,{children:"La aplicaci\xf3n Java que vamos a desarrollar ofrecer\xe1 las siguientes opciones:"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Consulta del cat\xe1logo de productos:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Mostrar a los clientes los modelos de sof\xe1s disponibles, su descripci\xf3n, precios, y stock."}),"\n",(0,a.jsx)(n.li,{children:"Permitir\xe1 b\xfasquedas por nombre, tapiz o rango de precios."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Gesti\xf3n de pedidos:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Al crear un pedido, se debe guardar la informaci\xf3n del cliente, los productos seleccionados, la cantidad solicitada y el total del pedido. Tambi\xe9n se iniciar\xe1 la entrega en estado pendiente."}),"\n",(0,a.jsx)(n.li,{children:"Permitir consultar el estado del pedido en cualquier momento."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Consulta del historial de pedidos del cliente:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Mostrar todos los pedidos realizados por un cliente, con los detalles de cada pedido (fecha, sof\xe1s comprados, precio de cada sof\xe1, total). Tambi\xe9n se deber\xe1 mostrar el nombre, correo y direcciones del cliente."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Seguimiento de entregas:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Consultar la fecha estimada de entrega y el estado del env\xedo de un pedido."}),"\n",(0,a.jsx)(n.li,{children:"Registrar actualizaciones sobre el estado de una entrega."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Control del stock:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Reducir autom\xe1ticamente el stock de los productos al registrar un pedido."}),"\n",(0,a.jsx)(n.li,{children:"Mostrar los sof\xe1s con bajo stock para reposici\xf3n."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Gesti\xf3n de precios:"})}),"\n"]}),"\n"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Modificar el precio de los productos."}),"\n"]}),(0,a.jsx)(n.h4,{id:"tareas-a-realizar",children:"Tareas a realizar"}),(0,a.jsx)(n.p,{children:"Dise\xf1a la base de datos utilizando un enfoque NoSQL y justificando si se usar\xe1n documentos embebidos, referencias o colecciones intermedias para cada tipo de relaci\xf3n. Crea un fichero JSON de ejemplo para cada colecci\xf3n que crees."}),(0,a.jsxs)("div",{class:"hidden-summary",children:[(0,a.jsx)(n.h4,{id:"soluci\xf3n-1",children:"Soluci\xf3n"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Entidades"}),": Cliente, Direcci\xf3n, Pedido, Producto y Entrega."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Relaciones"}),":"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Cliente - (1",":N",") - Direcci\xf3n"]}),"\n",(0,a.jsxs)(n.li,{children:["Cliente - (1",":N",") - Pedido"]}),"\n",(0,a.jsxs)(n.li,{children:["Pedido - (N",":M",") - Producto"]}),"\n",(0,a.jsx)(n.li,{children:"Pedido - (1:1) - Entrega"}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Entidades principales"}),": Pedido y Producto. (La mayor\xeda de operaciones se realizan sobre estas dos entidades)"]}),(0,a.jsx)(n.p,{children:"Comenzamos a valorar las relaciones:"}),(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Cliente - (1",":N",") - Direcci\xf3n"]}),":"]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"pocos"}),", usa embebido. (Se entiende que una persona no tendr\xe1 m\xe1s de 5 direcciones)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"siempre"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Conclusi\xf3n: ",(0,a.jsx)(n.strong,{children:"EMBEBIDO"}),"."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Cliente - (1",":N",") - Pedido"]}),":"]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"muchos"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"a veces"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa embebido. (No ser\xe1 con frecuencia pero un usuario puede actualizar su correo, direcci\xf3n... Nos interesa independencia)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Conclusi\xf3n: ",(0,a.jsx)(n.strong,{children:"REFERENCIADO"}),". \xbfBidireccional o unidireccional?"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\xbfEl cliente necesita saber sus pedidos? Caso de uso 3"}),"\n",(0,a.jsx)(n.li,{children:"\xbfEl pedido necesita conocer el cliente que lo ha realizado? Igual que en SQL, la entidad N es la que deber\xeda tener la referencia de la entidad 1.\nSe puede hacer bidireccional o guardar solo en el pedido el id del cliente."}),"\n"]}),(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Pedido - (N",":M",") - Producto"]}),":"]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"muchos"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"a veces"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado. (Se puede actualizar stock, precio...)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Conclusi\xf3n: ",(0,a.jsx)(n.strong,{children:"REFERENCIADO"}),". No tiene sentido que sea bidireccional. El pedido contendr\xe1 la lista de productos elegidos."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Pedido - (1:1) - Entrega"}),":"]}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos relacionados son independientes?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfCu\xe1ntos datos relacionados hay?"})," Si ",(0,a.jsx)(n.strong,{children:"pocos"}),", usa embebido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 tan frecuentemente se consultan juntos?"})," Si ",(0,a.jsx)(n.strong,{children:"a veces"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos cambian frecuentemente?"})," Si ",(0,a.jsx)(n.strong,{children:"s\xed"}),", usa referenciado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xbfLos datos son reutilizables por otros documentos?"})," Si ",(0,a.jsx)(n.strong,{children:"no"}),", usa embebido."]}),"\n"]}),"\n"]}),(0,a.jsxs)(n.p,{children:["Conclusi\xf3n: ",(0,a.jsx)(n.strong,{children:"EMBEBIDO"})]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Cliente"',children:'{\n  "_id": "c1",\n  "nombre": "Juan P\xe9rez",\n  "correo": "juan@example.com",\n  "direcciones": [\n    { "codigoPostal": "28001", "calle": "Calle Mayor", "numero": 5 },\n    { "codigoPostal": "28002", "calle": "Avenida Sol", "numero": 12 }\n  ]\n}\n'})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Pedido"',children:'{\n  "_id": "p1",\n  "fecha": "2023-01-15",\n  "cliente_id": "c1",\n  "direccion_entrega": { "codigoPostal": "28001", "calle": "Calle Mayor", "numero": 5 },\n  "productos": [\n    { "producto_id": "s1", "cantidad": 2, "precio": 300 },\n    { "producto_id": "s2", "cantidad": 1, "precio": 500 }\n  ],\n  "precioTotal": 800.0,\n  "estado": "pendiente",\n  "entrega": {\n    "fechaEstimada": "2023-01-20",\n    "transportista": "DHL",\n    "estado": "pendiente"\n  }\n}\n'})}),(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["En la colecci\xf3n pedido se ha vuelto a incluir la ",(0,a.jsx)(n.strong,{children:"direcci\xf3n"})," del cliente porque, a futuro, el cliente puede cambiar su direcci\xf3n pero el pedido ya se entreg\xf3. Tambi\xe9n se ha incluido el ",(0,a.jsx)(n.strong,{children:"precio de cada producto"})," por el mismo motivo, porque los productos pueden cambiar de precio con el tiempo pero nos interesa saber cu\xe1nto le cost\xf3 al cliente."]})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="Colecci\xf3n Cat\xe1logo"',children:'{\n  "_id": "s1",\n  "nombre": "Sof\xe1 Relax 3000",\n  "descripcion": "Un sof\xe1 reclinable con tapizado de cuero",\n  "precio": 400.0,\n  "stock": 10\n}\n'})})]})]})}function j(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},1295:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/files/Ejercicio relaciones. Misiones-03e4260a59fbe1abe32e309026fc0f6e.pdf"},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>r});var i=s(6540);const a={},o=i.createContext(a);function d(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);