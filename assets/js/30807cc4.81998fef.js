"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6381],{1713:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/matriz-confusion-sin-eti-24994432dacf1dc4dde02685b777e4a9.png"},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>c});var r=n(96540);const d={},i=r.createContext(d);function l(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(i.Provider,{value:s},e.children)}},45883:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/matriz-confusion-00af5b243a4b83d1922934ff08218b00.png"},85621:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"pia_2526/ut3_ml/aprendizaje-supervisado/tips-generales","title":"Tips generales","description":"Colecci\xf3n de trucos y buenas pr\xe1cticas para trabajar con modelos de clasificaci\xf3n y regresi\xf3n: escalado, preparaci\xf3n de datos, representaciones gr\xe1ficas, manejo de etiquetas, matrices de confusi\xf3n y otros detalles \xfatiles para evitar errores comunes.","source":"@site/docs/01_pia_2526/ut3_ml/5-aprendizaje-supervisado/tips-generales.md","sourceDirName":"01_pia_2526/ut3_ml/5-aprendizaje-supervisado","slug":"/pia_2526/ut3_ml/aprendizaje-supervisado/tips-generales","permalink":"/DevTacora/docs/pia_2526/ut3_ml/aprendizaje-supervisado/tips-generales","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Tips generales","sidebar_position":1,"description":"Colecci\xf3n de trucos y buenas pr\xe1cticas para trabajar con modelos de clasificaci\xf3n y regresi\xf3n: escalado, preparaci\xf3n de datos, representaciones gr\xe1ficas, manejo de etiquetas, matrices de confusi\xf3n y otros detalles \xfatiles para evitar errores comunes.","keywords":["tips","machine learning","escalado","confusion matrix","clases","scikit-learn","clasificaci\xf3n","preprocesamiento"]},"sidebar":"pia_2526_Sidebar","previous":{"title":"Aprendizaje supervisado","permalink":"/DevTacora/docs/category/aprendizaje-supervisado"},"next":{"title":"Clasificaci\xf3n","permalink":"/DevTacora/docs/category/clasificaci\xf3n"}}');var d=n(74848),i=n(28453);const l={title:"Tips generales",sidebar_position:1,description:"Colecci\xf3n de trucos y buenas pr\xe1cticas para trabajar con modelos de clasificaci\xf3n y regresi\xf3n: escalado, preparaci\xf3n de datos, representaciones gr\xe1ficas, manejo de etiquetas, matrices de confusi\xf3n y otros detalles \xfatiles para evitar errores comunes.",keywords:["tips","machine learning","escalado","confusion matrix","clases","scikit-learn","clasificaci\xf3n","preprocesamiento"]},c=void 0,a={},t=[{value:"TIP 1. Mantener dos versiones del dataset: normal y escalado",id:"tip-1-mantener-dos-versiones-del-dataset-normal-y-escalado",level:2},{value:"Paso 1. Mantener los datos originales sin tocar",id:"paso-1-mantener-los-datos-originales-sin-tocar",level:3},{value:"Paso 2. Crear versiones escaladas para modelos que lo necesiten",id:"paso-2-crear-versiones-escaladas-para-modelos-que-lo-necesiten",level:3},{value:"Paso 3. Usar cada una seg\xfan el modelo",id:"paso-3-usar-cada-una-seg\xfan-el-modelo",level:3},{value:"Logistic Regression",id:"logistic-regression",level:4},{value:"Decision Tree",id:"decision-tree",level:5},{value:"Tip 2. Usar <code>model.classes_</code> para etiquetar correctamente los gr\xe1ficos",id:"tip-2-usar-modelclasses_-para-etiquetar-correctamente-los-gr\xe1ficos",level:2},{value:"Ejemplo matriz de confusi\xf3n SIN etiquetas personalizadas (menos intuitiva)",id:"ejemplo-matriz-de-confusi\xf3n-sin-etiquetas-personalizadas-menos-intuitiva",level:3},{value:"Matriz de confusi\xf3n CON etiquetas personalizadas (recomendado)",id:"matriz-de-confusi\xf3n-con-etiquetas-personalizadas-recomendado",level:3}];function o(e){const s={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.p,{children:["En este apartado se incluir\xe1 buenas pr\xe1cticas para trabajar con modelos de Machine Learning y ",(0,d.jsx)(s.code,{children:"scikit-learn"}),"."]}),"\n",(0,d.jsx)(s.h2,{id:"tip-1-mantener-dos-versiones-del-dataset-normal-y-escalado",children:"TIP 1. Mantener dos versiones del dataset: normal y escalado"}),"\n",(0,d.jsxs)(s.p,{children:["En clasificaci\xf3n es muy com\xfan combinar modelos que ",(0,d.jsx)(s.strong,{children:"s\xed necesitan escalado"})," (como ",(0,d.jsx)(s.em,{children:"Logistic Regression"}),", KNN, SVM\u2026) con modelos que ",(0,d.jsx)(s.strong,{children:"no lo necesitan"})," (como ",(0,d.jsx)(s.em,{children:"Decision Tree"})," y ",(0,d.jsx)(s.em,{children:"Random Forest"}),")."]}),"\n",(0,d.jsxs)(s.p,{children:["Para evitar problemas, lo mejor es ",(0,d.jsx)(s.strong,{children:"no sobreescribir X_train y X_test"}),". En su lugar, crea ",(0,d.jsx)(s.strong,{children:"copias escaladas"})," y conserva los datos originales."]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"paso-1-mantener-los-datos-originales-sin-tocar",children:"Paso 1. Mantener los datos originales sin tocar"}),"\n",(0,d.jsxs)(s.p,{children:["Esto permite usar directamente ",(0,d.jsx)(s.strong,{children:"DecisionTreeClassifier"})," o ",(0,d.jsx)(s.strong,{children:"RandomForestClassifier"}),", que ",(0,d.jsx)(s.strong,{children:"no requieren escalado"}),". Para evitar modificaciones accidentales sobre X_train y X_test, podemos crear una copia:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"# Dejamos los datos originales tal cual\nX_train_sin_escalar = X_train.copy()\nX_test__sin_escalar_ = X_test.copy()\n"})}),"\n",(0,d.jsxs)(s.p,{children:["Si consultamos ",(0,d.jsx)(s.code,{children:"X_train_sin_escalar"})," sobre el dataset Titanic encontraremos algo as\xed:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"X_train_sin_escalar.head(10)\n"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Index"}),(0,d.jsx)(s.th,{children:"Pclass"}),(0,d.jsx)(s.th,{children:"Age"}),(0,d.jsx)(s.th,{children:"Fare"}),(0,d.jsx)(s.th,{children:"Embarked_C"}),(0,d.jsx)(s.th,{children:"Embarked_Q"}),(0,d.jsx)(s.th,{children:"Embarked_S"}),(0,d.jsx)(s.th,{children:"Sex_female"}),(0,d.jsx)(s.th,{children:"Sex_male"}),(0,d.jsx)(s.th,{children:"FamilySize"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1021"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"32.0"}),(0,d.jsx)(s.td,{children:"8.0500"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"318"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"31.0"}),(0,d.jsx)(s.td,{children:"164.8667"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"3"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"924"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"28.0"}),(0,d.jsx)(s.td,{children:"23.4500"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"4"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"652"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"21.0"}),(0,d.jsx)(s.td,{children:"8.4333"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1189"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"30.0"}),(0,d.jsx)(s.td,{children:"45.5000"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1249"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"28.0"}),(0,d.jsx)(s.td,{children:"7.7500"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"897"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"30.0"}),(0,d.jsx)(s.td,{children:"7.6292"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1266"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"45.0"}),(0,d.jsx)(s.td,{children:"262.3750"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1109"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"50.0"}),(0,d.jsx)(s.td,{children:"211.5000"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"3"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"855"}),(0,d.jsx)(s.td,{children:"3"}),(0,d.jsx)(s.td,{children:"18.0"}),(0,d.jsx)(s.td,{children:"9.3500"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"2"})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"paso-2-crear-versiones-escaladas-para-modelos-que-lo-necesiten",children:"Paso 2. Crear versiones escaladas para modelos que lo necesiten"}),"\n",(0,d.jsx)(s.p,{children:"Aqu\xed solo escalamos las columnas num\xe9ricas y generamos nuevas variables, en el caso del Titanic:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:'from sklearn.preprocessing import StandardScaler\n\n# Columnas num\xe9ricas que queremos escalar\nnum_cols = ["Pclass", "Age", "Fare", "FamilySize"]\n\n# Creamos el escalador\nscaler = StandardScaler()\n\n# Ajustamos SOLO con train y transformamos ambos\nX_train_scaled = X_train.copy()\nX_test_scaled = X_test.copy()\n\nX_train_scaled[num_cols] = scaler.fit_transform(X_train_scaled[num_cols])\nX_test_scaled[num_cols] = scaler.transform(X_test_scaled[num_cols])\n'})}),"\n",(0,d.jsxs)(s.p,{children:["Si consultamos ",(0,d.jsx)(s.code,{children:"X_train_escaled"})," sobre el dataset Titanic encontraremos algo as\xed:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"X_train_escaled.head(10)\n"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Index"}),(0,d.jsx)(s.th,{children:"Pclass"}),(0,d.jsx)(s.th,{children:"Age"}),(0,d.jsx)(s.th,{children:"Fare"}),(0,d.jsx)(s.th,{children:"Embarked_C"}),(0,d.jsx)(s.th,{children:"Embarked_Q"}),(0,d.jsx)(s.th,{children:"Embarked_S"}),(0,d.jsx)(s.th,{children:"Sex_female"}),(0,d.jsx)(s.th,{children:"Sex_male"}),(0,d.jsx)(s.th,{children:"FamilySize"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1021"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"0.201613"}),(0,d.jsx)(s.td,{children:"-0.465260"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"318"}),(0,d.jsx)(s.td,{children:"-1.561949"}),(0,d.jsx)(s.td,{children:"0.121620"}),(0,d.jsx)(s.td,{children:"2.481205"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.737724"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"924"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"-0.118360"}),(0,d.jsx)(s.td,{children:"-0.175906"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1.380852"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"652"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"-0.678314"}),(0,d.jsx)(s.td,{children:"-0.458058"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1189"}),(0,d.jsx)(s.td,{children:"-1.561949"}),(0,d.jsx)(s.td,{children:"0.041626"}),(0,d.jsx)(s.td,{children:"0.238397"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1249"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"-0.118360"}),(0,d.jsx)(s.td,{children:"-0.470897"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"897"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"0.041626"}),(0,d.jsx)(s.td,{children:"-0.473166"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1266"}),(0,d.jsx)(s.td,{children:"-1.561949"}),(0,d.jsx)(s.td,{children:"1.241526"}),(0,d.jsx)(s.td,{children:"4.313311"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"-0.548532"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"1109"}),(0,d.jsx)(s.td,{children:"-1.561949"}),(0,d.jsx)(s.td,{children:"1.641493"}),(0,d.jsx)(s.td,{children:"3.357409"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.737724"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"855"}),(0,d.jsx)(s.td,{children:"0.839462"}),(0,d.jsx)(s.td,{children:"-0.918294"}),(0,d.jsx)(s.td,{children:"-0.440834"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"1.0"}),(0,d.jsx)(s.td,{children:"0.0"}),(0,d.jsx)(s.td,{children:"0.094596"})]})]})]}),"\n",(0,d.jsxs)(s.p,{children:["Ahora tienes ",(0,d.jsx)(s.strong,{children:"dos versiones"}),":"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"X_train_sin_escalar"})," y ",(0,d.jsx)(s.code,{children:"X_test_sin_escalar"})," \u2192 sin escalar"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"X_train_scaled"})," y ",(0,d.jsx)(s.code,{children:"X_test_scaled"})," \u2192 escaladas"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"paso-3-usar-cada-una-seg\xfan-el-modelo",children:"Paso 3. Usar cada una seg\xfan el modelo"}),"\n",(0,d.jsx)(s.h4,{id:"logistic-regression",children:"Logistic Regression"}),"\n",(0,d.jsxs)(s.p,{children:["Este modelo necesita usar datos ",(0,d.jsx)(s.strong,{children:"escalados"}),", por lo que trabajaremos con las variables ",(0,d.jsx)(s.code,{children:"X_train_escaled"})," e ",(0,d.jsx)(s.code,{children:"X_test_escaled"}),".",(0,d.jsx)(s.br,{}),"\n","Ejemplo muy b\xe1sico:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"from sklearn.linear_model import LogisticRegression\n\nlr = LogisticRegression(...)\nlr.fit(X_train_scaled, y_train)\npred_lr = lr.predict(X_test_scaled)\n"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h5,{id:"decision-tree",children:"Decision Tree"}),"\n",(0,d.jsxs)(s.p,{children:["Este modelo no requiere que los datos est\xe9n escalados y, adem\xe1s, si queremos interpretar bien el \xe1rbol, es mejor que no lo est\xe9n, as\xed que usamos los datos ",(0,d.jsx)(s.strong,{children:"sin escalar"}),".",(0,d.jsx)(s.br,{}),"\n","Ejemplo muy b\xe1sico:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"from sklearn.tree import DecisionTreeClassifier\n\ntree = DecisionTreeClassifier(...)\ntree.fit(X_train_sin_escalar, y_train)\npred_tree = tree.predict(X_test_sin_escalar)\n"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsxs)(s.h2,{id:"tip-2-usar-modelclasses_-para-etiquetar-correctamente-los-gr\xe1ficos",children:["Tip 2. Usar ",(0,d.jsx)(s.code,{children:"model.classes_"})," para etiquetar correctamente los gr\xe1ficos"]}),"\n",(0,d.jsxs)(s.p,{children:["Cuando trabajamos con clasificaci\xf3n binaria (como ",(0,d.jsx)(s.strong,{children:"Titanic"}),"), los modelos suelen usar ",(0,d.jsx)(s.strong,{children:"0 y 1"})," como etiquetas internas:"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"0"})," \u2192 ",(0,d.jsx)(s.em,{children:"no sobrevive"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"1"})," \u2192 ",(0,d.jsx)(s.em,{children:"sobrevive"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Si representamos ciertos gr\xe1ficos, como la matriz de confusi\xf3n con estos n\xfameros, es m\xe1s dif\xedcil de interpretar."}),"\n",(0,d.jsxs)(s.p,{children:["Por eso es mejor ",(0,d.jsx)(s.strong,{children:"cambiar las etiquetas mostradas en el eje X/Y"})," del gr\xe1fico para que aparezcan textos como:"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"\u201cNo sobrevive\u201d"}),"\n",(0,d.jsx)(s.li,{children:'"Sobrevive"'}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["Pero para hacerlo bien necesitamos saber ",(0,d.jsx)(s.strong,{children:"en qu\xe9 orden el modelo maneja internamente las clases"}),", y eso se obtiene con:"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"model.classes_\n"})}),"\n",(0,d.jsxs)(s.p,{children:["Donde la variable ",(0,d.jsx)(s.code,{children:"model"})," es tu modelo entrenado."]}),"\n",(0,d.jsx)(s.p,{children:"Por ejemplo:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"print(model.classes_)\n# Resultado: array([0, 1])\n"})}),"\n",(0,d.jsx)(s.p,{children:'Esto nos dice el orden en que debemos pasar nuestras etiquetas personalizadas, es decir, primero el "No sobrevive" (0) y despu\xe9s "Sobrevive" (1).'}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"ejemplo-matriz-de-confusi\xf3n-sin-etiquetas-personalizadas-menos-intuitiva",children:"Ejemplo matriz de confusi\xf3n SIN etiquetas personalizadas (menos intuitiva)"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:'from sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import ConfusionMatrixDisplay\n\ncm = confusion_matrix(y_test, pred)\n\nplt.figure(figsize=(6,4))\nsns.heatmap(cm,\n            annot=True,\n            fmt="d",\n            cmap="Blues")\n\nplt.xlabel("Predicci\xf3n")\nplt.ylabel("Valor real")\nplt.title("Matriz de confusi\xf3n")\nplt.show()\n'})}),"\n",(0,d.jsxs)(s.p,{children:["Este gr\xe1fico mostrar\xe1 ",(0,d.jsx)(s.strong,{children:"0"})," y ",(0,d.jsx)(s.strong,{children:"1"}),", lo cual es correcto pero ",(0,d.jsx)(s.strong,{children:"menos claro"})," para su interpretaci\xf3n."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"Gr\xe1fico EDA",src:n(1713).A+"",width:"510",height:"393"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"matriz-de-confusi\xf3n-con-etiquetas-personalizadas-recomendado",children:"Matriz de confusi\xf3n CON etiquetas personalizadas (recomendado)"}),"\n",(0,d.jsx)(s.p,{children:"Primero consultamos el orden de clases que usa el modelo:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:"print(model.classes_)\n"})}),"\n",(0,d.jsx)(s.p,{children:"Supongamos que devuelve:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{children:"array([0, 1])\n"})}),"\n",(0,d.jsx)(s.p,{children:"Entonces podemos asignar nuestras etiquetas manuales siguiendo ese orden:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:'labels = ["No sobrevivi\xf3", "Sobrevivi\xf3"]  # mismo orden que model.classes_\n'})}),"\n",(0,d.jsx)(s.p,{children:"Y ahora generamos la matriz rotulada:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-python",children:'# Generamos la matriz especificando el orden de las etiquetas\ncm = confusion_matrix(y_test, y_pred, labels=best_model.classes_)\n\n# Representaci\xf3n en heatmap\nplt.figure(figsize=(6,4))\nsns.heatmap(cm,\n            annot=True,\n            fmt="d",\n            cmap="Blues",\n            xticklabels=labels,\n            yticklabels=labels)\n\nplt.xlabel("Predicci\xf3n")\nplt.ylabel("Valor real")\nplt.title("Matriz de confusi\xf3n")\nplt.show()\n'})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"Gr\xe1fico EDA",src:n(45883).A+"",width:"510",height:"393"})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);