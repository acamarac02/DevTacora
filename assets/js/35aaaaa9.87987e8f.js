"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6825],{124:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/backstack-d761686e021925e5d37dab3f21618da0.png"},3002:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/cambio-activity-e9a71f36d743d3ef9824f366b288d461.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(96540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},38582:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"pmdm_2526/ut2_componentes_basicos/intents","title":"Intents","description":"Introducci\xf3n al uso de Intents en Android: tipos, ejemplos y buenas pr\xe1cticas.","source":"@site/docs/01_pmdm_2526/ut2_componentes_basicos/1-intents.md","sourceDirName":"01_pmdm_2526/ut2_componentes_basicos","slug":"/pmdm_2526/ut2_componentes_basicos/intents","permalink":"/DevTacora/docs/pmdm_2526/ut2_componentes_basicos/intents","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Intents","sidebar_position":1,"description":"Introducci\xf3n al uso de Intents en Android: tipos, ejemplos y buenas pr\xe1cticas.","keywords":["Android","Intents","Activity","Explicit","Implicit"]},"sidebar":"pmdm_2526_Sidebar","previous":{"title":"UT2. Componentes b\xe1sicos","permalink":"/DevTacora/docs/category/ut2-componentes-b\xe1sicos"},"next":{"title":"Layouts","permalink":"/DevTacora/docs/pmdm_2526/ut2_componentes_basicos/layouts"}}');var a=t(74848),s=t(28453);const r={title:"Intents",sidebar_position:1,description:"Introducci\xf3n al uso de Intents en Android: tipos, ejemplos y buenas pr\xe1cticas.",keywords:["Android","Intents","Activity","Explicit","Implicit"]},o=void 0,c={},d=[{value:"Intents Expl\xedcitos",id:"intents-expl\xedcitos",level:2},{value:"Compartir informaci\xf3n entre Activities",id:"compartir-informaci\xf3n-entre-activities",level:3},{value:"Enviar datos",id:"enviar-datos",level:4},{value:"Recibir datos",id:"recibir-datos",level:4},{value:"Back Stack",id:"back-stack",level:3},{value:"Intents Impl\xedcitos",id:"intents-impl\xedcitos",level:2},{value:"Buenas pr\xe1cticas",id:"buenas-pr\xe1cticas",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)("div",{class:"justify-text",children:[(0,a.jsxs)(n.p,{children:["En Android, los ",(0,a.jsx)(n.strong,{children:"Intents"})," son mensajes que permiten solicitar una acci\xf3n a otro componente.\nGracias a ellos podemos ",(0,a.jsx)(n.strong,{children:"iniciar Activities"}),", ",(0,a.jsx)(n.strong,{children:"lanzar servicios"}),", ",(0,a.jsx)(n.strong,{children:"enviar broadcasts"})," o incluso interactuar con aplicaciones externas."]}),(0,a.jsx)(n.p,{children:"Existen dos tipos de Intents:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Expl\xedcitos"})," \u2192 apuntan a un componente concreto dentro de nuestra aplicaci\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Impl\xedcitos"})," \u2192 describen una acci\xf3n a realizar, dejando que Android decida qu\xe9 aplicaci\xf3n o componente puede llevarla a cabo. Estos Intents se usan para realizar acciones como abrir un enlace en el navegador o hacer una foto con la c\xe1mara."]}),"\n"]}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(n.mermaid,{value:"flowchart TD\n    A[Intent] --\x3e B{\xbfSe especifica el destino?}\n    B -- S\xed --\x3e C[Intent Expl\xedcito<br/>Ej: abrir SecondActivity]\n    B -- No --\x3e D[Intent Impl\xedcito<br/>Ej: abrir navegador o c\xe1mara]\n    D --\x3e E{\xbfHay apps disponibles?}\n    E -- S\xed --\x3e F[Lanza la app adecuada]\n    E -- No --\x3e G[Error o sin acci\xf3n]"})}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h2,{id:"intents-expl\xedcitos",children:"Intents Expl\xedcitos"}),(0,a.jsxs)(n.p,{children:["Un ",(0,a.jsx)(n.strong,{children:"Intent expl\xedcito"})," indica directamente ",(0,a.jsx)(n.strong,{children:"qu\xe9 Activity o componente"})," se debe iniciar. Se utilizan habitualmente para navegar entre pantallas dentro de una misma aplicaci\xf3n."]}),(0,a.jsxs)(n.p,{children:["Pero... ",(0,a.jsx)(n.strong,{children:"\xbfC\xf3mo se crea una nueva Activity en Android Studio?"})," Puedes a\xf1adir una Activity haciendo clic derecho en la carpeta de layouts: ",(0,a.jsx)(n.strong,{children:"New > Activity > Empty Views Activity"}),"."]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Crear nueva Activity",src:t(74504).A+"",width:"1028",height:"492"})}),(0,a.jsxs)(n.p,{children:["Para ir desde una actividad a otra, crearemos un Intent y se lo pasaremos al m\xe9todo ",(0,a.jsx)(n.strong,{children:"startActivity()"}),"."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Crear un Intent expl\xedcito\nIntent intent = new Intent(MainActivity.this, SecondActivity.class);\nstartActivity(intent);\n"})}),(0,a.jsx)(n.p,{children:"El constructor de un Intent requiere dos par\xe1metros, en este ejemplo:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["El ",(0,a.jsx)(n.strong,{children:"primer par\xe1metro"})," (",(0,a.jsx)(n.code,{children:"MainActivity.this"}),") es el ",(0,a.jsx)(n.strong,{children:"contexto"}),", es decir, desde d\xf3nde se lanza."]}),"\n",(0,a.jsxs)(n.li,{children:["El ",(0,a.jsx)(n.strong,{children:"segundo par\xe1metro"})," (",(0,a.jsx)(n.code,{children:"SecondActivity.class"}),") es la ",(0,a.jsx)(n.strong,{children:"Activity destino"}),"."]}),"\n"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Cambio de Activity",src:t(3002).A+"",width:"1536",height:"1024"})}),(0,a.jsx)(n.h3,{id:"compartir-informaci\xf3n-entre-activities",children:"Compartir informaci\xf3n entre Activities"}),(0,a.jsxs)(n.p,{children:["En muchas ocasiones no basta con abrir una nueva ",(0,a.jsx)(n.strong,{children:"Activity"}),", sino que necesitamos ",(0,a.jsx)(n.strong,{children:"pasar datos"})," entre ellas.\nPor ejemplo, podemos enviar desde una pantalla de login el ",(0,a.jsx)(n.strong,{children:"usuario introducido"})," para que la pantalla principal lo muestre en un mensaje de bienvenida."]}),(0,a.jsxs)(n.p,{children:["En Android, este intercambio de informaci\xf3n se realiza mediante ",(0,a.jsx)(n.strong,{children:"extras"})," dentro de un ",(0,a.jsx)(n.code,{children:"Intent"}),"."]}),(0,a.jsx)(n.h4,{id:"enviar-datos",children:"Enviar datos"}),(0,a.jsxs)(n.p,{children:["Usamos el m\xe9todo ",(0,a.jsx)(n.code,{children:"putExtra()"})," para a\xf1adir valores al ",(0,a.jsx)(n.code,{children:"Intent"}),". Cada dato se identifica con una ",(0,a.jsx)(n.strong,{children:"clave (name)"})," y un ",(0,a.jsx)(n.strong,{children:"valor (value)"}),"."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Intent intent = new Intent(MainActivity.this, SecondActivity.class);\nintent.putExtra("mensaje", "Hola mundo");\nintent.putExtra("numero", 42);\nintent.putExtra("esValido", true);\nstartActivity(intent);\n'})}),(0,a.jsx)(n.h4,{id:"recibir-datos",children:"Recibir datos"}),(0,a.jsxs)(n.p,{children:["En la nueva Activity, por ejemplo, en el m\xe9todo ",(0,a.jsx)(n.code,{children:"onStart()"}),", recuperamos el Intent con ",(0,a.jsx)(n.code,{children:"getIntent()"})," y accedemos a los valores usando los m\xe9todos correspondientes (",(0,a.jsx)(n.code,{children:"getStringExtra"}),", ",(0,a.jsx)(n.code,{children:"getIntExtra"}),", ",(0,a.jsx)(n.code,{children:"getBooleanExtra"}),", etc.).\nEs recomendable indicar un ",(0,a.jsx)(n.strong,{children:"valor por defecto"}),", que se usar\xe1 si el dato no llega correctamente."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Intent intent = getIntent();\nString mensaje = intent.getStringExtra("mensaje");\nint numero = intent.getIntExtra("numero", 0);\nboolean esValido = intent.getBooleanExtra("esValido", false);\n'})}),(0,a.jsxs)(n.p,{children:["Utiliza nombres de clave claros y consistentes (ejemplo: ",(0,a.jsx)(n.code,{children:'"usuario"'}),", ",(0,a.jsx)(n.code,{children:'"puntuacion"'}),", ",(0,a.jsx)(n.code,{children:'"esAdmin"'}),") para evitar errores y facilitar la lectura del c\xf3digo."]}),(0,a.jsx)(n.h3,{id:"back-stack",children:"Back Stack"}),(0,a.jsxs)(n.p,{children:["La ",(0,a.jsx)(n.strong,{children:"back stack (pila de retroceso)"})," en Android es una estructura de datos que gestiona las actividades que se\nhan iniciado dentro de una aplicaci\xf3n. Cuando abrimos nuevas Activities con Intents expl\xedcitos, Android las va apilando en ella, de tal forma que:"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Cada nueva pantalla se coloca sobre la anterior."}),"\n",(0,a.jsx)(n.li,{children:"Al pulsar el bot\xf3n de retroceso, se elimina la \xfaltima y se vuelve a la anterior."}),"\n"]}),(0,a.jsx)(n.p,{children:"Esto asegura un comportamiento de navegaci\xf3n coherente para el usuario."}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Backstack",src:t(124).A+"",width:"1716",height:"550"})}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h2,{id:"intents-impl\xedcitos",children:"Intents Impl\xedcitos"}),(0,a.jsxs)(n.p,{children:["Un ",(0,a.jsx)(n.strong,{children:"Intent impl\xedcito"})," no indica un destino espec\xedfico. En su lugar, describe una ",(0,a.jsx)(n.strong,{children:"acci\xf3n a realizar"})," (por ejemplo, abrir un enlace o tomar una foto). Android se encarga de buscar qu\xe9 aplicaci\xf3n instalada puede responder a esa acci\xf3n."]}),(0,a.jsx)(n.p,{children:"Ejemplos comunes:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Abrir un navegador con una URL\nIntent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("https://developer.android.com"));\nstartActivity(intent);\n\n// Realizar una llamada\nIntent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:123456789"));\nstartActivity(intent);\n\n// Enviar un WhatsApp (si est\xe1 instalada la app)\nIntent intent = new Intent(Intent.ACTION_SEND);\nintent.setType("text/plain");\nintent.putExtra(Intent.EXTRA_TEXT, "Hola, \xbfqu\xe9 tal?");\nintent.setPackage("com.whatsapp");\nstartActivity(intent);\n'})}),(0,a.jsx)(n.admonition,{title:"Intents m\xe1s comunes",type:"info",children:(0,a.jsxs)(n.p,{children:["Si quieres profundizar en los ",(0,a.jsx)(n.strong,{children:"intents impl\xedcitos"})," (abrir una web, enviar un correo, tomar una foto, etc.), consulta la documentaci\xf3n oficial de Android en este enlace: ",(0,a.jsx)(n.a,{href:"https://developer.android.com/guide/components/intents-common?hl=es-419",children:"developer.android.com/guide/components/intents-common"})]})}),(0,a.jsx)(n.h3,{id:"buenas-pr\xe1cticas",children:"Buenas pr\xe1cticas"}),(0,a.jsxs)(n.p,{children:["Antes de lanzar un Intent impl\xedcito, conviene ",(0,a.jsx)(n.strong,{children:"verificar"})," que existe alguna aplicaci\xf3n capaz de gestionarlo:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'if (intent.resolveActivity(getPackageManager()) != null) {\n    startActivity(intent);\n} else {\n    Toast.makeText(MainActivity.this, "No existe la aplicaci\xf3n", Toast.LENGTH_SHORT).show();\n}\n'})}),(0,a.jsx)(n.p,{children:"De esta forma evitamos errores si, por ejemplo, no existe ninguna aplicaci\xf3n de correo instalada."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},74504:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/nueva-activity-1a988cea229e0f4df9392c8d8d3c5b16.png"}}]);