"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[6130],{1382:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-2-toolbar","title":"Top App Bar / Toolbar","description":"La barra superior de la aplicaci\xf3n (Toolbar o Top App Bar) permite mostrar el t\xedtulo, acciones y opciones de navegaci\xf3n, integr\xe1ndose f\xe1cilmente con NavigationUI y los principios de Material Design.","source":"@site/docs/01_pmdm_2526/ut3_interfaces_usuario_navegacion/2-menus/2-2-toolbar.md","sourceDirName":"01_pmdm_2526/ut3_interfaces_usuario_navegacion/2-menus","slug":"/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-2-toolbar","permalink":"/DevTacora/docs/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-2-toolbar","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Top App Bar / Toolbar","sidebar_position":2,"description":"La barra superior de la aplicaci\xf3n (Toolbar o Top App Bar) permite mostrar el t\xedtulo, acciones y opciones de navegaci\xf3n, integr\xe1ndose f\xe1cilmente con NavigationUI y los principios de Material Design.","keywords":["Android","Toolbar","TopAppBar","MaterialToolbar","AppBarLayout","CoordinatorLayout","NavigationUI"]},"sidebar":"pmdm_2526_Sidebar","previous":{"title":"Introducci\xf3n","permalink":"/DevTacora/docs/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-1-introduccion"},"next":{"title":"Bottom Navigation","permalink":"/DevTacora/docs/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-3-bottom-menu"}}');var r=n(74848),i=n(28453);const t={title:"Top App Bar / Toolbar",sidebar_position:2,description:"La barra superior de la aplicaci\xf3n (Toolbar o Top App Bar) permite mostrar el t\xedtulo, acciones y opciones de navegaci\xf3n, integr\xe1ndose f\xe1cilmente con NavigationUI y los principios de Material Design.",keywords:["Android","Toolbar","TopAppBar","MaterialToolbar","AppBarLayout","CoordinatorLayout","NavigationUI"]},l=void 0,s={},d=[{value:"Pasos para implementar una Toolbar en tu app",id:"pasos-para-implementar-una-toolbar-en-tu-app",level:2},{value:"1\ufe0f\u20e3 Modificar el layout de la Activity",id:"1\ufe0f\u20e3-modificar-el-layout-de-la-activity",level:3},{value:"2\ufe0f\u20e3 Configurar la Toolbar desde Java",id:"2\ufe0f\u20e3-configurar-la-toolbar-desde-java",level:3}];function c(a){const e={admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...a.components};return(0,r.jsxs)("div",{class:"justify-text",children:[(0,r.jsxs)(e.p,{children:["La ",(0,r.jsx)(e.strong,{children:"Top App Bar"})," (tambi\xe9n conocida como ",(0,r.jsx)(e.strong,{children:"Toolbar"}),") es la barra situada en la parte superior de la pantalla. En ella se muestran el ",(0,r.jsx)(e.strong,{children:"t\xedtulo de la aplicaci\xf3n"}),", los ",(0,r.jsx)(e.strong,{children:"iconos de acci\xf3n"})," (como b\xfasqueda o ajustes) y, en muchos casos, el ",(0,r.jsx)(e.strong,{children:"bot\xf3n de navegaci\xf3n"})," (hamburguesa o flecha de retroceso)."]}),(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"Demo toolbar",src:n(72876).A+"",width:"1064",height:"358"})}),(0,r.jsx)(e.p,{children:"En versiones modernas de Android, la clase recomendada es:"}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"com.google.android.material.appbar.MaterialToolbar\n"})}),(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"MaterialToolbar"})," es una evoluci\xf3n de la antigua ",(0,r.jsx)(e.code,{children:"Toolbar"})," de AppCompat.\nHereda todas sus funciones, pero con soporte completo para ",(0,r.jsx)(e.strong,{children:"Material Design 3 (Material You)"}),": color din\xe1mico, elevaci\xf3n y animaciones suaves."]}),(0,r.jsx)(e.hr,{}),(0,r.jsx)(e.h2,{id:"pasos-para-implementar-una-toolbar-en-tu-app",children:"Pasos para implementar una Toolbar en tu app"}),(0,r.jsx)(e.h3,{id:"1\ufe0f\u20e3-modificar-el-layout-de-la-activity",children:"1\ufe0f\u20e3 Modificar el layout de la Activity"}),(0,r.jsxs)(e.p,{children:["En nuestro caso, vamos a partir de un ",(0,r.jsx)(e.strong,{children:"proyecto vac\xedo"}),", al que a\xf1adiremos manualmente la barra superior."]}),(0,r.jsxs)(e.p,{children:["La estructura m\xednima del layout de ",(0,r.jsx)(e.code,{children:"ActivityMain"})," incluir\xe1 los siguientes elementos:"]}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"CoordinatorLayout"})})," \u2192 act\xfaa como contenedor principal. Es el tipo de layout recomendado para combinar componentes de la interfaz que pueden interactuar entre s\xed (por ejemplo, la Toolbar y el contenido que hace scroll)."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"AppBarLayout"})})," \u2192 se sit\xfaa en la parte superior y sirve como contenedor de la barra de herramientas. Permite aplicar comportamientos din\xe1micos, como ocultar la barra al hacer scroll."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"MaterialToolbar"})})," \u2192 es la barra superior propiamente dicha. En ella se mostrar\xe1 el t\xedtulo, los iconos de acci\xf3n y, opcionalmente, el bot\xf3n de navegaci\xf3n."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"FragmentContainerView"})})," \u2192 ocupar\xe1 el resto de la pantalla y ser\xe1 el espacio donde se carguen los fragments o el contenido principal de la aplicaci\xf3n."]}),"\n"]}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",metastring:'title="activity_main.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    tools:context=".MainActivity">\n\n    \x3c!-- AppBar superior --\x3e\n    <com.google.android.material.appbar.AppBarLayout\n        android:layout_width="match_parent"\n        android:layout_height="wrap_content"\n        android:theme="@style/ThemeOverlay.Material3.Dark.ActionBar">\n\n        <com.google.android.material.appbar.MaterialToolbar\n            android:id="@+id/toolbar"\n            android:layout_width="match_parent"\n            android:layout_height="?attr/actionBarSize"\n            android:background="?attr/colorPrimary"\n            app:titleCentered="true"\n            app:titleTextColor="@android:color/white" />\n    </com.google.android.material.appbar.AppBarLayout>\n\n    \x3c!-- Contenido principal --\x3e\n    <androidx.fragment.app.FragmentContainerView\n        android:id="@+id/nav_host_fragment"\n        android:name="androidx.navigation.fragment.NavHostFragment"\n        android:layout_width="match_parent"\n        android:layout_height="match_parent"\n        app:defaultNavHost="true"\n        app:navGraph="@navigation/nav_graph" />\n\n</androidx.coordinatorlayout.widget.CoordinatorLayout>\n'})}),(0,r.jsx)(e.admonition,{title:"GRAFO DE NAVEGACI\xd3N",type:"warning",children:(0,r.jsxs)(e.p,{children:["Ten en cuenta que tenemos un ",(0,r.jsx)(e.code,{children:"FragmentContainerView"})," para cargar los fragmentos. Debes incluir las dependencias necesarias, el grafo de navegaci\xf3n y los fragments para que el c\xf3digo funcione, tal y como estudiamos en el primer apartado de este tema."]})}),(0,r.jsx)(e.hr,{}),(0,r.jsx)(e.h3,{id:"2\ufe0f\u20e3-configurar-la-toolbar-desde-java",children:"2\ufe0f\u20e3 Configurar la Toolbar desde Java"}),(0,r.jsxs)(e.p,{children:["En la Activity asociada, indicamos que esta ",(0,r.jsx)(e.code,{children:"MaterialToolbar"})," ser\xe1 la ",(0,r.jsx)(e.strong,{children:"ActionBar"})," de la aplicaci\xf3n.\nEsto se hace con el m\xe9todo ",(0,r.jsx)(e.code,{children:"setSupportActionBar()"}),"."]}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",metastring:'title="MainActivity.java"',children:"public class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    private NavController navController;\n    private AppBarConfiguration appBarConfiguration;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView((binding = ActivityMainBinding.inflate(getLayoutInflater())).getRoot());\n\n        // 1. Obtenemos la referencia de la Toolbar del layout\n        setSupportActionBar(binding.toolbar);\n\n        // 2. Obtenemos el NavController desde el contenedor del grafo\n        navController = ((NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment)).getNavController();\n\n        // 3. Configuramos la AppBar para que el t\xedtulo y el bot\xf3n de navegaci\xf3n\n        // se actualicen autom\xe1ticamente al navegar entre fragments\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n    }\n\n    // M\xe9todo que se ejecuta cuando el usuario pulsa el bot\xf3n de \u201cnavegaci\xf3n superior\u201d de la barra de la app, es decir:\n    // el icono de flecha atr\xe1s, o el icono de men\xfa hamburguesa (si tienes un DrawerLayout).\n    @Override\n    public boolean onSupportNavigateUp() {\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n}\n"})}),(0,r.jsxs)(e.admonition,{type:"info",children:[(0,r.jsxs)(e.p,{children:["Con las \xfaltimas l\xedneas de c\xf3digo estamos ",(0,r.jsxs)(e.strong,{children:["vinculando la App Bar con el ",(0,r.jsx)(e.code,{children:"NavController"})]}),".\nEsto permite que el ",(0,r.jsx)(e.strong,{children:"bot\xf3n de retroceso funcione autom\xe1ticamente"})," al navegar entre fragments y que la** Toolbar muestre como t\xedtulo** el valor definido en el atributo ",(0,r.jsx)(e.code,{children:"android:label"})," de cada destino del grafo de navegaci\xf3n."]}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",metastring:'title="nav_graph.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\n<navigation xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:id="@+id/nav_graph"\n    app:startDestination="@id/pinkFragment">\n\n    <fragment\n        android:id="@+id/pinkFragment"\n        android:name="es.iesagora.demomenu.PinkFragment"\n        android:label="Inicio" \x3c!-- Este campo marca el t\xedtulo de la app bar --\x3e\n        tools:layout="@layout/fragment_pink" />\n</navigation>\n'})}),(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"App con appbar",src:n(85060).A+"",width:"369",height:"821"})})]})]})}function p(a={}){const{wrapper:e}={...(0,i.R)(),...a.components};return e?(0,r.jsx)(e,{...a,children:(0,r.jsx)(c,{...a})}):c(a)}},28453:(a,e,n)=>{n.d(e,{R:()=>t,x:()=>l});var o=n(96540);const r={},i=o.createContext(r);function t(a){const e=o.useContext(i);return o.useMemo(function(){return"function"==typeof a?a(e):{...e,...a}},[e,a])}function l(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(r):a.components||r:t(a.components),o.createElement(i.Provider,{value:e},a.children)}},72876:(a,e,n)=>{n.d(e,{A:()=>o});const o=n.p+"assets/images/demo-toolbar-cf758de6378218bf1df36560d5991189.png"},85060:(a,e,n)=>{n.d(e,{A:()=>o});const o=n.p+"assets/images/app-con-appbar-3c868bd845c055ba226340b1ddebb652.png"}}]);