"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[7214],{28453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>s});var i=a(96540);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},35080:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/demo-options-menu-b495b3c6e0aa43e03772f167d06d7949.gif"},69634:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-5-options-menu","title":"Options Menu","description":"El men\xfa de opciones (Options Menu) se muestra en la Toolbar y permite ofrecer acciones adicionales o navegaci\xf3n entre secciones secundarias. Se implementa mediante un archivo de men\xfa XML y los m\xe9todos onCreateOptionsMenu y onOptionsItemSelected.","source":"@site/docs/01_pmdm_2526/ut3_interfaces_usuario_navegacion/2-menus/2-5-options-menu.md","sourceDirName":"01_pmdm_2526/ut3_interfaces_usuario_navegacion/2-menus","slug":"/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-5-options-menu","permalink":"/DevTacora/docs/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-5-options-menu","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Options Menu","sidebar_position":5,"description":"El men\xfa de opciones (Options Menu) se muestra en la Toolbar y permite ofrecer acciones adicionales o navegaci\xf3n entre secciones secundarias. Se implementa mediante un archivo de men\xfa XML y los m\xe9todos onCreateOptionsMenu y onOptionsItemSelected.","keywords":["Android","OptionsMenu","Toolbar","Menu","NavigationUI","MaterialDesign"]},"sidebar":"pmdm_2526_Sidebar","previous":{"title":"Navigation Drawer","permalink":"/DevTacora/docs/pmdm_2526/ut3_interfaces_usuario_navegacion/menus/2-4-drawer-menu"}}');var o=a(74848),r=a(28453);const t={title:"Options Menu",sidebar_position:5,description:"El men\xfa de opciones (Options Menu) se muestra en la Toolbar y permite ofrecer acciones adicionales o navegaci\xf3n entre secciones secundarias. Se implementa mediante un archivo de men\xfa XML y los m\xe9todos onCreateOptionsMenu y onOptionsItemSelected.",keywords:["Android","OptionsMenu","Toolbar","Menu","NavigationUI","MaterialDesign"]},s=void 0,d={},l=[{value:"Pasos para implementar un Options Menu en Android",id:"pasos-para-implementar-un-options-menu-en-android",level:2},{value:"1\ufe0f\u20e3 Crear el layout de la Activity",id:"1\ufe0f\u20e3-crear-el-layout-de-la-activity",level:3},{value:"2\ufe0f\u20e3 Crear el men\xfa de opciones",id:"2\ufe0f\u20e3-crear-el-men\xfa-de-opciones",level:3},{value:"3\ufe0f\u20e3 Crear el grafo de navegaci\xf3n",id:"3\ufe0f\u20e3-crear-el-grafo-de-navegaci\xf3n",level:3},{value:"4\ufe0f\u20e3 Configurar la Activity",id:"4\ufe0f\u20e3-configurar-la-activity",level:3}];function c(e){const n={admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)("div",{class:"justify-text",children:[(0,o.jsxs)(n.p,{children:["El ",(0,o.jsx)(n.strong,{children:"Options Menu"})," es el men\xfa principal de acciones que aparece en la ",(0,o.jsx)(n.strong,{children:"parte superior derecha de la Toolbar"})," (a veces representado con el icono de tres puntos verticales).",(0,o.jsx)(n.br,{}),"\n","Se utiliza para ofrecer ",(0,o.jsx)(n.strong,{children:"acciones adicionales o configuraciones secundarias"}),", como ",(0,o.jsx)(n.em,{children:"Buscar"}),", ",(0,o.jsx)(n.em,{children:"Ajustes"}),", ",(0,o.jsx)(n.em,{children:"Ayuda"}),", etc."]}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Demo Options Menu",src:a(35080).A+"",width:"348",height:"776"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h2,{id:"pasos-para-implementar-un-options-menu-en-android",children:"Pasos para implementar un Options Menu en Android"}),(0,o.jsx)(n.h3,{id:"1\ufe0f\u20e3-crear-el-layout-de-la-activity",children:"1\ufe0f\u20e3 Crear el layout de la Activity"}),(0,o.jsxs)(n.p,{children:["Partiremos de un proyecto con ",(0,o.jsx)(n.strong,{children:"Navigation Component configurado"})," y una ",(0,o.jsx)(n.strong,{children:"Toolbar"})," que actuar\xe1 como barra de aplicaci\xf3n."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",metastring:'title="activity_main.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    tools:context=".MainActivity">\n\n    \x3c!-- AppBar superior --\x3e\n    <com.google.android.material.appbar.AppBarLayout\n        android:id="@+id/appbar"\n        android:layout_width="match_parent"\n        android:layout_height="wrap_content"\n        android:theme="@style/ThemeOverlay.Material3.Dark.ActionBar">\n\n        <com.google.android.material.appbar.MaterialToolbar\n            android:id="@+id/toolbar"\n            android:layout_width="match_parent"\n            android:layout_height="?attr/actionBarSize"\n            android:background="?attr/colorPrimary"\n            app:titleCentered="true"\n            app:popupTheme="@style/ThemeOverlay.Material3.Dark"\n            app:titleTextColor="@android:color/white"/>\n    </com.google.android.material.appbar.AppBarLayout>\n\n    \x3c!-- Contenedor principal de fragments --\x3e\n    <androidx.fragment.app.FragmentContainerView\n        android:id="@+id/nav_host_fragment"\n        android:name="androidx.navigation.fragment.NavHostFragment"\n        android:layout_width="match_parent"\n        android:layout_height="match_parent"\n        android:layout_marginTop="?attr/actionBarSize"\n        app:defaultNavHost="true"\n        app:navGraph="@navigation/nav_graph" />\n\n</androidx.coordinatorlayout.widget.CoordinatorLayout>\n'})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h3,{id:"2\ufe0f\u20e3-crear-el-men\xfa-de-opciones",children:"2\ufe0f\u20e3 Crear el men\xfa de opciones"}),(0,o.jsxs)(n.p,{children:["Creamos un archivo en ",(0,o.jsx)(n.code,{children:"res/menu/menu_options.xml"})," que contendr\xe1 las acciones visibles en la Toolbar.\nCada ",(0,o.jsx)(n.code,{children:"<item>"})," representar\xe1 una acci\xf3n o destino del men\xfa."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",metastring:'title="menu_options.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\n<menu xmlns:android="http://schemas.android.com/apk/res/android"\n      xmlns:app="http://schemas.android.com/apk/res-auto">\n\n    \x3c!-- Acci\xf3n visible directamente en la Toolbar --\x3e\n    <item\n        android:id="@+id/homeFragment"\n        android:icon="@drawable/ic_home"\n        android:title="Inicio"\n        app:showAsAction="always" />\n\n    \x3c!-- Acci\xf3n visible solo en el men\xfa desplegable --\x3e\n    <item\n        android:id="@+id/settingsFragment"\n        android:icon="@drawable/ic_settings"\n        android:title="Ajustes"\n        app:showAsAction="never" />\n\n    \x3c!-- Otra acci\xf3n del men\xfa --\x3e\n    <item\n        android:id="@+id/helpFragment"\n        android:icon="@drawable/ic_help"\n        android:title="Ayuda"\n        app:showAsAction="never" />\n</menu>\n'})}),(0,o.jsxs)(n.admonition,{title:"OPCIONES DE VISIBILIDAD",type:"tip",children:[(0,o.jsxs)(n.p,{children:["El atributo ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"app:showAsAction"})})," controla d\xf3nde se muestra cada opci\xf3n:"]}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"always"})," \u2192 visible siempre en la Toolbar (como icono)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ifRoom"})," \u2192 visible si hay espacio."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"never"})," \u2192 aparece en el desplegable (tres puntos)."]}),"\n"]})]}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h3,{id:"3\ufe0f\u20e3-crear-el-grafo-de-navegaci\xf3n",children:"3\ufe0f\u20e3 Crear el grafo de navegaci\xf3n"}),(0,o.jsxs)(n.p,{children:["En ",(0,o.jsx)(n.code,{children:"res/navigation/nav_graph.xml"})," definimos los fragments a los que accederemos desde el men\xfa."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",metastring:'title="nav_graph.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\n<navigation xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:id="@+id/nav_graph"\n    app:startDestination="@id/homeFragment">\n    <fragment\n        android:id="@+id/homeFragment"\n        android:name="es.iesagora.demomenu.HomeFragment"\n        android:label="Home"\n        tools:layout="@layout/fragment_home" />\n    <fragment\n        android:id="@+id/settingsFragment"\n        android:name="es.iesagora.demomenu.SettingsFragment"\n        android:label="Settings"\n        tools:layout="@layout/fragment_settings" />\n    <fragment\n        android:id="@+id/helpFragment"\n        android:name="es.iesagora.demomenu.HelpFragment"\n        android:label="Help"\n        tools:layout="@layout/fragment_help" />\n</navigation>\n'})}),(0,o.jsx)(n.admonition,{title:"IMPORTANTE",type:"warning",children:(0,o.jsxs)(n.p,{children:["El ",(0,o.jsx)(n.code,{children:"id"})," de cada elemento del men\xfa (",(0,o.jsx)(n.code,{children:"menu_options.xml"}),") debe ",(0,o.jsx)(n.strong,{children:"coincidir"})," con el ",(0,o.jsx)(n.code,{children:"id"})," del fragment correspondiente en el grafo de navegaci\xf3n (",(0,o.jsx)(n.code,{children:"nav_graph.xml"}),")."]})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h3,{id:"4\ufe0f\u20e3-configurar-la-activity",children:"4\ufe0f\u20e3 Configurar la Activity"}),(0,o.jsxs)(n.p,{children:["En la ",(0,o.jsx)(n.code,{children:"MainActivity"})," configuramos la ",(0,o.jsx)(n.code,{children:"Toolbar"})," y el ",(0,o.jsx)(n.code,{children:"NavigationUI"})," para que sincronicen los t\xedtulos y las acciones de navegaci\xf3n."]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",metastring:'title="MainActivity.java"',children:"public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n    private NavController navController;\n    private AppBarConfiguration appBarConfiguration;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView((binding = ActivityMainBinding.inflate(getLayoutInflater())).getRoot());\n\n        // 1. Obtenemos la referencia de la Toolbar del layout\n        setSupportActionBar(binding.toolbar);\n\n        // 2. Obtenemos el NavController desde el contenedor del grafo\n        navController = ((NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment)).getNavController();\n\n        // 3. Definir los destinos principales. En este caso solo home ser\xe1 principal (decisi\xf3n de dise\xf1o)\n        appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.homeFragment\n        ).build();\n\n        // 4. Vincular Toolbar con NavController\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n    }\n\n    // Cargar el men\xfa de opciones en la Toolbar\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_options, menu);\n        return true;\n    }\n\n    // Gestionar los clics en las opciones del men\xfa\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        return NavigationUI.onNavDestinationSelected(item, navController)\n                || super.onOptionsItemSelected(item);\n    }\n\n    // Gestionar el bot\xf3n de navegaci\xf3n (flecha atr\xe1s)\n    @Override\n    public boolean onSupportNavigateUp() {\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n}\n"})}),(0,o.jsx)(n.admonition,{title:"EN APPS MODERNAS",type:"info",children:(0,o.jsxs)(n.p,{children:["El ",(0,o.jsx)(n.strong,{children:"Options Menu"})," (el men\xfa de los tres puntos) ha perdido protagonismo en las interfaces modernas basadas en ",(0,o.jsx)(n.strong,{children:"Material Design 3"}),".",(0,o.jsx)(n.br,{}),"\n","Actualmente se utiliza sobre todo para ",(0,o.jsx)(n.strong,{children:"acciones globales o poco frecuentes"})," (",(0,o.jsx)(n.em,{children:"Ajustes"}),", ",(0,o.jsx)(n.em,{children:"Ayuda"}),", ",(0,o.jsx)(n.em,{children:"Acerca de\u2026"}),"), mientras que las acciones principales se colocan directamente en la ",(0,o.jsx)(n.strong,{children:"Toolbar"}),", o bien se integran en patrones de navegaci\xf3n m\xe1s actuales como el ",(0,o.jsx)(n.strong,{children:"Bottom Navigation"})," o el ",(0,o.jsx)(n.strong,{children:"Navigation Drawer"}),"."]})}),(0,o.jsx)(n.admonition,{title:"ACTIVIDAD DE SEGUIMIENTO 5",type:"info",children:(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Realiza la Actividad de Seguimiento 5: Demo men\xfas."})})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);