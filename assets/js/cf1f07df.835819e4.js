"use strict";(self.webpackChunkpmdm=self.webpackChunkpmdm||[]).push([[4428],{6219:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"pmdm/ut4_persistencia/introduccion","title":"Introducci\xf3n","description":"Breve descripci\xf3n de las tecnolog\xedas que estudiaremos.","source":"@site/docs/pmdm/ut4_persistencia/1-introduccion.md","sourceDirName":"pmdm/ut4_persistencia","slug":"/pmdm/ut4_persistencia/introduccion","permalink":"/DevTacora/docs/pmdm/ut4_persistencia/introduccion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Introducci\xf3n","title":"Introducci\xf3n"},"sidebar":"pmdmSidebar","previous":{"title":"UT4. Persistencia de datos","permalink":"/DevTacora/docs/category/ut4-persistencia-de-datos"},"next":{"title":"Room","permalink":"/DevTacora/docs/pmdm/ut4_persistencia/room/"}}');var i=a(4848),o=a(8453);const r={sidebar_position:1,sidebar_label:"Introducci\xf3n",title:"Introducci\xf3n"},c="Introducci\xf3n",d={},t=[{value:"SQLite",id:"sqlite",level:2},{value:"Caracter\xedsticas clave",id:"caracter\xedsticas-clave",level:3},{value:"\xbfPor qu\xe9 Android usa SQLite?",id:"por-qu\xe9-android-usa-sqlite",level:3},{value:"Room",id:"room",level:2},{value:"Caracter\xedsticas clave",id:"caracter\xedsticas-clave-1",level:3},{value:"Componentes",id:"componentes",level:3},{value:"SharedPreferences",id:"sharedpreferences",level:2},{value:"Principales usos",id:"principales-usos",level:3},{value:"\xbfCu\xe1ndo usar cada tipo de persistencia?",id:"cu\xe1ndo-usar-cada-tipo-de-persistencia",level:2}];function l(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)("div",{class:"justify-text",children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"introducci\xf3n",children:"Introducci\xf3n"})}),(0,i.jsx)("div",{className:"hidden-summary",children:(0,i.jsx)(s.p,{children:"Breve descripci\xf3n de las tecnolog\xedas que estudiaremos."})}),(0,i.jsx)(s.h2,{id:"sqlite",children:"SQLite"}),(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"SQLite"})," es un ",(0,i.jsx)(s.strong,{children:"sistema de gesti\xf3n de bases de datos relacional (RDBMS)"})," ligero, aut\xf3nomo y sin servidor. A diferencia de otros sistemas de bases de datos como MySQL o PostgreSQL, SQLite se implementa como una ",(0,i.jsx)(s.strong,{children:"biblioteca"})," que se integra directamente en la aplicaci\xf3n. No necesita un proceso de servidor independiente para funcionar."]}),(0,i.jsx)(s.h3,{id:"caracter\xedsticas-clave",children:"Caracter\xedsticas clave"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Sin servidor"}),": No existe un proceso de servidor en segundo plano. SQLite lee y escribe directamente en archivos en disco."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Ligero"}),": El binario de SQLite pesa solo unos cientos de kilobytes."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Soporta transacciones ACID"})," (Atomicidad, Consistencia, Aislamiento y Durabilidad): Esto significa que garantiza integridad de los datos incluso en caso de fallos del sistema o apagones."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Almacenamiento en un solo archivo"}),": Toda la base de datos (tablas, \xedndices y datos) se almacena en ",(0,i.jsx)(s.strong,{children:"un \xfanico archivo en el disco"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Altamente Portable"}),": Funciona en casi cualquier sistema operativo (Android, iOS, Windows, macOS, Linux, etc.), siendo adem\xe1s el sistema de bases de datos predeterminado para muchas plataformas, incluyendo Android."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Lenguaje SQL Completo"}),": Soporta la mayor\xeda de las caracter\xedsticas del est\xe1ndar ",(0,i.jsx)(s.strong,{children:"SQL-92"}),", incluyendo ",(0,i.jsx)(s.strong,{children:"joins, subconsultas, triggers y views"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Escalable"}),": Aunque est\xe1 dise\xf1ado para aplicaciones ligeras, puede manejar bases de datos de ",(0,i.jsx)(s.strong,{children:"hasta terabytes de tama\xf1o"}),". Sin embargo, su rendimiento es \xf3ptimo en aplicaciones con ",(0,i.jsx)(s.strong,{children:"lecturas frecuentes y escrituras ligeras."})]}),"\n"]}),"\n"]}),(0,i.jsx)(s.h3,{id:"por-qu\xe9-android-usa-sqlite",children:"\xbfPor qu\xe9 Android usa SQLite?"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Ligero y r\xe1pido"}),", lo que es crucial para dispositivos m\xf3viles."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Sin configuraci\xf3n"}),": Se puede integrar f\xe1cilmente en aplicaciones."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Local y aut\xf3nomo"}),": Las bases de datos est\xe1n dentro de la propia app, facilitando la sincronizaci\xf3n de datos."]}),"\n"]}),(0,i.jsx)(s.h2,{id:"room",children:"Room"}),(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Room"})," es una biblioteca de persistencia de datos que forma parte de Android Jetpack. Proporciona una capa de abstracci\xf3n sobre ",(0,i.jsx)(s.strong,{children:"SQLite"}),", facilitando el acceso a la base de datos y reduciendo la cantidad de c\xf3digo repetitivo. El objetivo principal de Room es ofrecer una ",(0,i.jsx)(s.strong,{children:"API"})," robusta y flexible que permita la manipulaci\xf3n de datos de forma sencilla, manteniendo las ventajas de rendimiento y escalabilidad de SQLite. Adem\xe1s, se integra perfectamente con el ciclo de vida de Android, LiveData y RxJava, lo que facilita la construcci\xf3n de aplicaciones reactivas y modernas."]}),(0,i.jsxs)(s.p,{children:["Room proporciona una capa de acceso a datos (DAO - Data Access Object) permitiendo mapear clases Java (",(0,i.jsx)(s.strong,{children:"Entities"}),") a tablas de SQLite. Su funcionamiento es muy similar a los ORMs (Object Relational Mapping) estudiados en Acceso a Datos, como JDBC, pero es importante aclarar que ",(0,i.jsx)(s.strong,{children:"Room no es un ORM"})," completo en el sentido tradicional: no mapea autom\xe1ticamente las relaciones complejas entre tablas ni proporciona caracter\xedsticas avanzadas como carga diferida (lazy loading) o cach\xe9 de objetos."]}),(0,i.jsx)(s.h3,{id:"caracter\xedsticas-clave-1",children:"Caracter\xedsticas clave"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Simplificaci\xf3n del acceso a bases de datos:"})," Room genera autom\xe1ticamente el c\xf3digo necesario para las consultas SQL y la manipulaci\xf3n de datos, reduciendo los errores."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Seguridad en tiempo de compilaci\xf3n:"})," Room verifica las consultas SQL durante la compilaci\xf3n, lo que ayuda a evitar errores comunes en la sintaxis."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Integraci\xf3n con LiveData y RxJava:"})," Permite observar los cambios en la base de datos y responder de manera reactiva."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Migraciones f\xe1ciles:"})," Room facilita la gesti\xf3n de cambios en el esquema de la base de datos a lo largo del tiempo."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Anotaciones para definir entidades y consultas:"})," Room utiliza anotaciones de Java para definir las estructuras de las tablas y las operaciones de acceso a datos, lo que hace que el c\xf3digo sea m\xe1s claro y conciso."]}),"\n"]}),(0,i.jsx)(s.h3,{id:"componentes",children:"Componentes"}),(0,i.jsx)(s.p,{children:"Room est\xe1 formado por tres componentes principales:"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Entidad (Entity):"})," Representa una tabla en la base de datos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"DAO (Data Access Object):"})," Contiene los m\xe9todos para acceder a la base de datos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Base de Datos (Database):"})," Define la configuraci\xf3n de la base de datos y sirve como el punto principal de acceso a los datos persistidos."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"sharedpreferences",children:"SharedPreferences"}),(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"SharedPreferences"})," es una API de Android que permite almacenar y recuperar peque\xf1os conjuntos de datos en formato clave-valor de manera persistente. Se utiliza principalmente para ",(0,i.jsx)(s.strong,{children:"guardar configuraciones, preferencias del usuario o datos ligeros"})," que deben persistir incluso cuando la aplicaci\xf3n se cierra. Almacena los datos en archivos XML en el directorio privado de la aplicaci\xf3n, seguiendo un ",(0,i.jsx)(s.strong,{children:"formato clave-valor"}),", similar a un diccionario o ",(0,i.jsx)(s.code,{children:"HashMap"}),"."]}),(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:["La API ",(0,i.jsx)(s.strong,{children:"DataStore"})," es el sustituto moderno de SharedPreferences, ofreciendo mejoras en seguridad y almacenamiento as\xedncrono (sin bloqueo del hilo principal). No obstante, est\xe1 dise\xf1ado principalmente para Kotlin porque aprovecha ",(0,i.jsx)(s.strong,{children:"Kotlin Coroutines y Flow"}),", que no existen de forma nativa en Java."]})}),(0,i.jsx)(s.h3,{id:"principales-usos",children:"Principales usos"}),(0,i.jsx)(s.p,{children:"A continuaci\xf3n se destacan los principales usos de la API SharedPreferences:"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Guardar configuraciones del usuario"}),": Tema oscuro, idioma, notificaciones."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Almacenar estados simples"}),": \xdaltima pesta\xf1a abierta, preferencias de sonido."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Guardar tokens de sesi\xf3n o credenciales ligeras"}),": Aunque ",(0,i.jsx)(s.strong,{children:"no es recomendable para datos sensibles"})," como contrase\xf1as."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Seguimiento de primeros accesos"}),": Mostrar pantallas de bienvenida solo una vez."]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"cu\xe1ndo-usar-cada-tipo-de-persistencia",children:"\xbfCu\xe1ndo usar cada tipo de persistencia?"}),(0,i.jsx)(s.p,{children:"La elecci\xf3n del m\xe9todo de persistencia en Android depende de la naturaleza de los datos, su volumen, y cu\xe1nto tiempo necesitan ser retenidos. Puedes usar la siguiente gu\xeda como referencia:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"SharedPreferences"}),": Para datos peque\xf1os, simples y no sensibles (clave-valor)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Room (SQlite)"}),": Para datos estructurados y cuando tengas grandes vol\xfamenes de datos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bundle / ViewModel"}),": Para datos temporales durante la ejecuci\xf3n, como cambios de configuraci\xf3n, env\xedo de datos entre Activities y Fragments, etc."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,s,a)=>{a.d(s,{R:()=>r,x:()=>c});var n=a(6540);const i={},o=n.createContext(i);function r(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);